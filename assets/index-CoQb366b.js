(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Su(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function AS(){if(f0)return $l;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var d0;function SS(){return d0||(d0=1,Dm.exports=AS()),Dm.exports}var S=SS(),Mm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function RS(){if(m0)return Ce;m0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function L(P,ie,ue){this.props=P,this.context=ie,this.refs=F,this.updater=ue||x}L.prototype.isReactComponent={},L.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},L.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=L.prototype;function $(P,ie,ue){this.props=P,this.context=ie,this.refs=F,this.updater=ue||x}var J=$.prototype=new B;J.constructor=$,O(J,L.prototype),J.isPureReactComponent=!0;var oe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function I(P,ie,ue,se,ye,Oe){return ue=Oe.ref,{$$typeof:i,type:P,key:ie,ref:ue!==void 0?ue:null,props:Oe}}function R(P,ie){return I(P.type,ie,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function M(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ie[ue]})}var V=/\/+/g;function j(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ie.toString(36)}function D(){}function Ae(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function qe(P,ie,ue,se,ye){var Oe=typeof P;(Oe==="undefined"||Oe==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case i:case e:be=!0;break;case v:return be=P._init,qe(be(P._payload),ie,ue,se,ye)}}if(be)return ye=ye(P),be=se===""?"."+j(P,0):se,oe(ye)?(ue="",be!=null&&(ue=be.replace(V,"$&/")+"/"),qe(ye,ie,ue,"",function(ai){return ai})):ye!=null&&(C(ye)&&(ye=R(ye,ue+(ye.key==null||P&&P.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+be)),ie.push(ye)),1;be=0;var Dt=se===""?".":se+":";if(oe(P))for(var tt=0;tt<P.length;tt++)se=P[tt],Oe=Dt+j(se,tt),be+=qe(se,ie,ue,Oe,ye);else if(tt=T(P),typeof tt=="function")for(P=tt.call(P),tt=0;!(se=P.next()).done;)se=se.value,Oe=Dt+j(se,tt++),be+=qe(se,ie,ue,Oe,ye);else if(Oe==="object"){if(typeof P.then=="function")return qe(Ae(P),ie,ue,se,ye);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(P,ie,ue){if(P==null)return P;var se=[],ye=0;return qe(P,se,"","",function(Oe){return ie.call(ue,Oe,ye++)}),se}function re(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Be(){}return Ce.Children={map:X,forEach:function(P,ie,ue){X(P,function(){ie.apply(this,arguments)},ue)},count:function(P){var ie=0;return X(P,function(){ie++}),ie},toArray:function(P){return X(P,function(ie){return ie})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=L,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=$,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return le.H.useMemoCache(P)}},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cloneElement=function(P,ie,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var se=O({},P.props),ye=P.key,Oe=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(Oe=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!me.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(se[be]=ie[be]);var be=arguments.length-2;if(be===1)se.children=ue;else if(1<be){for(var Dt=Array(be),tt=0;tt<be;tt++)Dt[tt]=arguments[tt+2];se.children=Dt}return I(P.type,ye,void 0,void 0,Oe,se)},Ce.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ce.createElement=function(P,ie,ue){var se,ye={},Oe=null;if(ie!=null)for(se in ie.key!==void 0&&(Oe=""+ie.key),ie)me.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ie[se]);var be=arguments.length-2;if(be===1)ye.children=ue;else if(1<be){for(var Dt=Array(be),tt=0;tt<be;tt++)Dt[tt]=arguments[tt+2];ye.children=Dt}if(P&&P.defaultProps)for(se in be=P.defaultProps,be)ye[se]===void 0&&(ye[se]=be[se]);return I(P,Oe,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:d,render:P}},Ce.isValidElement=C,Ce.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:re}},Ce.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Ce.startTransition=function(P){var ie=le.T,ue={};le.T=ue;try{var se=P(),ye=le.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,he)}catch(Oe){he(Oe)}finally{le.T=ie}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(P){return le.H.use(P)},Ce.useActionState=function(P,ie,ue){return le.H.useActionState(P,ie,ue)},Ce.useCallback=function(P,ie){return le.H.useCallback(P,ie)},Ce.useContext=function(P){return le.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,ie){return le.H.useDeferredValue(P,ie)},Ce.useEffect=function(P,ie,ue){var se=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(P,ie)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(P,ie,ue){return le.H.useImperativeHandle(P,ie,ue)},Ce.useInsertionEffect=function(P,ie){return le.H.useInsertionEffect(P,ie)},Ce.useLayoutEffect=function(P,ie){return le.H.useLayoutEffect(P,ie)},Ce.useMemo=function(P,ie){return le.H.useMemo(P,ie)},Ce.useOptimistic=function(P,ie){return le.H.useOptimistic(P,ie)},Ce.useReducer=function(P,ie,ue){return le.H.useReducer(P,ie,ue)},Ce.useRef=function(P){return le.H.useRef(P)},Ce.useState=function(P){return le.H.useState(P)},Ce.useSyncExternalStore=function(P,ie,ue){return le.H.useSyncExternalStore(P,ie,ue)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var p0;function Jh(){return p0||(p0=1,Mm.exports=RS()),Mm.exports}var U=Jh();const bn=Su(U);var Pm={exports:{}},Kl={},km={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function IS(){return g0||(g0=1,function(i){function e(X,re){var he=X.length;X.push(re);e:for(;0<he;){var Be=he-1>>>1,P=X[Be];if(0<o(P,re))X[Be]=re,X[he]=P,he=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],he=X.pop();if(he!==re){X[0]=he;e:for(var Be=0,P=X.length,ie=P>>>1;Be<ie;){var ue=2*(Be+1)-1,se=X[ue],ye=ue+1,Oe=X[ye];if(0>o(se,he))ye<P&&0>o(Oe,se)?(X[Be]=Oe,X[ye]=he,Be=ye):(X[Be]=se,X[ue]=he,Be=ue);else if(ye<P&&0>o(Oe,he))X[Be]=Oe,X[ye]=he,Be=ye;else break e}}return re}function o(X,re){var he=X.sortIndex-re.sortIndex;return he!==0?he:X.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],v=1,w=null,T=3,x=!1,O=!1,F=!1,L=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var re=t(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=t(g)}}function le(X){if(F=!1,oe(X),!O)if(t(m)!==null)O=!0,me||(me=!0,j());else{var re=t(g);re!==null&&qe(le,re.startTime-X)}}var me=!1,I=-1,R=5,C=-1;function M(){return L?!0:!(i.unstable_now()-C<R)}function V(){if(L=!1,me){var X=i.unstable_now();C=X;var re=!0;try{e:{O=!1,F&&(F=!1,$(I),I=-1),x=!0;var he=T;try{t:{for(oe(X),w=t(m);w!==null&&!(w.expirationTime>X&&M());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,T=w.priorityLevel;var P=Be(w.expirationTime<=X);if(X=i.unstable_now(),typeof P=="function"){w.callback=P,oe(X),re=!0;break t}w===t(m)&&s(m),oe(X)}else s(m);w=t(m)}if(w!==null)re=!0;else{var ie=t(g);ie!==null&&qe(le,ie.startTime-X),re=!1}}break e}finally{w=null,T=he,x=!1}re=void 0}}finally{re?j():me=!1}}}var j;if(typeof J=="function")j=function(){J(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ae=D.port2;D.port1.onmessage=V,j=function(){Ae.postMessage(null)}}else j=function(){B(V,0)};function qe(X,re){I=B(function(){X(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(X){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var he=T;T=re;try{return X()}finally{T=he}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=T;T=X;try{return re()}finally{T=he}},i.unstable_scheduleCallback=function(X,re,he){var Be=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Be+he:Be):he=Be,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=he+P,X={id:v++,callback:re,priorityLevel:X,startTime:he,expirationTime:P,sortIndex:-1},he>Be?(X.sortIndex=he,e(g,X),t(m)===null&&X===t(g)&&(F?($(I),I=-1):F=!0,qe(le,he-Be))):(X.sortIndex=P,e(m,X),O||x||(O=!0,me||(me=!0,j()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var re=T;return function(){var he=T;T=re;try{return X.apply(this,arguments)}finally{T=he}}}}(Vm)),Vm}var y0;function CS(){return y0||(y0=1,km.exports=IS()),km.exports}var Lm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function xS(){if(v0)return Qt;v0=1;var i=Jh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},Qt.flushSync=function(m){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=v,s.d.f()}},Qt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Qt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Qt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:x}):v==="script"&&s.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Qt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Qt.requestFormReset=function(m){s.d.r(m)},Qt.unstable_batchedUpdates=function(m,g){return m(g)},Qt.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var _0;function NS(){if(_0)return Lm.exports;_0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=xS(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function OS(){if(E0)return Kl;E0=1;var i=CS(),e=Jh(),t=NS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function m(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),n;if(p===l)return d(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=p;break}if(b===l){E=!0,l=f,a=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===a){E=!0,a=p,l=f;break}if(b===l){E=!0,l=p,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case J:return(n.displayName||"Context")+".Provider";case $:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:Ae(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Ae(n(r))}catch{}}return null}var qe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Be=[],P=-1;function ie(n){return{current:n}}function ue(n){0>P||(n.current=Be[P],Be[P]=null,P--)}function se(n,r){P++,Be[P]=n.current,n.current=r}var ye=ie(null),Oe=ie(null),be=ie(null),Dt=ie(null);function tt(n,r){switch(se(be,r),se(Oe,n),se(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?z_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=z_(r),n=B_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),se(ye,n)}function ai(){ue(ye),ue(Oe),ue(be)}function pr(n){n.memoizedState!==null&&se(Dt,n);var r=ye.current,a=B_(r,n.type);r!==a&&(se(Oe,n),se(ye,a))}function Oi(n){Oe.current===n&&(ue(ye),ue(Oe)),Dt.current===n&&(ue(Dt),ql._currentValue=he)}var ms=Object.prototype.hasOwnProperty,ps=i.unstable_scheduleCallback,gs=i.unstable_cancelCallback,jo=i.unstable_shouldYield,Uu=i.unstable_requestPaint,Rn=i.unstable_now,Df=i.unstable_getCurrentPriorityLevel,zo=i.unstable_ImmediatePriority,ma=i.unstable_UserBlockingPriority,ys=i.unstable_NormalPriority,Mf=i.unstable_LowPriority,pa=i.unstable_IdlePriority,Bo=i.log,ju=i.unstable_setDisableYieldValue,ht=null,$e=null;function dn(n){if(typeof Bo=="function"&&ju(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ht,n)}catch{}}var $t=Math.clz32?Math.clz32:vs,zu=Math.log,Pf=Math.LN2;function vs(n){return n>>>=0,n===0?32:31-(zu(n)/Pf|0)|0}var _s=256,Es=4194304;function Fn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ga(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=Fn(l):(E&=b,E!==0?f=Fn(E):a||(a=b&~n,a!==0&&(f=Fn(a))))):(b=l&~p,b!==0?f=Fn(b):E!==0?f=Fn(E):a||(a=l&~n,a!==0&&(f=Fn(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function Ts(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function qo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),n}function Fo(){var n=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),n}function Di(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Mi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Go(n,r,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-$t(a),ee=1<<W;b[W]=0,N[W]=-1;var Y=G[W];if(Y!==null)for(G[W]=null,W=0;W<Y.length;W++){var K=Y[W];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&oi(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function oi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-$t(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Yo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function gr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ya(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yr(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function Bu(n,r){var a=re.p;try{return re.p=n,r()}finally{re.p=a}}var rt=Math.random().toString(36).slice(2),Rt="__reactFiber$"+rt,Et="__reactProps$"+rt,In="__reactContainer$"+rt,$o="__reactEvents$"+rt,kf="__reactListeners$"+rt,vr="__reactHandles$"+rt,qu="__reactResources$"+rt,ws="__reactMarker$"+rt;function _r(n){delete n[Rt],delete n[Et],delete n[$o],delete n[kf],delete n[vr]}function Pi(n){var r=n[Rt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[In]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=G_(n);n!==null;){if(a=n[Rt])return a;n=G_(n)}return r}n=a,a=n.parentNode}return null}function li(n){if(n=n[Rt]||n[In]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ui(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function tn(n){var r=n[qu];return r||(r=n[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[ws]=!0}var Ko=new Set,va={};function Gn(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(va[n]=r,n=0;n<r.length;n++)Ko.add(r[n])}var Hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fu={},bs={};function Gu(n){return ms.call(bs,n)?!0:ms.call(Fu,n)?!1:Hu.test(n)?bs[n]=!0:(Fu[n]=!0,!1)}function Er(n,r,a){if(Gu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ci(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function jt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var As,Yu;function Vi(n){if(As===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);As=r&&r[1]||"",Yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+n+Yu}var _a=!1;function Ea(n,r){if(!n||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var Y=K}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(K){Y=K}n.call(ee.prototype)}}else{try{throw Error()}catch(K){Y=K}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var N=E.split(`
`),G=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Vi(a):""}function Qo(n){switch(n.tag){case 26:case 27:case 5:return Vi(n.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return Ea(n.type,!1);case 11:return Ea(n.type.render,!1);case 1:return Ea(n.type,!0);case 31:return Vi("Activity");default:return""}}function Ta(n){try{var r="";do r+=Qo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vf(n){var r=Xo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function wa(n){n._valueTracker||(n._valueTracker=Vf(n))}function Wo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Xo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lf=/[\n"\\]/g;function Tt(n){return n.replace(Lf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Tr(n,E,nn(r)):a!=null?Tr(n,E,nn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+nn(b):n.removeAttribute("name")}function Rs(n,r,a,l,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Tr(n,r,a){r==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Li(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Xe(n,r,a){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+nn(a):""}function Is(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Cs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Zo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&$u(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&$u(n,p,r[p])}function Jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(n){return jf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ui=null;function xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ji=null,zi=null;function el(n){var r=li(n);if(r&&(n=r.stateNode)){var a=n[Et]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Et]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Wo(l)}break e;case"textarea":Xe(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Li(n,!!a.multiple,r,!1)}}}var hi=!1;function Ku(n,r,a){if(hi)return n(r,a);hi=!0;try{var l=n(r);return l}finally{if(hi=!1,(ji!==null||zi!==null)&&(Bc(),ji&&(r=ji,n=zi,zi=ji=null,el(r),n)))for(r=0;r<n.length;r++)el(n[r])}}function xs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Yn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Nn=!1}var fi=null,wr=null,Bi=null;function tl(){if(Bi)return Bi;var n,r=wr,a=r.length,l,f="value"in fi?fi.value:fi.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[p-l];l++);return Bi=f.slice(n,1<l?1-l:void 0)}function di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function nl(){return!1}function Mt(n){function r(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?mi:nl,this.isPropagationStopped=nl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Mt(Ge),Os=v({},Ge,{view:0,detail:0}),Qu=Mt(Os),Sa,Ra,pi,Ds=v({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(Sa=n.screenX-pi.screenX,Ra=n.screenY-pi.screenY):Ra=Sa=0,pi=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:Ra}}),On=Mt(Ds),Xu=v({},Ds,{dataTransfer:0}),zf=Mt(Xu),Ms=v({},Os,{relatedTarget:0}),Ia=Mt(Ms),il=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Mt(il),Wu=v({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xa=Mt(Wu),Bf=v({},Ge,{data:0}),rl=Mt(Bf),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ju[n])?!!r[n]:!1}function ks(){return sl}var ec=v({},Os,{key:function(n){if(n.key){var r=Ps[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Na=Mt(ec),tc=v({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Mt(tc),qi=v({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),nc=Mt(qi),ic=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),rc=Mt(ic),sc=v({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Mt(sc),rn=v({},Ge,{newState:0,oldState:0}),ac=Mt(rn),oc=[9,13,27,32],gi=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var y=Yn&&"TextEvent"in window&&!c,_=Yn&&(!gi||c&&8<c&&11>=c),A=" ",q=!1;function Q(n,r){switch(n){case"keyup":return oc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function It(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(q=!0,A);case"textInput":return n=r.data,n===A&&q?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!gi&&Q(n,r)?(n=tl(),Bi=wr=fi=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function Hi(n,r,a,l){ji?zi?zi.push(l):zi=[l]:ji=l,r=$c(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,yi=null;function ol(n){k_(n,0)}function lc(n){var r=ui(n);if(Wo(r))return n}function ny(n,r){if(n==="change")return r}var iy=!1;if(Yn){var qf;if(Yn){var Hf="oninput"in document;if(!Hf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Hf=typeof ry.oninput=="function"}qf=Hf}else qf=!1;iy=qf&&(!document.documentMode||9<document.documentMode)}function sy(){zt&&(zt.detachEvent("onpropertychange",ay),yi=zt=null)}function ay(n){if(n.propertyName==="value"&&lc(yi)){var r=[];Hi(r,yi,n,xn(n)),Ku(ol,r)}}function e1(n,r,a){n==="focusin"?(sy(),zt=r,yi=a,zt.attachEvent("onpropertychange",ay)):n==="focusout"&&sy()}function t1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lc(yi)}function n1(n,r){if(n==="click")return lc(r)}function i1(n,r){if(n==="input"||n==="change")return lc(r)}function r1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:r1;function ll(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ms.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function oy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,r){var a=oy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function uy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?uy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ss(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ss(n.document)}return r}function Ff(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var s1=Yn&&"documentMode"in document&&11>=document.documentMode,Da=null,Gf=null,ul=null,Yf=!1;function hy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||Da==null||Da!==Ss(l)||(l=Da,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=$c(Gf,"onSelect"),0<l.length&&(r=new Aa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Da)))}function Vs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ma={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},$f={},fy={};Yn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ls(n){if($f[n])return $f[n];if(!Ma[n])return n;var r=Ma[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in fy)return $f[n]=r[a];return n}var dy=Ls("animationend"),my=Ls("animationiteration"),py=Ls("animationstart"),a1=Ls("transitionrun"),o1=Ls("transitionstart"),l1=Ls("transitioncancel"),gy=Ls("transitionend"),yy=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function $n(n,r){yy.set(n,r),Gn(r,[n])}var vy=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=vy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ta(r)},vy.set(n,r),r)}return{value:n,source:r,stack:Ta(r)}}var Mn=[],Pa=0,Qf=0;function uc(){for(var n=Pa,r=Qf=Pa=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var p=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&_y(a,f,p)}}function cc(n,r,a,l){Mn[Pa++]=n,Mn[Pa++]=r,Mn[Pa++]=a,Mn[Pa++]=l,Qf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Xf(n,r,a,l){return cc(n,r,a,l),hc(n)}function ka(n,r){return cc(n,null,null,r),hc(n)}function _y(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-$t(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),p):null}function hc(n){if(50<Pl)throw Pl=0,nm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Va={};function u1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new u1(n,r,a,l)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fi(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ey(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function fc(n,r,a,l,f,p){var E=0;if(l=n,typeof n=="function")Wf(n)&&(E=1);else if(typeof n=="string")E=hS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=gn(31,a,r,f),n.elementType=C,n.lanes=p,n;case O:return Us(a.children,f,p,r);case F:E=8,f|=24;break;case L:return n=gn(12,a,r,f|2),n.elementType=L,n.lanes=p,n;case le:return n=gn(13,a,r,f),n.elementType=le,n.lanes=p,n;case me:return n=gn(19,a,r,f),n.elementType=me,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:case J:E=10;break e;case $:E=9;break e;case oe:E=11;break e;case I:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function Us(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function Zf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Jf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var La=[],Ua=0,dc=null,mc=0,Pn=[],kn=0,js=null,Gi=1,Yi="";function zs(n,r){La[Ua++]=mc,La[Ua++]=dc,dc=n,mc=r}function Ty(n,r,a){Pn[kn++]=Gi,Pn[kn++]=Yi,Pn[kn++]=js,js=n;var l=Gi;n=Yi;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var p=32-$t(r)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Gi=1<<32-$t(r)+f|a<<f|l,Yi=p+n}else Gi=1<<p|a<<f|l,Yi=n}function ed(n){n.return!==null&&(zs(n,1),Ty(n,1,0))}function td(n){for(;n===dc;)dc=La[--Ua],La[Ua]=null,mc=La[--Ua],La[Ua]=null;for(;n===js;)js=Pn[--kn],Pn[kn]=null,Yi=Pn[--kn],Pn[kn]=null,Gi=Pn[--kn],Pn[kn]=null}var sn=null,ft=null,Fe=!1,Bs=null,vi=!1,nd=Error(s(519));function qs(n){var r=Error(s(418,""));throw fl(Dn(r,n)),nd}function wy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Rt]=n,r[Et]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Pe(Vl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Is(r,l.value,l.defaultValue,l.children),wa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Kc),r=!0):r=!1,r||qs(n)}function by(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:sn=sn.return}}function cl(n){if(n!==sn)return!1;if(!Fe)return by(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||vm(n.type,n.memoizedProps)),a=!a),a&&ft&&qs(n),by(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=Qn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,Ur(n.type)?(n=wm,wm=null,ft=n):ft=r):ft=sn?Qn(n.stateNode.nextSibling):null;return!0}function hl(){ft=sn=null,Fe=!1}function Ay(){var n=Bs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Bs=null),n}function fl(n){Bs===null?Bs=[n]:Bs.push(n)}var id=ie(null),Hs=null,$i=null;function br(n,r,a){se(id,r._currentValue),r._currentValue=a}function Ki(n){n._currentValue=id.current,ue(id)}function rd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function sd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),rd(p.return,a,n),l||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),rd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function dl(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&sd(r,n,a,l),r.flags|=262144}function pc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){Hs=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Sy(Hs,n)}function gc(n,r){return Hs===null&&Fs(n),Sy(n,r)}function Sy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(s(308));$i=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else $i=$i.next=r;return a}var c1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},h1=i.unstable_scheduleCallback,f1=i.unstable_NormalPriority,xt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new c1,data:new Map,refCount:0}}function ml(n){n.refCount--,n.refCount===0&&h1(f1,function(){n.controller.abort()})}var pl=null,od=0,ja=0,za=null;function d1(n,r){if(pl===null){var a=pl=[];od=0,ja=um(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,r.then(Ry,Ry),r}function Ry(){if(--od===0&&pl!==null){za!==null&&(za.status="fulfilled");var n=pl;pl=null,ja=0,za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function m1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Iy=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&d1(n,r),Iy!==null&&Iy(n,r)};var Gs=ie(null);function ld(){var n=Gs.current;return n!==null?n:nt.pooledCache}function yc(n,r){r===null?se(Gs,Gs.current):se(Gs,r.pool)}function Cy(){var n=ld();return n===null?null:{parent:xt._currentValue,pool:n}}var gl=Error(s(460)),xy=Error(s(474)),vc=Error(s(542)),ud={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _c(){}function Oy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(_c,_c),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,My(n),n;default:if(typeof r.status=="string")r.then(_c,_c);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,My(n),n}throw yl=r,gl}}var yl=null;function Dy(){if(yl===null)throw Error(s(459));var n=yl;return yl=null,n}function My(n){if(n===gl||n===vc)throw Error(s(483))}var Ar=!1;function cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Sr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hc(n),_y(n,null,a),r}return cc(n,l,r,a),hc(n)}function vl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Yo(n,a)}}function fd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var dd=!1;function _l(){if(dd){var n=za;if(n!==null)throw n}}function El(n,r,a,l){dd=!1;var f=n.updateQueue;Ar=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,G=N.next;N.next=null,E===null?p=G:E.next=G,E=N;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=G:b.next=G,W.lastBaseUpdate=N))}if(p!==null){var ee=f.baseState;E=0,W=G=N=null,b=p;do{var Y=b.lane&-536870913,K=Y!==b.lane;if(K?(je&Y)===Y:(l&Y)===Y){Y!==0&&Y===ja&&(dd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,ve=b;Y=r;var Je=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){ee=we.call(Je,ee,Y);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,Y=typeof we=="function"?we.call(Je,ee,Y):we,Y==null)break e;ee=v({},ee,Y);break e;case 2:Ar=!0}}Y=b.callback,Y!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(G=W=K,N=ee):W=W.next=K,E|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),Pr|=E,n.lanes=E,n.memoizedState=ee}}function Py(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ky(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Py(a[n],r)}var Ba=ie(null),Ec=ie(0);function Vy(n,r){n=tr,se(Ec,n),se(Ba,r),tr=n|r.baseLanes}function md(){se(Ec,tr),se(Ba,Ba.current)}function pd(){tr=Ec.current,ue(Ba),ue(Ec)}var Ir=0,xe=null,We=null,wt=null,Tc=!1,qa=!1,Ys=!1,wc=0,Tl=0,Ha=null,p1=0;function gt(){throw Error(s(321))}function gd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function yd(n,r,a,l,f,p){return Ir=p,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?_v:Ev,Ys=!1,p=a(l,f),Ys=!1,qa&&(p=Uy(r,a,l,f)),Ly(n),p}function Ly(n){X.H=Cc;var r=We!==null&&We.next!==null;if(Ir=0,wt=We=xe=null,Tc=!1,Tl=0,Ha=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&pc(n)&&(kt=!0))}function Uy(n,r,a,l){xe=n;var f=0;do{if(qa&&(Ha=null),Tl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,wt=We=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=w1,p=r(a,l)}while(qa);return p}function g1(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?wl(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(xe.flags|=1024),r}function vd(){var n=wc!==0;return wc=0,n}function _d(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Ed(n){if(Tc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Tc=!1}Ir=0,wt=We=xe=null,qa=!1,Tl=wc=0,Ha=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?xe.memoizedState=wt=n:wt=wt.next=n,wt}function bt(){if(We===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=wt===null?xe.memoizedState:wt.next;if(r!==null)wt=r,We=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?xe.memoizedState=wt=n:wt=wt.next=n}return wt}function Td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var r=Tl;return Tl+=1,Ha===null&&(Ha=[]),n=Oy(Ha,n,r),r=xe,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?_v:Ev),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===J)return Kt(n)}throw Error(s(438,String(n)))}function wd(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Td(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function Qi(n,r){return typeof r=="function"?r(n):r}function Ac(n){var r=bt();return bd(r,We,n)}function bd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var b=E=null,N=null,G=r,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(je&ee)===ee:(Ir&ee)===ee){var Y=G.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===ja&&(W=!0);else if((Ir&Y)===Y){G=G.next,Y===ja&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=ee,E=p):N=N.next=ee,xe.lanes|=Y,Pr|=Y;ee=G.action,Ys&&a(p,ee),p=G.hasEagerState?G.eagerState:a(p,ee)}else Y={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=Y,E=p):N=N.next=Y,xe.lanes|=ee,Pr|=ee;G=G.next}while(G!==null&&G!==r);if(N===null?E=p:N.next=b,!pn(p,n.memoizedState)&&(kt=!0,W&&(a=za,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=N,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Ad(n){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);pn(p,r.memoizedState)||(kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function jy(n,r,a){var l=xe,f=bt(),p=Fe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((We||f).memoizedState,a);E&&(f.memoizedState=a,kt=!0),f=f.queue;var b=qy.bind(null,l,f,n);if(bl(2048,8,b,[n]),f.getSnapshot!==r||E||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Sc(),By.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));p||(Ir&124)!==0||zy(l,r,a)}return a}function zy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Td(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function By(n,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&Fy(n)}function qy(n,r,a){return a(function(){Hy(r)&&Fy(n)})}function Hy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function Fy(n){var r=ka(n,2);r!==null&&Tn(r,n,2)}function Sd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Ys){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},r}function Gy(n,r,a,l){return n.baseState=a,bd(n,We,typeof l=="function"?l:Qi)}function y1(n,r,a,l,f){if(Ic(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};X.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Yy(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Yy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=X.T,E={};X.T=E;try{var b=a(f,l),N=X.S;N!==null&&N(E,b),$y(n,r,b)}catch(G){Rd(n,r,G)}finally{X.T=p}}else try{p=a(f,l),$y(n,r,p)}catch(G){Rd(n,r,G)}}function $y(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(n,r,l)},function(l){return Rd(n,r,l)}):Ky(n,r,a)}function Ky(n,r,a){r.status="fulfilled",r.value=a,Qy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Yy(n,a)))}function Rd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Qy(r),r=r.next;while(r!==l)}n.action=null}function Qy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Xy(n,r){return r}function Wy(n,r){if(Fe){var a=nt.formState;if(a!==null){e:{var l=xe;if(Fe){if(ft){t:{for(var f=ft,p=vi;f.nodeType!==8;){if(!p){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ft=Qn(f.nextSibling),l=f.data==="F!";break e}}qs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=l,a=gv.bind(null,xe,l),l.dispatch=a,l=Sd(!1),p=Od.bind(null,xe,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=y1.bind(null,xe,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Zy(n){var r=bt();return Jy(r,We,n)}function Jy(n,r,a){if(r=bd(n,r,Xy)[0],n=Ac(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wl(r)}catch(E){throw E===gl?vc:E}else l=r;r=bt();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Fa(9,Sc(),v1.bind(null,f,a),null)),[l,p,n]}function v1(n,r){n.action=r}function ev(n){var r=bt(),a=We;if(a!==null)return Jy(r,a,n);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Fa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Td(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Sc(){return{destroy:void 0,resource:void 0}}function tv(){return bt().memoizedState}function Rc(n,r,a,l){var f=an();l=l===void 0?null:l,xe.flags|=n,f.memoizedState=Fa(1|r,Sc(),a,l)}function bl(n,r,a,l){var f=bt();l=l===void 0?null:l;var p=f.memoizedState.inst;We!==null&&l!==null&&gd(l,We.memoizedState.deps)?f.memoizedState=Fa(r,p,a,l):(xe.flags|=n,f.memoizedState=Fa(1|r,p,a,l))}function nv(n,r){Rc(8390656,8,n,r)}function iv(n,r){bl(2048,8,n,r)}function rv(n,r){return bl(4,2,n,r)}function sv(n,r){return bl(4,4,n,r)}function av(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ov(n,r,a){a=a!=null?a.concat([n]):null,bl(4,4,av.bind(null,r,n),a)}function Id(){}function lv(n,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&gd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function uv(n,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&gd(r,l[1]))return l[0];if(l=n(),Ys){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function Cd(n,r,a){return a===void 0||(Ir&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=f_(),xe.lanes|=n,Pr|=n,a)}function cv(n,r,a,l){return pn(a,r)?a:Ba.current!==null?(n=Cd(n,a,l),pn(n,r)||(kt=!0),n):(Ir&42)===0?(kt=!0,n.memoizedState=a):(n=f_(),xe.lanes|=n,Pr|=n,r)}function hv(n,r,a,l,f){var p=re.p;re.p=p!==0&&8>p?p:8;var E=X.T,b={};X.T=b,Od(n,!1,r,a);try{var N=f(),G=X.S;if(G!==null&&G(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=m1(N,l);Al(n,r,W,En(n))}else Al(n,r,l,En(n))}catch(ee){Al(n,r,{then:function(){},status:"rejected",reason:ee},En())}finally{re.p=p,X.T=E}}function _1(){}function xd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=fv(n).queue;hv(n,f,r,he,a===null?_1:function(){return dv(n),a(l)})}function fv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function dv(n){var r=fv(n).next.queue;Al(n,r,{},En())}function Nd(){return Kt(ql)}function mv(){return bt().memoizedState}function pv(){return bt().memoizedState}function E1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=Sr(a);var l=Rr(r,n,a);l!==null&&(Tn(l,r,a),vl(l,r,a)),r={cache:ad()},n.payload=r;return}r=r.return}}function T1(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(n)?yv(r,a):(a=Xf(n,r,a,l),a!==null&&(Tn(a,n,l),vv(a,r,l)))}function gv(n,r,a){var l=En();Al(n,r,a,l)}function Al(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))yv(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,a);if(f.hasEagerState=!0,f.eagerState=b,pn(b,E))return cc(n,r,f,0),nt===null&&uc(),!1}catch{}finally{}if(a=Xf(n,r,f,l),a!==null)return Tn(a,n,l),vv(a,r,l),!0}return!1}function Od(n,r,a,l){if(l={lane:2,revertLane:um(),action:l,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(r)throw Error(s(479))}else r=Xf(n,a,l,2),r!==null&&Tn(r,n,2)}function Ic(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function yv(n,r){qa=Tc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function vv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Yo(n,a)}}var Cc={readContext:Kt,use:bc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},_v={readContext:Kt,use:bc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:nv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Rc(4194308,4,av.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Rc(4194308,4,n,r)},useInsertionEffect:function(n,r){Rc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Ys){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ys){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=T1.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=Sd(n);var r=n.queue,a=gv.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(n,r){var a=an();return Cd(a,n,r)},useTransition:function(){var n=Sd(!1);return n=hv.bind(null,xe,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,f=an();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(je&124)!==0||zy(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,nv(qy.bind(null,l,p,n),[n]),l.flags|=2048,Fa(9,Sc(),By.bind(null,l,p,a,r),null),a},useId:function(){var n=an(),r=nt.identifierPrefix;if(Fe){var a=Yi,l=Gi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=wc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=p1++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Nd,useFormState:Wy,useActionState:Wy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Od.bind(null,xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:wd,useCacheRefresh:function(){return an().memoizedState=E1.bind(null,xe)}},Ev={readContext:Kt,use:bc,useCallback:lv,useContext:Kt,useEffect:iv,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:uv,useReducer:Ac,useRef:tv,useState:function(){return Ac(Qi)},useDebugValue:Id,useDeferredValue:function(n,r){var a=bt();return cv(a,We.memoizedState,n,r)},useTransition:function(){var n=Ac(Qi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:jy,useId:mv,useHostTransitionStatus:Nd,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,r){var a=bt();return Gy(a,We,n,r)},useMemoCache:wd,useCacheRefresh:pv},w1={readContext:Kt,use:bc,useCallback:lv,useContext:Kt,useEffect:iv,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:uv,useReducer:Ad,useRef:tv,useState:function(){return Ad(Qi)},useDebugValue:Id,useDeferredValue:function(n,r){var a=bt();return We===null?Cd(a,n,r):cv(a,We.memoizedState,n,r)},useTransition:function(){var n=Ad(Qi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:jy,useId:mv,useHostTransitionStatus:Nd,useFormState:ev,useActionState:ev,useOptimistic:function(n,r){var a=bt();return We!==null?Gy(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:pv},Ga=null,Sl=0;function xc(n){var r=Sl;return Sl+=1,Ga===null&&(Ga=[]),Oy(Ga,n,r)}function Rl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Nc(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Tv(n){var r=n._init;return r(n._payload)}function wv(n){function r(z,k){if(n){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!n)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Fi(z,k),z.index=0,z.sibling=null,z}function p(z,k,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,k,H,Z){return k===null||k.tag!==6?(k=Zf(H,z.mode,Z),k.return=z,k):(k=f(k,H),k.return=z,k)}function N(z,k,H,Z){var de=H.type;return de===O?W(z,k,H.props.children,Z,H.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Tv(de)===k.type)?(k=f(k,H.props),Rl(k,H),k.return=z,k):(k=fc(H.type,H.key,H.props,null,z.mode,Z),Rl(k,H),k.return=z,k)}function G(z,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Jf(H,z.mode,Z),k.return=z,k):(k=f(k,H.children||[]),k.return=z,k)}function W(z,k,H,Z,de){return k===null||k.tag!==7?(k=Us(H,z.mode,Z,de),k.return=z,k):(k=f(k,H),k.return=z,k)}function ee(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Zf(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return H=fc(k.type,k.key,k.props,null,z.mode,H),Rl(H,k),H.return=z,H;case x:return k=Jf(k,z.mode,H),k.return=z,k;case R:var Z=k._init;return k=Z(k._payload),ee(z,k,H)}if(qe(k)||j(k))return k=Us(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return ee(z,xc(k),H);if(k.$$typeof===J)return ee(z,gc(z,k),H);Nc(z,k)}return null}function Y(z,k,H,Z){var de=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:b(z,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===de?N(z,k,H,Z):null;case x:return H.key===de?G(z,k,H,Z):null;case R:return de=H._init,H=de(H._payload),Y(z,k,H,Z)}if(qe(H)||j(H))return de!==null?null:W(z,k,H,Z,null);if(typeof H.then=="function")return Y(z,k,xc(H),Z);if(H.$$typeof===J)return Y(z,k,gc(z,H),Z);Nc(z,H)}return null}function K(z,k,H,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,b(k,z,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return z=z.get(Z.key===null?H:Z.key)||null,N(k,z,Z,de);case x:return z=z.get(Z.key===null?H:Z.key)||null,G(k,z,Z,de);case R:var De=Z._init;return Z=De(Z._payload),K(z,k,H,Z,de)}if(qe(Z)||j(Z))return z=z.get(H)||null,W(k,z,Z,de,null);if(typeof Z.then=="function")return K(z,k,H,xc(Z),de);if(Z.$$typeof===J)return K(z,k,H,gc(k,Z),de);Nc(k,Z)}return null}function we(z,k,H,Z){for(var de=null,De=null,pe=k,_e=k=0,Lt=null;pe!==null&&_e<H.length;_e++){pe.index>_e?(Lt=pe,pe=null):Lt=pe.sibling;var He=Y(z,pe,H[_e],Z);if(He===null){pe===null&&(pe=Lt);break}n&&pe&&He.alternate===null&&r(z,pe),k=p(He,k,_e),De===null?de=He:De.sibling=He,De=He,pe=Lt}if(_e===H.length)return a(z,pe),Fe&&zs(z,_e),de;if(pe===null){for(;_e<H.length;_e++)pe=ee(z,H[_e],Z),pe!==null&&(k=p(pe,k,_e),De===null?de=pe:De.sibling=pe,De=pe);return Fe&&zs(z,_e),de}for(pe=l(pe);_e<H.length;_e++)Lt=K(pe,z,_e,H[_e],Z),Lt!==null&&(n&&Lt.alternate!==null&&pe.delete(Lt.key===null?_e:Lt.key),k=p(Lt,k,_e),De===null?de=Lt:De.sibling=Lt,De=Lt);return n&&pe.forEach(function(Hr){return r(z,Hr)}),Fe&&zs(z,_e),de}function ve(z,k,H,Z){if(H==null)throw Error(s(151));for(var de=null,De=null,pe=k,_e=k=0,Lt=null,He=H.next();pe!==null&&!He.done;_e++,He=H.next()){pe.index>_e?(Lt=pe,pe=null):Lt=pe.sibling;var Hr=Y(z,pe,He.value,Z);if(Hr===null){pe===null&&(pe=Lt);break}n&&pe&&Hr.alternate===null&&r(z,pe),k=p(Hr,k,_e),De===null?de=Hr:De.sibling=Hr,De=Hr,pe=Lt}if(He.done)return a(z,pe),Fe&&zs(z,_e),de;if(pe===null){for(;!He.done;_e++,He=H.next())He=ee(z,He.value,Z),He!==null&&(k=p(He,k,_e),De===null?de=He:De.sibling=He,De=He);return Fe&&zs(z,_e),de}for(pe=l(pe);!He.done;_e++,He=H.next())He=K(pe,z,_e,He.value,Z),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?_e:He.key),k=p(He,k,_e),De===null?de=He:De.sibling=He,De=He);return n&&pe.forEach(function(bS){return r(z,bS)}),Fe&&zs(z,_e),de}function Je(z,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var de=H.key;k!==null;){if(k.key===de){if(de=H.type,de===O){if(k.tag===7){a(z,k.sibling),Z=f(k,H.props.children),Z.return=z,z=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Tv(de)===k.type){a(z,k.sibling),Z=f(k,H.props),Rl(Z,H),Z.return=z,z=Z;break e}a(z,k);break}else r(z,k);k=k.sibling}H.type===O?(Z=Us(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=fc(H.type,H.key,H.props,null,z.mode,Z),Rl(Z,H),Z.return=z,z=Z)}return E(z);case x:e:{for(de=H.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),Z=f(k,H.children||[]),Z.return=z,z=Z;break e}else{a(z,k);break}else r(z,k);k=k.sibling}Z=Jf(H,z.mode,Z),Z.return=z,z=Z}return E(z);case R:return de=H._init,H=de(H._payload),Je(z,k,H,Z)}if(qe(H))return we(z,k,H,Z);if(j(H)){if(de=j(H),typeof de!="function")throw Error(s(150));return H=de.call(H),ve(z,k,H,Z)}if(typeof H.then=="function")return Je(z,k,xc(H),Z);if(H.$$typeof===J)return Je(z,k,gc(z,H),Z);Nc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),Z=f(k,H),Z.return=z,z=Z):(a(z,k),Z=Zf(H,z.mode,Z),Z.return=z,z=Z),E(z)):a(z,k)}return function(z,k,H,Z){try{Sl=0;var de=Je(z,k,H,Z);return Ga=null,de}catch(pe){if(pe===gl||pe===vc)throw pe;var De=gn(29,pe,null,z.mode);return De.lanes=Z,De.return=z,De}finally{}}}var Ya=wv(!0),bv=wv(!1),Vn=ie(null),_i=null;function Cr(n){var r=n.alternate;se(Nt,Nt.current&1),se(Vn,n),_i===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(_i=n)}function Av(n){if(n.tag===22){if(se(Nt,Nt.current),se(Vn,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else xr()}function xr(){se(Nt,Nt.current),se(Vn,Vn.current)}function Xi(n){ue(Vn),_i===n&&(_i=null),ue(Nt)}var Nt=ie(0);function Oc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Tm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Dd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Md={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=Sr(l);f.payload=r,a!=null&&(f.callback=a),r=Rr(n,f,l),r!==null&&(Tn(r,n,l),vl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=Sr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Rr(n,f,l),r!==null&&(Tn(r,n,l),vl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=Sr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(n,l,a),r!==null&&(Tn(r,n,a),vl(r,n,a))}};function Sv(n,r,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(f,p):!0}function Rv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Md.enqueueReplaceState(r,r.state,null)}function $s(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Iv(n){Dc(n)}function Cv(n){console.error(n)}function xv(n){Dc(n)}function Mc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pd(n,r,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(n,r)},a}function Ov(n){return n=Sr(n),n.tag=3,n}function Dv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){Nv(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Nv(r,a,l),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function b1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return _i===null?rm():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ud?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),am(n,l,f)),!1;case 22:return a.flags|=65536,l===ud?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),am(n,l,f)),!1}throw Error(s(435,a.tag))}return am(n,l,f),rm(),!1}if(Fe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(n=Error(s(422),{cause:l}),fl(Dn(n,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),fl(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=Pd(n.stateNode,l,f),fd(n,f),dt!==4&&(dt=2)),!1;var p=Error(s(520),{cause:l});if(p=Dn(p,a),Ml===null?Ml=[p]:Ml.push(p),dt!==4&&(dt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Pd(a.stateNode,l,n),fd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(kr===null||!kr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ov(f),Dv(f,n,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var Mv=Error(s(461)),kt=!1;function Bt(n,r,a,l){r.child=n===null?bv(r,null,a,l):Ya(r,n.child,a,l)}function Pv(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Fs(r),l=yd(n,r,a,E,p,f),b=vd(),n!==null&&!kt?(_d(n,r,f),Wi(n,r,f)):(Fe&&b&&ed(r),r.flags|=1,Bt(n,r,l,f),r.child)}function kv(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Wf(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Vv(n,r,p,l,f)):(n=fc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!qd(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(E,l)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=Fi(p,l),n.ref=r.ref,n.return=r,r.child=n}function Vv(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if(ll(p,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=p,qd(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return kd(n,r,a,l,f)}function Lv(n,r,a){var l=r.pendingProps,f=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Uv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&yc(r,p!==null?p.cachePool:null),p!==null?Vy(r,p):md(),Av(r);else return r.lanes=r.childLanes=536870912,Uv(n,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(yc(r,p.cachePool),Vy(r,p),xr(),r.memoizedState=null):(n!==null&&yc(r,null),md(),xr());return Bt(n,r,f,a),r.child}function Uv(n,r,a,l){var f=ld();return f=f===null?null:{parent:xt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&yc(r,null),md(),Av(r),n!==null&&dl(n,r,l,!0),null}function Pc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function kd(n,r,a,l,f){return Fs(r),a=yd(n,r,a,l,void 0,f),l=vd(),n!==null&&!kt?(_d(n,r,f),Wi(n,r,f)):(Fe&&l&&ed(r),r.flags|=1,Bt(n,r,a,f),r.child)}function jv(n,r,a,l,f,p){return Fs(r),r.updateQueue=null,a=Uy(r,l,a,f),Ly(n),l=vd(),n!==null&&!kt?(_d(n,r,p),Wi(n,r,p)):(Fe&&l&&ed(r),r.flags|=1,Bt(n,r,a,p),r.child)}function zv(n,r,a,l,f){if(Fs(r),r.stateNode===null){var p=Va,E=a.contextType;typeof E=="object"&&E!==null&&(p=Kt(E)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Md,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},cd(r),E=a.contextType,p.context=typeof E=="object"&&E!==null?Kt(E):Va,p.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Dd(r,a,E,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Md.enqueueReplaceState(p,p.state,null),El(r,l,p,f),_l(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var b=r.memoizedProps,N=$s(a,b);p.props=N;var G=p.context,W=a.contextType;E=Va,typeof W=="object"&&W!==null&&(E=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||G!==E)&&Rv(r,p,l,E),Ar=!1;var Y=r.memoizedState;p.state=Y,El(r,l,p,f),_l(),G=r.memoizedState,b||Y!==G||Ar?(typeof ee=="function"&&(Dd(r,a,ee,l),G=r.memoizedState),(N=Ar||Sv(r,a,N,l,Y,G,E))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),p.props=l,p.state=G,p.context=E,l=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,hd(n,r),E=r.memoizedProps,W=$s(a,E),p.props=W,ee=r.pendingProps,Y=p.context,G=a.contextType,N=Va,typeof G=="object"&&G!==null&&(N=Kt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ee||Y!==N)&&Rv(r,p,l,N),Ar=!1,Y=r.memoizedState,p.state=Y,El(r,l,p,f),_l();var K=r.memoizedState;E!==ee||Y!==K||Ar||n!==null&&n.dependencies!==null&&pc(n.dependencies)?(typeof b=="function"&&(Dd(r,a,b,l),K=r.memoizedState),(W=Ar||Sv(r,a,W,l,Y,K,N)||n!==null&&n.dependencies!==null&&pc(n.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),p.props=l,p.state=K,p.context=N,l=W):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,Pc(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=Ya(r,n.child,null,f),r.child=Ya(r,null,a,f)):Bt(n,r,a,f),r.memoizedState=p.state,n=r.child):n=Wi(n,r,f),n}function Bv(n,r,a,l){return hl(),r.flags|=256,Bt(n,r,a,l),r.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(n){return{baseLanes:n,cachePool:Cy()}}function Ud(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Ln),n}function qv(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Cr(r):xr(),Fe){var b=ft,N;if(N=b){e:{for(N=b,b=vi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Qn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:js!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},N=gn(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,sn=r,ft=null,N=!0):N=!1}N||qs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Tm(b)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return b=l.children,l=l.fallback,f?(xr(),f=r.mode,b=kc({mode:"hidden",children:b},f),l=Us(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Ld(a),f.childLanes=Ud(n,E,a),r.memoizedState=Vd,l):(Cr(r),jd(r,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(p)r.flags&256?(Cr(r),r.flags&=-257,r=zd(n,r,a)):r.memoizedState!==null?(xr(),r.child=n.child,r.flags|=128,r=null):(xr(),f=l.fallback,b=r.mode,l=kc({mode:"visible",children:l.children},b),f=Us(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ya(r,n.child,null,a),l=r.child,l.memoizedState=Ld(a),l.childLanes=Ud(n,E,a),r.memoizedState=Vd,r=f);else if(Cr(r),Tm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,fl({value:l,source:null,stack:null}),r=zd(n,r,a)}else if(kt||dl(n,r,a,!1),E=(a&n.childLanes)!==0,kt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,ka(n,l),Tn(E,n,l),Mv;b.data==="$?"||rm(),r=zd(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,ft=Qn(b.nextSibling),sn=r,Fe=!0,Bs=null,vi=!1,n!==null&&(Pn[kn++]=Gi,Pn[kn++]=Yi,Pn[kn++]=js,Gi=n.id,Yi=n.overflow,js=r),r=jd(r,l.children),r.flags|=4096);return r}return f?(xr(),f=l.fallback,b=r.mode,N=n.child,G=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?f=Fi(G,f):(f=Us(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=Ld(a):(N=b.cachePool,N!==null?(G=xt._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Cy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Ud(n,E,a),r.memoizedState=Vd,l):(Cr(r),a=n.child,n=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function jd(n,r){return r=kc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function kc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function zd(n,r,a){return Ya(r,n.child,null,a),n=jd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Hv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),rd(n.return,r,a)}function Bd(n,r,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function Fv(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Bt(n,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hv(n,a,r);else if(n.tag===19)Hv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Nt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Oc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Bd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Oc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Bd(r,!0,a,null,p);break;case"together":Bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Pr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Fi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Fi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function qd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pc(n)))}function A1(n,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),br(r,xt,n.memoizedState.cache),hl();break;case 27:case 5:pr(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?qv(n,r,a):(Cr(r),n=Wi(n,r,a),n!==null?n.sibling:null);Cr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Fv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,Lv(n,r,a);case 24:br(r,xt,n.memoizedState.cache)}return Wi(n,r,a)}function Gv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!qd(n,a)&&(r.flags&128)===0)return kt=!1,A1(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&Ty(r,mc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Wf(l)?(n=$s(l,n),r.tag=1,r=zv(null,r,l,n,a)):(r.tag=0,r=kd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){r.tag=11,r=Pv(null,r,l,n,a);break e}else if(f===I){r.tag=14,r=kv(null,r,l,n,a);break e}}throw r=Ae(l)||l,Error(s(306,r,""))}}return r;case 0:return kd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=$s(l,r.pendingProps),zv(n,r,l,f,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,hd(n,r),El(r,l,null,a);var E=r.memoizedState;if(l=E.cache,br(r,xt,l),l!==p.cache&&sd(r,[xt],a,!0),_l(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Bv(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),fl(f),r=Bv(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=Qn(n.firstChild),sn=r,Fe=!0,Bs=null,vi=!0,a=bv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),l===f){r=Wi(n,r,a);break e}Bt(n,r,l,a)}r=r.child}return r;case 26:return Pc(n,r),n===null?(a=Q_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=Qc(be.current).createElement(a),l[Rt]=r,l[Et]=n,Ht(l,a,n),pt(l),r.stateNode=l):r.memoizedState=Q_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return pr(r),n===null&&Fe&&(l=r.stateNode=Y_(r.type,r.pendingProps,be.current),sn=r,vi=!0,f=ft,Ur(r.type)?(wm=f,ft=Qn(l.firstChild)):ft=f),Bt(n,r,r.pendingProps.children,a),Pc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((f=l=ft)&&(l=Z1(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,sn=r,ft=Qn(l.firstChild),vi=!1,f=!0):f=!1),f||qs(r)),pr(r),f=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,vm(f,p)?l=null:E!==null&&vm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=yd(n,r,g1,null,null,a),ql._currentValue=f),Pc(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=ft)&&(a=J1(a,r.pendingProps,vi),a!==null?(r.stateNode=a,sn=r,ft=null,n=!0):n=!1),n||qs(r)),null;case 13:return qv(n,r,a);case 4:return tt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ya(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return Pv(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,br(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Fs(r),f=Kt(f),l=l(f),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return kv(n,r,r.type,r.pendingProps,a);case 15:return Vv(n,r,r.type,r.pendingProps,a);case 19:return Fv(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=kc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Lv(n,r,a);case 24:return Fs(r),l=Kt(xt),n===null?(f=ld(),f===null&&(f=nt,p=ad(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},cd(r),br(r,xt,f)):((n.lanes&a)!==0&&(hd(n,r),El(r,null,null,a),_l()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),br(r,xt,l)):(l=p.cache,br(r,xt,l),l!==f.cache&&sd(r,[xt],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(n){n.flags|=4}function Yv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e0(r)){if(r=Vn.current,r!==null&&((je&4194048)===je?_i!==null:(je&62914560)!==je&&(je&536870912)===0||r!==_i))throw yl=ud,xy;n.flags|=8192}}function Vc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Fo():536870912,n.lanes|=r,Xa|=r)}function Il(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function S1(n,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(xt),ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(r)?Zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ay())),ut(r),null;case 26:return a=r.memoizedState,n===null?(Zi(r),a!==null?(ut(r),Yv(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Zi(r),ut(r),Yv(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&Zi(r),ut(r),r.flags&=-16777217),null;case 27:Oi(r),a=be.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=ye.current,cl(r)?wy(r):(n=Y_(f,l,a),r.stateNode=n,Zi(r))}return ut(r),null;case 5:if(Oi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=ye.current,cl(r))wy(r);else{switch(f=Qc(be.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Rt]=r,n[Et]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zi(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,cl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Rt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(n.nodeValue,a)),n||qs(r)}else n=Qc(n).createTextNode(l),n[Rt]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=cl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=Ay(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),ut(r),null;case 4:return ai(),n===null&&dm(r.stateNode.containerInfo),ut(r),null;case 10:return Ki(r.type),ut(r),null;case 19:if(ue(Nt),f=r.memoizedState,f===null)return ut(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Il(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Oc(n),p!==null){for(r.flags|=128,Il(f,!1),n=p.updateQueue,r.updateQueue=n,Vc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ey(a,n),a=a.sibling;return se(Nt,Nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Rn()>jc&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304)}else{if(!l)if(n=Oc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Vc(r,n),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Fe)return ut(r),null}else 2*Rn()-f.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,n=Nt.current,se(Nt,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return Xi(r),pd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(xt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function R1(n,r){switch(td(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ki(xt),ai(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Oi(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));hl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Nt),null;case 4:return ai(),null;case 10:return Ki(r.type),null;case 22:case 23:return Xi(r),pd(),n!==null&&ue(Gs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ki(xt),null;case 25:return null;default:return null}}function $v(n,r){switch(td(r),r.tag){case 3:Ki(xt),ai();break;case 26:case 27:case 5:Oi(r);break;case 4:ai();break;case 13:Xi(r);break;case 19:ue(Nt);break;case 10:Ki(r.type);break;case 22:case 23:Xi(r),pd(),n!==null&&ue(Gs);break;case 24:Ki(xt)}}function Cl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){et(r,r.return,b)}}function Nr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var N=a,G=b;try{G()}catch(W){et(f,N,W)}}}l=l.next}while(l!==p)}}catch(W){et(r,r.return,W)}}function Kv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ky(r,a)}catch(l){et(n,n.return,l)}}}function Qv(n,r,a){a.props=$s(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){et(n,r,l)}}function xl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){et(n,r,f)}}function Ei(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,r,f)}else a.current=null}function Xv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function Hd(n,r,a){try{var l=n.stateNode;$1(l,n.type,a,r),l[Et]=r}catch(f){et(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ur(n.type)||n.tag===4}function Fd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ur(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kc));else if(l!==4&&(l===27&&Ur(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Gd(n,r,a),n=n.sibling;n!==null;)Gd(n,r,a),n=n.sibling}function Lc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Ur(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Lc(n,r,a),n=n.sibling;n!==null;)Lc(n,r,a),n=n.sibling}function Zv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ht(r,l,a),r[Rt]=n,r[Et]=a}catch(p){et(n,n.return,p)}}var Ji=!1,yt=!1,Yd=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function I1(n,r){if(n=n.containerInfo,gm=th,n=cy(n),Ff(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,G=0,W=0,ee=n,Y=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(b=E+f),ee!==p||l!==0&&ee.nodeType!==3||(N=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(K=ee.firstChild)!==null;)Y=ee,ee=K;for(;;){if(ee===n)break t;if(Y===a&&++G===f&&(b=E),Y===p&&++W===l&&(N=E),(K=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=K}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:n,selectionRange:a},th=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var we=$s(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){et(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}}function e_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(n,a),l&4&&Cl(5,a);break;case 1:if(Or(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){et(a,a.return,E)}else{var f=$s(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&Kv(a),l&512&&xl(a,a.return);break;case 3:if(Or(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ky(n,r)}catch(E){et(a,a.return,E)}}break;case 27:r===null&&l&4&&Zv(a);case 26:case 5:Or(n,a),r===null&&l&4&&Xv(a),l&512&&xl(a,a.return);break;case 12:Or(n,a);break;case 13:Or(n,a),l&4&&i_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=V1.bind(null,a),eS(n,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||yt,f=Ji;var p=yt;Ji=l,(yt=r)&&!p?Dr(n,a,(a.subtreeFlags&8772)!==0):Or(n,a),Ji=f,yt=p}break;case 30:break;default:Or(n,a)}}function t_(n){var r=n.alternate;r!==null&&(n.alternate=null,t_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&_r(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,on=!1;function er(n,r,a){for(a=a.child;a!==null;)n_(n,r,a),a=a.sibling}function n_(n,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||Ei(a,r),er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||Ei(a,r);var l=st,f=on;Ur(a.type)&&(st=a.stateNode,on=!1),er(n,r,a),Ul(a.stateNode),st=l,on=f;break;case 5:yt||Ei(a,r);case 6:if(l=st,f=on,st=null,er(n,r,a),st=l,on=f,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(p){et(a,r,p)}else try{st.removeChild(a.stateNode)}catch(p){et(a,r,p)}break;case 18:st!==null&&(on?(n=st,F_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yl(n)):F_(st,a.stateNode));break;case 4:l=st,f=on,st=a.stateNode.containerInfo,on=!0,er(n,r,a),st=l,on=f;break;case 0:case 11:case 14:case 15:yt||Nr(2,a,r),yt||Nr(4,a,r),er(n,r,a);break;case 1:yt||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qv(a,r,l)),er(n,r,a);break;case 21:er(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,er(n,r,a),yt=l;break;default:er(n,r,a)}}function i_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(a){et(r,r.return,a)}}function C1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Jv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Jv),r;default:throw Error(s(435,n.tag))}}function $d(n,r){var a=C1(n);r.forEach(function(l){var f=L1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Ur(b.type)){st=b.stateNode,on=!1;break e}break;case 5:st=b.stateNode,on=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(st===null)throw Error(s(160));n_(p,E,f),st=null,on=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)r_(r,n),r=r.sibling}var Kn=null;function r_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),vn(n),l&4&&(Nr(3,n,n.return),Cl(3,n),Nr(5,n,n.return));break;case 1:yn(r,n),vn(n),l&512&&(yt||a===null||Ei(a,a.return)),l&64&&Ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(yn(r,n),vn(n),l&512&&(yt||a===null||Ei(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ws]||p[Rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ht(p,l,a),p[Rt]=n,pt(p),l=p;break e;case"link":var E=Z_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(l),Ht(p,l,a),f.head.appendChild(p);break;case"meta":if(E=Z_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}p=f.createElement(l),Ht(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Rt]=n,pt(p),l=p}n.stateNode=l}else J_(f,n.type,n.stateNode);else n.stateNode=W_(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?J_(f,n.type,n.stateNode):W_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Hd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),vn(n),l&512&&(yt||a===null||Ei(a,a.return)),a!==null&&l&4&&Hd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),vn(n),l&512&&(yt||a===null||Ei(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(K){et(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Hd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Yd=!0);break;case 6:if(yn(r,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){et(n,n.return,K)}}break;case 3:if(Zc=null,f=Kn,Kn=Xc(r.containerInfo),yn(r,n),Kn=f,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(K){et(n,n.return,K)}Yd&&(Yd=!1,s_(n));break;case 4:l=Kn,Kn=Xc(n.stateNode.containerInfo),yn(r,n),vn(n),Kn=l;break;case 12:yn(r,n),vn(n);break;case 13:yn(r,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jd=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$d(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=Ji,W=yt;if(Ji=G||f,yt=W||N,yn(r,n),yt=W,Ji=G,vn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Ji||yt||Ks(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(p=N.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var ee=N.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){et(N,N.return,K)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(K){et(N,N.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$d(n,a))));break;case 19:yn(r,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$d(n,l)));break;case 30:break;case 21:break;default:yn(r,n),vn(n)}}function vn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Wv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=Fd(n);Lc(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(Cn(E,""),a.flags&=-33);var b=Fd(n);Lc(n,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,G=Fd(n);Gd(n,G,N);break;default:throw Error(s(161))}}catch(W){et(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function s_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;s_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Or(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(n,r.alternate,r),r=r.sibling}function Ks(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),Ks(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Qv(r,r.return,a),Ks(r);break;case 27:Ul(r.stateNode);case 26:case 5:Ei(r,r.return),Ks(r);break;case 22:r.memoizedState===null&&Ks(r);break;case 30:Ks(r);break;default:Ks(r)}n=n.sibling}}function Dr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Dr(f,p,a),Cl(4,p);break;case 1:if(Dr(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){et(l,l.return,G)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Py(N[f],b)}catch(G){et(l,l.return,G)}}a&&E&64&&Kv(p),xl(p,p.return);break;case 27:Zv(p);case 26:case 5:Dr(f,p,a),a&&l===null&&E&4&&Xv(p),xl(p,p.return);break;case 12:Dr(f,p,a);break;case 13:Dr(f,p,a),a&&E&4&&i_(f,p);break;case 22:p.memoizedState===null&&Dr(f,p,a),xl(p,p.return);break;case 30:break;default:Dr(f,p,a)}r=r.sibling}}function Kd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ml(a))}function Qd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n))}function Ti(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(n,r,a,l),r=r.sibling}function a_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(n,r,a,l),f&2048&&Cl(9,r);break;case 1:Ti(n,r,a,l);break;case 3:Ti(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n)));break;case 12:if(f&2048){Ti(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){et(r,r.return,N)}}else Ti(n,r,a,l);break;case 13:Ti(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Ti(n,r,a,l):Nl(n,r):p._visibility&2?Ti(n,r,a,l):(p._visibility|=2,$a(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Kd(E,r);break;case 24:Ti(n,r,a,l),f&2048&&Qd(r.alternate,r);break;default:Ti(n,r,a,l)}}function $a(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,b=a,N=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:$a(p,E,b,N,f),Cl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?$a(p,E,b,N,f):Nl(p,E):(W._visibility|=2,$a(p,E,b,N,f)),f&&G&2048&&Kd(E.alternate,E);break;case 24:$a(p,E,b,N,f),f&&G&2048&&Qd(E.alternate,E);break;default:$a(p,E,b,N,f)}r=r.sibling}}function Nl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Kd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Qd(l.alternate,l);break;default:Nl(a,l)}r=r.sibling}}var Ol=8192;function Ka(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)o_(n),n=n.sibling}function o_(n){switch(n.tag){case 26:Ka(n),n.flags&Ol&&n.memoizedState!==null&&dS(Kn,n.memoizedState,n.memoizedProps);break;case 5:Ka(n);break;case 3:case 4:var r=Kn;Kn=Xc(n.stateNode.containerInfo),Ka(n),Kn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ol,Ol=16777216,Ka(n),Ol=r):Ka(n));break;default:Ka(n)}}function l_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Dl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,c_(l,n)}l_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u_(n),n=n.sibling}function u_(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&Nr(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Uc(n)):Dl(n);break;default:Dl(n)}}function Uc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,c_(l,n)}l_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}n=n.sibling}}function c_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Nr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,p=l.return;if(t_(l),l===a){Vt=null;break e}if(f!==null){f.return=p,Vt=f;break e}Vt=p}}}var x1={getCacheForType:function(n){var r=Kt(xt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},N1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,je=0,Qe=0,_n=null,Mr=!1,Qa=!1,Xd=!1,tr=0,dt=0,Pr=0,Qs=0,Wd=0,Ln=0,Xa=0,Ml=null,ln=null,Zd=!1,Jd=0,jc=1/0,zc=null,kr=null,qt=0,Vr=null,Wa=null,Za=0,em=0,tm=null,h_=null,Pl=0,nm=null;function En(){if((Ke&2)!==0&&je!==0)return je&-je;if(X.T!==null){var n=ja;return n!==0?n:um()}return yr()}function f_(){Ln===0&&(Ln=(je&536870912)===0||Fe?Ho():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Ln}function Tn(n,r,a){(n===nt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Ja(n,0),Lr(n,je,Ln,!1)),Mi(n,a),((Ke&2)===0||n!==nt)&&(n===nt&&((Ke&2)===0&&(Qs|=a),dt===4&&Lr(n,je,Ln,!1)),wi(n))}function d_(n,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ts(n,r),f=l?M1(n,r):sm(n,r,!0),p=l;do{if(f===0){Qa&&!l&&Lr(n,r,0,!1);break}else{if(a=n.current.alternate,p&&!O1(a)){f=sm(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=Ml;var N=b.current.memoizedState.isDehydrated;if(N&&(Ja(b,E).flags|=256),E=sm(b,E,!1),E!==2){if(Xd&&!N){b.errorRecoveryDisabledLanes|=p,Qs|=p,f=4;break e}p=ln,ln=f,p!==null&&(ln===null?ln=p:ln.push.apply(ln,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ja(n,0),Lr(n,r,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,Ln,!Mr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Jd+300-Rn(),10<f)){if(Lr(l,r,Ln,!Mr),ga(l,0,!0)!==0)break e;l.timeoutHandle=q_(m_.bind(null,l,a,ln,zc,Zd,r,Ln,Qs,Xa,Mr,p,2,-0,0),f);break e}m_(l,a,ln,zc,Zd,r,Ln,Qs,Xa,Mr,p,0,-0,0)}}break}while(!0);wi(n)}function m_(n,r,a,l,f,p,E,b,N,G,W,ee,Y,K){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:fS},o_(r),ee=mS(),ee!==null)){n.cancelPendingCommit=ee(T_.bind(null,n,r,p,a,l,f,E,b,N,W,1,Y,K)),Lr(n,p,E,!G);return}T_(n,r,p,a,l,f,E,b,N)}function O1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!pn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(n,r,a,l){r&=~Wd,r&=~Qs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-$t(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&oi(n,a,r)}function Bc(){return(Ke&6)===0?(kl(0),!1):!0}function im(){if(Me!==null){if(Qe===0)var n=Me.return;else n=Me,$i=Hs=null,Ed(n),Ga=null,Sl=0,n=Me;for(;n!==null;)$v(n.alternate,n),n=n.return;Me=null}}function Ja(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Q1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),im(),nt=n,Me=a=Fi(n.current,null),je=r,Qe=0,_n=null,Mr=!1,Qa=Ts(n,r),Xd=!1,Xa=Ln=Wd=Qs=Pr=dt=0,ln=Ml=null,Zd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-$t(l),p=1<<f;r|=n[f],l&=~p}return tr=r,uc(),a}function p_(n,r){xe=null,X.H=Cc,r===gl||r===vc?(r=Dy(),Qe=3):r===xy?(r=Dy(),Qe=4):Qe=r===Mv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,Me===null&&(dt=1,Mc(n,Dn(r,n.current)))}function g_(){var n=X.H;return X.H=Cc,n===null?Cc:n}function y_(){var n=X.A;return X.A=x1,n}function rm(){dt=4,Mr||(je&4194048)!==je&&Vn.current!==null||(Qa=!0),(Pr&134217727)===0&&(Qs&134217727)===0||nt===null||Lr(nt,je,Ln,!1)}function sm(n,r,a){var l=Ke;Ke|=2;var f=g_(),p=y_();(nt!==n||je!==r)&&(zc=null,Ja(n,r)),r=!1;var E=dt;e:do try{if(Qe!==0&&Me!==null){var b=Me,N=_n;switch(Qe){case 8:im(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var G=Qe;if(Qe=0,_n=null,eo(n,b,N,G),a&&Qa){E=0;break e}break;default:G=Qe,Qe=0,_n=null,eo(n,b,N,G)}}D1(),E=dt;break}catch(W){p_(n,W)}while(!0);return r&&n.shellSuspendCounter++,$i=Hs=null,Ke=l,X.H=f,X.A=p,Me===null&&(nt=null,je=0,uc()),E}function D1(){for(;Me!==null;)v_(Me)}function M1(n,r){var a=Ke;Ke|=2;var l=g_(),f=y_();nt!==n||je!==r?(zc=null,jc=Rn()+500,Ja(n,r)):Qa=Ts(n,r);e:do try{if(Qe!==0&&Me!==null){r=Me;var p=_n;t:switch(Qe){case 1:Qe=0,_n=null,eo(n,r,p,1);break;case 2:case 9:if(Ny(p)){Qe=0,_n=null,__(r);break}r=function(){Qe!==2&&Qe!==9||nt!==n||(Qe=7),wi(n)},p.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ny(p)?(Qe=0,_n=null,__(r)):(Qe=0,_n=null,eo(n,r,p,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(!E||e0(E)){Qe=0,_n=null;var N=b.sibling;if(N!==null)Me=N;else{var G=b.return;G!==null?(Me=G,qc(G)):Me=null}break t}}Qe=0,_n=null,eo(n,r,p,5);break;case 6:Qe=0,_n=null,eo(n,r,p,6);break;case 8:im(),dt=6;break e;default:throw Error(s(462))}}P1();break}catch(W){p_(n,W)}while(!0);return $i=Hs=null,X.H=l,X.A=f,Ke=a,Me!==null?0:(nt=null,je=0,uc(),dt)}function P1(){for(;Me!==null&&!jo();)v_(Me)}function v_(n){var r=Gv(n.alternate,n,tr);n.memoizedProps=n.pendingProps,r===null?qc(n):Me=r}function __(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=jv(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=jv(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Ed(r);default:$v(a,r),r=Me=Ey(r,tr),r=Gv(a,r,tr)}n.memoizedProps=n.pendingProps,r===null?qc(n):Me=r}function eo(n,r,a,l){$i=Hs=null,Ed(r),Ga=null,Sl=0;var f=r.return;try{if(b1(n,f,r,a,je)){dt=1,Mc(n,Dn(a,n.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;dt=1,Mc(n,Dn(a,n.current)),Me=null;return}r.flags&32768?(Fe||l===1?n=!0:Qa||(je&536870912)!==0?n=!1:(Mr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(r,n)):qc(r)}function qc(n){var r=n;do{if((r.flags&32768)!==0){E_(r,Mr);return}n=r.return;var a=S1(r.alternate,r,tr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);dt===0&&(dt=5)}function E_(n,r){do{var a=R1(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);dt=6,Me=null}function T_(n,r,a,l,f,p,E,b,N){n.cancelPendingCommit=null;do Hc();while(qt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Qf,Go(n,a,p,E,b,N),n===nt&&(Me=nt=null,je=0),Wa=r,Vr=n,Za=a,em=p,tm=f,h_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,U1(ys,function(){return R_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,E=Ke,Ke|=4;try{I1(n,r,a)}finally{Ke=E,re.p=f,X.T=l}}qt=1,w_(),b_(),A_()}}function w_(){if(qt===1){qt=0;var n=Vr,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Ke;Ke|=4;try{r_(r,n);var p=ym,E=cy(n.containerInfo),b=p.focusedElem,N=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&uy(b.ownerDocument.documentElement,b)){if(N!==null&&Ff(b)){var G=N.start,W=N.end;if(W===void 0&&(W=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(W,b.value.length);else{var ee=b.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),we=b.textContent.length,ve=Math.min(N.start,we),Je=N.end===void 0?ve:Math.min(N.end,we);!K.extend&&ve>Je&&(E=Je,Je=ve,ve=E);var z=ly(b,ve),k=ly(b,Je);if(z&&k&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),ve>Je?(K.addRange(H),K.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),K.addRange(H))}}}}for(ee=[],K=b;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var Z=ee[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}th=!!gm,ym=gm=null}finally{Ke=f,re.p=l,X.T=a}}n.current=r,qt=2}}function b_(){if(qt===2){qt=0;var n=Vr,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Ke;Ke|=4;try{e_(n,r.alternate,r)}finally{Ke=f,re.p=l,X.T=a}}qt=3}}function A_(){if(qt===4||qt===3){qt=0,Uu();var n=Vr,r=Wa,a=Za,l=h_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Wa=Vr=null,S_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(kr=null),ya(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=re.p,re.p=2,X.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];p(b.value,{componentStack:b.stack})}}finally{X.T=r,re.p=f}}(Za&3)!==0&&Hc(),wi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===nm?Pl++:(Pl=0,nm=n):Pl=0,kl(0)}}function S_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ml(r)))}function Hc(n){return w_(),b_(),A_(),R_()}function R_(){if(qt!==5)return!1;var n=Vr,r=em;em=0;var a=ya(Za),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=tm,tm=null;var p=Vr,E=Za;if(qt=0,Wa=Vr=null,Za=0,(Ke&6)!==0)throw Error(s(331));var b=Ke;if(Ke|=4,u_(p.current),a_(p,p.current,E,a),Ke=b,kl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ht,p)}catch{}return!0}finally{re.p=f,X.T=l,S_(n,r)}}function I_(n,r,a){r=Dn(a,r),r=Pd(n.stateNode,r,2),n=Rr(n,r,2),n!==null&&(Mi(n,2),wi(n))}function et(n,r,a){if(n.tag===3)I_(n,n,a);else for(;r!==null;){if(r.tag===3){I_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){n=Dn(a,n),a=Ov(2),l=Rr(r,a,2),l!==null&&(Dv(a,l,r,n),Mi(l,2),wi(l));break}}r=r.return}}function am(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new N1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Xd=!0,f.add(a),n=k1.bind(null,n,r,a),r.then(n,n))}function k1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>Rn()-Jd?(Ke&2)===0&&Ja(n,0):Wd|=a,Xa===je&&(Xa=0)),wi(n)}function C_(n,r){r===0&&(r=Fo()),n=ka(n,r),n!==null&&(Mi(n,r),wi(n))}function V1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),C_(n,a)}function L1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),C_(n,a)}function U1(n,r){return ps(n,r)}var Fc=null,to=null,om=!1,Gc=!1,lm=!1,Xs=0;function wi(n){n!==to&&n.next===null&&(to===null?Fc=to=n:to=to.next=n),Gc=!0,om||(om=!0,z1())}function kl(n,r){if(!lm&&Gc){lm=!0;do for(var a=!1,l=Fc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-$t(42|n)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,D_(l,p))}else p=je,p=ga(l,l===nt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ts(l,p)||(a=!0,D_(l,p));l=l.next}while(a);lm=!1}}function j1(){x_()}function x_(){Gc=om=!1;var n=0;Xs!==0&&(K1()&&(n=Xs),Xs=0);for(var r=Rn(),a=null,l=Fc;l!==null;){var f=l.next,p=N_(l,r);p===0?(l.next=null,a===null?Fc=f:a.next=f,f===null&&(to=a)):(a=l,(n!==0||(p&3)!==0)&&(Gc=!0)),l=f}kl(n)}function N_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-$t(p),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&l)!==0)&&(f[E]=qo(b,r)):N<=r&&(n.expiredLanes|=b),p&=~b}if(r=nt,a=je,a=ga(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ts(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&gs(l),ya(a)){case 2:case 8:a=ma;break;case 32:a=ys;break;case 268435456:a=pa;break;default:a=ys}return l=O_.bind(null,n),a=ps(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&gs(l),n.callbackPriority=2,n.callbackNode=null,2}function O_(n,r){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Hc()&&n.callbackNode!==a)return null;var l=je;return l=ga(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(d_(n,l,r),N_(n,Rn()),n.callbackNode!=null&&n.callbackNode===a?O_.bind(null,n):null)}function D_(n,r){if(Hc())return null;d_(n,r,!0)}function z1(){X1(function(){(Ke&6)!==0?ps(zo,j1):x_()})}function um(){return Xs===0&&(Xs=Ho()),Xs}function M_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ba(""+n)}function P_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function B1(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=M_((f[Et]||null).action),E=l.submitter;E&&(r=(r=E[Et]||null)?M_(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new Aa("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var N=E?P_(f,E):new FormData(f);xd(a,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(b.preventDefault(),N=E?P_(f,E):new FormData(f),xd(a,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var cm=0;cm<Kf.length;cm++){var hm=Kf[cm],q1=hm.toLowerCase(),H1=hm[0].toUpperCase()+hm.slice(1);$n(q1,"on"+H1)}$n(dy,"onAnimationEnd"),$n(my,"onAnimationIteration"),$n(py,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(a1,"onTransitionRun"),$n(o1,"onTransitionStart"),$n(l1,"onTransitionCancel"),$n(gy,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function k_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,G=b.currentTarget;if(b=b.listener,N!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=G;try{p(f)}catch(W){Dc(W)}f.currentTarget=null,p=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,G=b.currentTarget,b=b.listener,N!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=G;try{p(f)}catch(W){Dc(W)}f.currentTarget=null,p=N}}}}function Pe(n,r){var a=r[$o];a===void 0&&(a=r[$o]=new Set);var l=n+"__bubble";a.has(l)||(V_(r,n,2,!1),a.add(l))}function fm(n,r,a){var l=0;r&&(l|=4),V_(a,n,l,r)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function dm(n){if(!n[Yc]){n[Yc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(F1.has(a)||fm(a,!1,n),fm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Yc]||(r[Yc]=!0,fm("selectionchange",!1,r))}}function V_(n,r,a,l){switch(a0(r)){case 2:var f=yS;break;case 8:f=vS;break;default:f=Im}a=f.bind(null,r,a,n),f=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function mm(n,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Pi(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=p=E;continue e}b=b.parentNode}}l=l.return}Ku(function(){var G=p,W=xn(a),ee=[];e:{var Y=yy.get(n);if(Y!==void 0){var K=Aa,we=n;switch(n){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":K=Na;break;case"focusin":we="focus",K=Ia;break;case"focusout":we="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=nc;break;case dy:case my:case py:K=Ca;break;case gy:K=rc;break;case"scroll":case"scrollend":K=Qu;break;case"wheel":K=Oa;break;case"copy":case"cut":case"paste":K=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=al;break;case"toggle":case"beforetoggle":K=ac}var ve=(r&4)!==0,Je=!ve&&(n==="scroll"||n==="scrollend"),z=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var k=G,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=xs(k,z),Z!=null&&ve.push(Ll(k,Z,H))),Je)break;k=k.return}0<ve.length&&(Y=new K(Y,we,null,a,W),ee.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",Y&&a!==Ui&&(we=a.relatedTarget||a.fromElement)&&(Pi(we)||we[In]))break e;if((K||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(we=a.relatedTarget||a.toElement,K=G,we=we?Pi(we):null,we!==null&&(Je=u(we),ve=we.tag,we!==Je||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(K=null,we=G),K!==we)){if(ve=On,Z="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=al,Z="onPointerLeave",z="onPointerEnter",k="pointer"),Je=K==null?Y:ui(K),H=we==null?Y:ui(we),Y=new ve(Z,k+"leave",K,a,W),Y.target=Je,Y.relatedTarget=H,Z=null,Pi(W)===G&&(ve=new ve(z,k+"enter",we,a,W),ve.target=H,ve.relatedTarget=Je,Z=ve),Je=Z,K&&we)t:{for(ve=K,z=we,k=0,H=ve;H;H=no(H))k++;for(H=0,Z=z;Z;Z=no(Z))H++;for(;0<k-H;)ve=no(ve),k--;for(;0<H-k;)z=no(z),H--;for(;k--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=no(ve),z=no(z)}ve=null}else ve=null;K!==null&&L_(ee,Y,K,ve,!1),we!==null&&Je!==null&&L_(ee,Je,we,ve,!0)}}e:{if(Y=G?ui(G):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var de=ny;else if(Ct(Y))if(iy)de=i1;else{de=t1;var De=e1}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Jo(G.elementType)&&(de=ny):de=n1;if(de&&(de=de(n,G))){Hi(ee,de,a,W);break e}De&&De(n,Y,G),n==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Tr(Y,"number",Y.value)}switch(De=G?ui(G):window,n){case"focusin":(Ct(De)||De.contentEditable==="true")&&(Da=De,Gf=G,ul=null);break;case"focusout":ul=Gf=Da=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,hy(ee,a,W);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":hy(ee,a,W)}var pe;if(gi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?Q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(pe=tl()):(fi=W,wr="value"in fi?fi.value:fi.textContent,Le=!0)),De=$c(G,_e),0<De.length&&(_e=new rl(_e,n,null,a,W),ee.push({event:_e,listeners:De}),pe?_e.data=pe:(pe=ae(a),pe!==null&&(_e.data=pe)))),(pe=y?It(n,a):Ue(n,a))&&(_e=$c(G,"onBeforeInput"),0<_e.length&&(De=new rl("onBeforeInput","beforeinput",null,a,W),ee.push({event:De,listeners:_e}),De.data=pe)),B1(ee,n,G,a,W)}k_(ee,r)})}function Ll(n,r,a){return{instance:n,listener:r,currentTarget:a}}function $c(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=xs(n,a),f!=null&&l.unshift(Ll(n,f,p)),f=xs(n,r),f!=null&&l.push(Ll(n,f,p))),n.tag===3)return l;n=n.return}return[]}function no(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L_(n,r,a,l,f){for(var p=r._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,G=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||G===null||(N=G,f?(G=xs(a,p),G!=null&&E.unshift(Ll(a,G,N))):f||(G=xs(a,p),G!=null&&E.push(Ll(a,G,N)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var G1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function U_(n){return(typeof n=="string"?n:""+n).replace(G1,`
`).replace(Y1,"")}function j_(n,r){return r=U_(r),U_(n)===r}function Kc(){}function Ze(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":ci(n,"class",l);break;case"tabIndex":ci(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(n,a,l);break;case"style":Zo(n,l,p);break;case"data":if(r!=="object"){ci(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Kc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ba(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Er(n,"popover",l);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uf.get(a)||a,Er(n,a,l))}}function pm(n,r,a,l,f,p){switch(a){case"style":Zo(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[Et]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Er(n,a,l)}}}function Ht(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,p,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var b=p=E=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":G=W;break;case"value":p=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(n,r,l,W,a,null)}}Rs(n,p,b,N,G,E,f,!1),wa(n);return;case"select":Pe("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Ze(n,r,f,b,a,null)}r=p,a=E,n.multiple=!!l,r!=null?Li(n,!!l,r,!1):a!=null&&Li(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,r,E,b,a,null)}Is(n,l,f,p),wa(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,r,N,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Pe(Vl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,G,l,a,null)}return;default:if(Jo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&pm(n,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(n,r,b,l,a,null))}function $1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,N=null,G=null,W=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(K)||Ze(n,r,K,null,l,ee)}}for(var Y in l){var K=l[Y];if(ee=a[Y],l.hasOwnProperty(Y)&&(K!=null||ee!=null))switch(Y){case"type":p=K;break;case"name":f=K;break;case"checked":G=K;break;case"defaultChecked":W=K;break;case"value":E=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&Ze(n,r,Y,K,l,ee)}}mn(n,E,b,N,G,W,p,f);return;case"select":K=E=b=Y=null;for(p in a)if(N=a[p],a.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(p)||Ze(n,r,p,null,l,N)}for(f in l)if(p=l[f],N=a[f],l.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":Y=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==N&&Ze(n,r,f,p,l,N)}r=b,a=E,l=K,Y!=null?Li(n,!!a,Y,!1):!!l!=!!a&&(r!=null?Li(n,!!a,r,!0):Li(n,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,r,b,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Y=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ze(n,r,E,f,l,p)}Xe(n,Y,K);return;case"option":for(var we in a)if(Y=a[we],a.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Ze(n,r,we,null,l,Y)}for(N in l)if(Y=l[N],K=a[N],l.hasOwnProperty(N)&&Y!==K&&(Y!=null||K!=null))switch(N){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(n,r,N,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!l.hasOwnProperty(ve)&&Ze(n,r,ve,null,l,Y);for(G in l)if(Y=l[G],K=a[G],l.hasOwnProperty(G)&&Y!==K&&(Y!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(n,r,G,Y,l,K)}return;default:if(Jo(r)){for(var Je in a)Y=a[Je],a.hasOwnProperty(Je)&&Y!==void 0&&!l.hasOwnProperty(Je)&&pm(n,r,Je,void 0,l,Y);for(W in l)Y=l[W],K=a[W],!l.hasOwnProperty(W)||Y===K||Y===void 0&&K===void 0||pm(n,r,W,Y,l,K);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&Ze(n,r,z,null,l,Y);for(ee in l)Y=l[ee],K=a[ee],!l.hasOwnProperty(ee)||Y===K||Y==null&&K==null||Ze(n,r,ee,Y,l,K)}var gm=null,ym=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function z_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function vm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _m=null;function K1(){var n=window.event;return n&&n.type==="popstate"?n===_m?!1:(_m=n,!0):(_m=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(n){return H_.resolve(null).then(n).catch(W1)}:q_;function W1(n){setTimeout(function(){throw n})}function Ur(n){return n==="head"}function F_(n,r){var a=r,l=0,f=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Ul(E.documentElement),a&2&&Ul(E.body),a&4)for(a=E.head,Ul(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[ws]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){n.removeChild(p),Yl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Yl(r)}function Em(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Z1(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ws])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function J1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qn(n.nextSibling),n===null))return null;return n}function Tm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function eS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Qn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var wm=null;function G_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Y_(n,r,a){switch(r=Qc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ul(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);_r(n)}var Un=new Map,$_=new Set;function Xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var nr=re.d;re.d={f:tS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function tS(){var n=nr.f(),r=Bc();return n||r}function nS(n){var r=li(n);r!==null&&r.tag===5&&r.type==="form"?dv(r):nr.r(n)}var io=typeof document>"u"?null:document;function K_(n,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=Tt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),$_.has(f)||($_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",n),pt(r),l.head.appendChild(r)))}}function iS(n){nr.D(n),K_("dns-prefetch",n,null)}function rS(n,r){nr.C(n,r),K_("preconnect",n,r)}function sS(n,r,a){nr.L(n,r,a);var l=io;if(l&&n&&r){var f='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var p=f;switch(r){case"style":p=ro(n);break;case"script":p=so(n)}Un.has(p)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Un.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(p))||r==="script"&&l.querySelector(zl(p))||(r=l.createElement("link"),Ht(r,"link",n),pt(r),l.head.appendChild(r)))}}function aS(n,r){nr.m(n,r);var a=io;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=so(n)}if(!Un.has(p)&&(n=v({rel:"modulepreload",href:n},r),Un.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(p)))return}l=a.createElement("link"),Ht(l,"link",n),pt(l),a.head.appendChild(l)}}}function oS(n,r,a){nr.S(n,r,a);var l=io;if(l&&n){var f=tn(l).hoistableStyles,p=ro(n);r=r||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(jl(p)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Un.get(p))&&bm(n,a);var N=E=l.createElement("link");pt(N),Ht(N,"link",n),N._p=new Promise(function(G,W){N.onload=G,N.onerror=W}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function lS(n,r){nr.X(n,r);var a=io;if(a&&n){var l=tn(a).hoistableScripts,f=so(n),p=l.get(f);p||(p=a.querySelector(zl(f)),p||(n=v({src:n,async:!0},r),(r=Un.get(f))&&Am(n,r),p=a.createElement("script"),pt(p),Ht(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function uS(n,r){nr.M(n,r);var a=io;if(a&&n){var l=tn(a).hoistableScripts,f=so(n),p=l.get(f);p||(p=a.querySelector(zl(f)),p||(n=v({src:n,async:!0,type:"module"},r),(r=Un.get(f))&&Am(n,r),p=a.createElement("script"),pt(p),Ht(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Q_(n,r,a,l){var f=(f=be.current)?Xc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ro(a.href),a=tn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ro(a.href);var p=tn(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(jl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),p||cS(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=tn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ro(n){return'href="'+Tt(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function X_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function cS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),pt(r),n.head.appendChild(r))}function so(n){return'[src="'+Tt(n)+'"]'}function zl(n){return"script[async]"+n}function W_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Ht(l,"style",f),Wc(l,a.precedence,n),r.instance=l;case"stylesheet":f=ro(a.href);var p=n.querySelector(jl(f));if(p)return r.state.loading|=4,r.instance=p,pt(p),p;l=X_(a),(f=Un.get(f))&&bm(l,f),p=(n.ownerDocument||n).createElement("link"),pt(p);var E=p;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Ht(p,"link",l),r.state.loading|=4,Wc(p,a.precedence,n),r.instance=p;case"script":return p=so(a.src),(f=n.querySelector(zl(p)))?(r.instance=f,pt(f),f):(l=a,(f=Un.get(p))&&(l=v({},a),Am(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ht(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Wc(l,a.precedence,n));return r.instance}function Wc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function bm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Zc=null;function Z_(n,r,a){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(a,l)}else f=Zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[ws]||p[Rt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var b=l.get(E);b?b.push(p):l.set(E,[p])}}return l}function J_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function hS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Bl=null;function fS(){}function dS(n,r,a){if(Bl===null)throw Error(s(475));var l=Bl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ro(a.href),p=n.querySelector(jl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Jc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,pt(p);return}p=n.ownerDocument||n,a=X_(a),(f=Un.get(f))&&bm(a,f),p=p.createElement("link"),pt(p);var E=p;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Ht(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Jc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function mS(){if(Bl===null)throw Error(s(475));var n=Bl;return n.stylesheets&&n.count===0&&Sm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Sm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eh=null;function Sm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eh=new Map,r.forEach(pS,n),eh=null,Jc.call(n))}function pS(n,r){if(!(r.state.loading&4)){var a=eh.get(n);if(a)var l=a.get(null);else{a=new Map,eh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=Jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ql={$$typeof:J,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function gS(n,r,a,l,f,p,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function t0(n,r,a,l,f,p,E,b,N,G,W,ee){return n=new gS(n,r,a,E,b,N,G,ee),r=1,p===!0&&(r|=24),p=gn(3,null,null,r),n.current=p,p.stateNode=n,r=ad(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},cd(p),n}function n0(n){return n?(n=Va,n):Va}function i0(n,r,a,l,f,p){f=n0(f),l.context===null?l.context=f:l.pendingContext=f,l=Sr(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Rr(n,l,r),a!==null&&(Tn(a,n,r),vl(a,n,r))}function r0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Rm(n,r){r0(n,r),(n=n.alternate)&&r0(n,r)}function s0(n){if(n.tag===13){var r=ka(n,67108864);r!==null&&Tn(r,n,67108864),Rm(n,67108864)}}var th=!0;function yS(n,r,a,l){var f=X.T;X.T=null;var p=re.p;try{re.p=2,Im(n,r,a,l)}finally{re.p=p,X.T=f}}function vS(n,r,a,l){var f=X.T;X.T=null;var p=re.p;try{re.p=8,Im(n,r,a,l)}finally{re.p=p,X.T=f}}function Im(n,r,a,l){if(th){var f=Cm(l);if(f===null)mm(n,r,l,nh,a),o0(n,l);else if(ES(f,n,r,a,l))l.stopPropagation();else if(o0(n,l),r&4&&-1<_S.indexOf(n)){for(;f!==null;){var p=li(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Fn(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-$t(E);b.entanglements[1]|=N,E&=~N}wi(p),(Ke&6)===0&&(jc=Rn()+500,kl(0))}}break;case 13:b=ka(p,2),b!==null&&Tn(b,p,2),Bc(),Rm(p,2)}if(p=Cm(l),p===null&&mm(n,r,l,nh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else mm(n,r,l,null,a)}}function Cm(n){return n=xn(n),xm(n)}var nh=null;function xm(n){if(nh=null,n=Pi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return nh=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Df()){case zo:return 2;case ma:return 8;case ys:case Mf:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Nm=!1,jr=null,zr=null,Br=null,Hl=new Map,Fl=new Map,qr=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(n,r){switch(n){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=li(r),r!==null&&s0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function ES(n,r,a,l,f){switch(r){case"focusin":return jr=Gl(jr,n,r,a,l,f),!0;case"dragenter":return zr=Gl(zr,n,r,a,l,f),!0;case"mouseover":return Br=Gl(Br,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Hl.set(p,Gl(Hl.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Fl.set(p,Gl(Fl.get(p)||null,n,r,a,l,f)),!0}return!1}function l0(n){var r=Pi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Bu(n.priority,function(){if(a.tag===13){var l=En();l=gr(l);var f=ka(a,l);f!==null&&Tn(f,a,l),Rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ih(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Cm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ui=l,a.target.dispatchEvent(l),Ui=null}else return r=li(a),r!==null&&s0(r),n.blockedOn=a,!1;r.shift()}return!0}function u0(n,r,a){ih(n)&&a.delete(r)}function TS(){Nm=!1,jr!==null&&ih(jr)&&(jr=null),zr!==null&&ih(zr)&&(zr=null),Br!==null&&ih(Br)&&(Br=null),Hl.forEach(u0),Fl.forEach(u0)}function rh(n,r){n.blockedOn===r&&(n.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TS)))}var sh=null;function c0(n){sh!==n&&(sh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sh===n&&(sh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(xm(l||a)===null)continue;break}var p=li(a);p!==null&&(n.splice(r,3),r-=3,xd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yl(n){function r(N){return rh(N,n)}jr!==null&&rh(jr,n),zr!==null&&rh(zr,n),Br!==null&&rh(Br,n),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[Et]||null;if(typeof p=="function")E||c0(a);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Et]||null)b=E.formAction;else if(xm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),c0(a)}}}function Om(n){this._internalRoot=n}ah.prototype.render=Om.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();i0(a,l,n,r,null,null)},ah.prototype.unmount=Om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;i0(n.current,2,null,n,null,null),Bc(),r[In]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var r=yr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,n),a===0&&l0(n)}};var h0=e.version;if(h0!=="19.1.0")throw Error(s(527,h0,"19.1.0"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var wS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ht=oh.inject(wS),$e=oh}catch{}}return Kl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Iv,p=Cv,E=xv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=t0(n,1,!1,null,null,a,l,f,p,E,b,null),n[In]=r.current,dm(n),new Om(r)},Kl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=Iv,E=Cv,b=xv,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=t0(n,1,!0,r,a??null,l,f,p,E,b,N,G),r.context=n0(null),a=r.current,l=En(),l=gr(l),f=Sr(l),f.callback=null,Rr(a,f,l),a=l,r.current.lanes=a,Mi(r,a),wi(r),n[In]=r.current,dm(n),new ah(r)},Kl.version="19.1.0",Kl}var T0;function DS(){if(T0)return Pm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pm.exports=OS(),Pm.exports}var MS=DS(),Ql={},w0;function PS(){if(w0)return Ql;w0=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=h,Ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,x){const O=new u,F=T.length;if(F<2)return O;const L=x?.decode||v;let B=0;do{const $=T.indexOf("=",B);if($===-1)break;const J=T.indexOf(";",B),oe=J===-1?F:J;if($>oe){B=T.lastIndexOf(";",$-1)+1;continue}const le=d(T,B,$),me=m(T,$,le),I=T.slice(le,me);if(O[I]===void 0){let R=d(T,$+1,oe),C=m(T,oe,R);const M=L(T.slice(R,C));O[I]=M}B=oe+1}while(B<F);return O}function d(T,x,O){do{const F=T.charCodeAt(x);if(F!==32&&F!==9)return x}while(++x<O);return O}function m(T,x,O){for(;x>O;){const F=T.charCodeAt(--x);if(F!==32&&F!==9)return x+1}return O}function g(T,x,O){const F=O?.encode||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=F(x);if(!e.test(L))throw new TypeError(`argument val is invalid: ${x}`);let B=T+"="+L;if(!O)return B;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);B+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);B+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);B+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);B+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(B+="; HttpOnly"),O.secure&&(B+="; Secure"),O.partitioned&&(B+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return B}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return Ql}PS();var b0="popstate";function kS(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return lp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:du(o)}return LS(e,t,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function A0(i,e){return{usr:i.state,key:i.key,idx:e}}function lp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:t,key:e&&e.key||s||VS()}}function du({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ro(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function LS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",m=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function w(){d="POP";let L=v(),B=L==null?null:L-g;g=L,m&&m({action:d,location:F.location,delta:B})}function T(L,B){d="PUSH";let $=lp(F.location,L,B);g=v()+1;let J=A0($,g),oe=F.createHref($);try{h.pushState(J,"",oe)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(oe)}u&&m&&m({action:d,location:F.location,delta:1})}function x(L,B){d="REPLACE";let $=lp(F.location,L,B);g=v();let J=A0($,g),oe=F.createHref($);h.replaceState(J,"",oe),u&&m&&m({action:d,location:F.location,delta:0})}function O(L){return US(L)}let F={get action(){return d},get location(){return i(o,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(b0,w),m=L,()=>{o.removeEventListener(b0,w),m=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let B=O(L);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:x,go(L){return h.go(L)}};return F}function US(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:du(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function IT(i,e,t="/"){return jS(i,e,t,!1)}function jS(i,e,t,s){let o=typeof e=="string"?Ro(e):e,u=lr(o.pathname||"/",t);if(u==null)return null;let h=CT(i);zS(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=WS(u);d=QS(h[m],g,s)}return d}function CT(i,e=[],t=[],s=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ar([s,m.relativePath]),v=t.concat(m);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:$S(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of xT(u.path))o(u,h,d)}),e}function xT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=xT(s.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function zS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:KS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var BS=/^:[\w-]+$/,qS=3,HS=2,FS=1,GS=10,YS=-2,S0=i=>i==="*";function $S(i,e){let t=i.split("/"),s=t.length;return t.some(S0)&&(s+=YS),e&&(s+=HS),t.filter(o=>!S0(o)).reduce((o,u)=>o+(BS.test(u)?qS:u===""?FS:GS),s)}function KS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function QS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=Ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ch({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ar([u,w.pathname]),pathnameBase:tR(ar([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=ar([u,w.pathnameBase]))}return h}function Ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=XS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:w},T)=>{if(v==="*"){let O=d[T]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[T];return w&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function XS(i,e=!1,t=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function WS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function lr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function ZS(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ro(i):i;return{pathname:t?t.startsWith("/")?t:JS(t,e):e,search:nR(s),hash:iR(o)}}function JS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Um(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(i){let e=eR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Gp(i,e,t,s=!1){let o;typeof i=="string"?o=Ro(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let m=ZS(o,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ar=i=>i.join("/").replace(/\/\/+/g,"/"),tR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,iR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var sR=["GET",...NT];new Set(sR);var Io=U.createContext(null);Io.displayName="DataRouter";var ef=U.createContext(null);ef.displayName="DataRouterState";var OT=U.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var aR=U.createContext(new Map);aR.displayName="Fetchers";var oR=U.createContext(null);oR.displayName="Await";var ni=U.createContext(null);ni.displayName="Navigation";var Ru=U.createContext(null);Ru.displayName="Location";var ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Yp=U.createContext(null);Yp.displayName="RouteError";function lR(i,{relative:e}={}){lt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(ni),{hash:o,pathname:u,search:h}=Iu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:ar([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Co(){return U.useContext(Ru)!=null}function ri(){return lt(Co(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ru).location}var DT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MT(i){U.useContext(ni).static||U.useLayoutEffect(i)}function Hn(){let{isDataRoute:i}=U.useContext(ii);return i?wR():uR()}function uR(){lt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Io),{basename:e,navigator:t}=U.useContext(ni),{matches:s}=U.useContext(ii),{pathname:o}=ri(),u=JSON.stringify(Fp(s)),h=U.useRef(!1);return MT(()=>{h.current=!0}),U.useCallback((m,g={})=>{if(Zn(h.current,DT),!h.current)return;if(typeof m=="number"){t.go(m);return}let v=Gp(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ar([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}U.createContext(null);function cR(){let{matches:i}=U.useContext(ii),e=i[i.length-1];return e?e.params:{}}function Iu(i,{relative:e}={}){let{matches:t}=U.useContext(ii),{pathname:s}=ri(),o=JSON.stringify(Fp(t));return U.useMemo(()=>Gp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function hR(i,e){return PT(i,e)}function PT(i,e,t,s){lt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(ni),{matches:u}=U.useContext(ii),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";kT(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=ri(),T;if(e){let B=typeof e=="string"?Ro(e):e;lt(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),T=B}else T=w;let x=T.pathname||"/",O=x;if(g!=="/"){let B=g.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let F=IT(i,{pathname:O});Zn(v||F!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Zn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=gR(F&&F.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:ar([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:ar([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,t,s);return e&&L?U.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function fR(){let i=TR(),e=rR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var dR=U.createElement(fR,null),mR=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(ii.Provider,{value:this.props.routeContext},U.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pR({routeContext:i,match:e,children:t}){let s=U.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ii.Provider,{value:i},t)}function gR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:w}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let w,T=!1,x=null,O=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||dR,h&&(d<0&&v===0?(kT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===v&&(T=!0,O=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,v+1)),L=()=>{let B;return w?B=x:T?B=O:g.route.Component?B=U.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=m,U.createElement(pR,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?U.createElement(mR,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function $p(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(i){let e=U.useContext(Io);return lt(e,$p(i)),e}function vR(i){let e=U.useContext(ef);return lt(e,$p(i)),e}function _R(i){let e=U.useContext(ii);return lt(e,$p(i)),e}function Kp(i){let e=_R(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function ER(){return Kp("useRouteId")}function TR(){let i=U.useContext(Yp),e=vR("useRouteError"),t=Kp("useRouteError");return i!==void 0?i:e.errors?.[t]}function wR(){let{router:i}=yR("useNavigate"),e=Kp("useNavigate"),t=U.useRef(!1);return MT(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Zn(t.current,DT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var R0={};function kT(i,e,t){!e&&!R0[i]&&(R0[i]=!0,Zn(!1,t))}U.memo(bR);function bR({routes:i,future:e,state:t}){return PT(i,void 0,t,e)}function Qp({to:i,replace:e,state:t,relative:s}){lt(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ni);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ii),{pathname:h}=ri(),d=Hn(),m=Gp(i,Fp(u),h,s==="path"),g=JSON.stringify(m);return U.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function bi(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ro(t));let{pathname:m="/",search:g="",hash:v="",state:w=null,key:T="default"}=t,x=U.useMemo(()=>{let O=lr(m,h);return O==null?null:{location:{pathname:O,search:g,hash:v,state:w,key:T},navigationType:s}},[h,m,g,v,w,T,s]);return Zn(x!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(ni.Provider,{value:d},U.createElement(Ru.Provider,{children:e,value:x}))}function SR({children:i,location:e}){return hR(up(i),e)}function up(i,e=[]){let t=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,up(s.props.children,u));return}lt(s.type===bi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=up(s.props.children,u)),t.push(h)}),t}var gh="get",yh="application/x-www-form-urlencoded";function tf(i){return i!=null&&typeof i.tagName=="string"}function RR(i){return tf(i)&&i.tagName.toLowerCase()==="button"}function IR(i){return tf(i)&&i.tagName.toLowerCase()==="form"}function CR(i){return tf(i)&&i.tagName.toLowerCase()==="input"}function xR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function NR(i,e){return i.button===0&&(!e||e==="_self")&&!xR(i)}var lh=null;function OR(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var DR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(i){return i!=null&&!DR.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function MR(i,e){let t,s,o,u,h;if(IR(i)){let d=i.getAttribute("action");s=d?lr(d,e):null,t=i.getAttribute("method")||gh,o=jm(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(RR(i)||CR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?lr(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||gh,o=jm(i.getAttribute("formenctype"))||jm(d.getAttribute("enctype"))||yh,u=new FormData(d,i),!OR()){let{name:g,type:v,value:w}=i;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,w)}}else{if(tf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gh,s=null,o=yh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function PR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await PR(u,t);return h.links?h.links():[]}return[]}));return zR(s.flat(1).filter(kR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(i,e,t,s,o,u){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function LR(i,e,{includeHydrateFallback:t}={}){return UR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UR(i){return[...new Set(i)]}function jR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function zR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(jR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BR=new Set([100,101,204,205]);function qR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&lr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function VT(){let i=U.useContext(Io);return Xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function HR(){let i=U.useContext(ef);return Xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wp=U.createContext(void 0);Wp.displayName="FrameworkContext";function LT(){let i=U.useContext(Wp);return Xp(i,"You must render this element inside a <HydratedRouter> element"),i}function FR(i,e){let t=U.useContext(Wp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,T=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let F=B=>{B.forEach($=>{h($.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[i]),U.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let x=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Xl(d,x),onBlur:Xl(m,O),onMouseEnter:Xl(g,x),onMouseLeave:Xl(v,O),onTouchStart:Xl(w,x)}]:[!1,T,{}]}function Xl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function GR({page:i,...e}){let{router:t}=VT(),s=U.useMemo(()=>IT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?U.createElement($R,{page:i,matches:s,...e}):null}function YR(i){let{manifest:e,routeModules:t}=LT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return VR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function $R({page:i,matches:e,...t}){let s=ri(),{manifest:o,routeModules:u}=LT(),{basename:h}=VT(),{loaderData:d,matches:m}=HR(),g=U.useMemo(()=>I0(i,e,m,o,s,"data"),[i,e,m,o,s]),v=U.useMemo(()=>I0(i,e,m,o,s,"assets"),[i,e,m,o,s]),w=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,F=!1;if(e.forEach(B=>{let $=o.routes[B.route.id];!$||!$.hasLoader||(!g.some(J=>J.route.id===B.route.id)&&B.route.id in d&&u[B.route.id]?.shouldRevalidate||$.hasClientLoader?F=!0:O.add(B.route.id))}),O.size===0)return[];let L=qR(i,h);return F&&O.size>0&&L.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[L.pathname+L.search]},[h,d,s,o,g,e,i,u]),T=U.useMemo(()=>LR(v,o),[v,o]),x=YR(v);return U.createElement(U.Fragment,null,w.map(O=>U.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>U.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),x.map(({key:O,link:F})=>U.createElement("link",{key:O,...F})))}function KR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var UT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UT&&(window.__reactRouterVersion="7.6.3")}catch{}function QR({basename:i,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=kS({window:t,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),d=U.useCallback(m=>{U.startTransition(()=>h(m))},[h]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(AR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zT=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:v,viewTransition:w,...T},x){let{basename:O}=U.useContext(ni),F=typeof g=="string"&&jT.test(g),L,B=!1;if(typeof g=="string"&&F&&(L=g,UT))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=lr(M.pathname,O);M.origin===C.origin&&V!=null?g=V+M.search+M.hash:B=!0}catch{Zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=lR(g,{relative:o}),[J,oe,le]=FR(s,T),me=JR(g,{replace:h,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:w});function I(C){e&&e(C),C.defaultPrevented||me(C)}let R=U.createElement("a",{...T,...le,href:L||$,onClick:B||u?e:I,ref:KR(x,oe),target:m,"data-discover":!F&&t==="render"?"true":void 0});return J&&!F?U.createElement(U.Fragment,null,R,U.createElement(GR,{page:$})):R});zT.displayName="Link";var XR=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},v){let w=Iu(h,{relative:g.relative}),T=ri(),x=U.useContext(ef),{navigator:O,basename:F}=U.useContext(ni),L=x!=null&&rI(w)&&d===!0,B=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,$=T.pathname,J=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||($=$.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&F&&(J=lr(J,F)||J);const oe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let le=$===B||!o&&$.startsWith(B)&&$.charAt(oe)==="/",me=J!=null&&(J===B||!o&&J.startsWith(B)&&J.charAt(B.length)==="/"),I={isActive:le,isPending:me,isTransitioning:L},R=le?e:void 0,C;typeof s=="function"?C=s(I):C=[s,le?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return U.createElement(zT,{...g,"aria-current":R,className:C,ref:v,style:M,to:h,viewTransition:d},typeof m=="function"?m(I):m)});XR.displayName="NavLink";var WR=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=gh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:w,...T},x)=>{let O=nI(),F=iI(d,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&jT.test(d),$=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let oe=J.nativeEvent.submitter,le=oe?.getAttribute("formmethod")||h;O(oe||J.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:w})};return U.createElement("form",{ref:x,method:L,action:F,onSubmit:s?m:$,...T,"data-discover":!B&&i==="render"?"true":void 0})});WR.displayName="Form";function ZR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(i){let e=U.useContext(Io);return lt(e,ZR(i)),e}function JR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Hn(),m=ri(),g=Iu(i,{relative:u});return U.useCallback(v=>{if(NR(v,e)){v.preventDefault();let w=t!==void 0?t:du(m)===du(g);d(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,t,s,e,i,o,u,h])}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:i}=BT("useSubmit"),{basename:e}=U.useContext(ni),t=ER();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=MR(s,e);if(o.navigate===!1){let v=o.fetcherKey||tI();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function iI(i,{relative:e}={}){let{basename:t}=U.useContext(ni),s=U.useContext(ii);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},h=ri();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ar([t,u.pathname])),du(u)}function rI(i,e={}){let t=U.useContext(OT);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BT("useViewTransitionState"),o=Iu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=lr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=lr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,u)!=null}[...BR];const nf="/assets/logo-CkceWX_i.png",sI=({onDone:i})=>(U.useEffect(()=>{const e=setTimeout(i,3e3);return()=>clearTimeout(e)},[i]),S.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black text-white z-[2000] p-6 overflow-hidden",children:[S.jsx("img",{src:nf,alt:"XStream Secrets Logo",className:"w-56 md:w-72 rounded-3xl shadow-[0_0_25px_rgba(255,255,255,0.1)] mb-8 select-none animate-fade-in"}),S.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-red-500 tracking-wide mb-3 animate-slide-down",children:"XStream (18+)"}),S.jsxs("p",{className:"text-gray-300 text-base sm:text-lg mb-2 animate-fade-in",children:["Welcome to ",S.jsx("span",{className:"text-white font-semibold",children:"XStream"}),", the adult video embed platform."]}),S.jsxs("p",{className:"text-red-400 text-sm sm:text-base mt-4 text-center animate-fade-in",children:["⚠️ ",S.jsx("strong",{children:"Warning:"})," This platform is for adults (18+) only."]}),S.jsx("div",{className:"w-44 sm:w-56 h-3 bg-gray-800 rounded-full mt-10 overflow-hidden shadow-inner animate-fade-in",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-pink-500 rounded-full animate-loading-bar"})}),S.jsx("style",{children:`
          @keyframes fade-in {
            0% { opacity: 0; transform: scale(0.98); }
            100% { opacity: 1; transform: scale(1); }
          }
          @keyframes slide-down {
            0% { opacity: 0; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
          }
          @keyframes loading-bar {
            0% { width: 0%; }
            100% { width: 100%; }
          }

          .animate-fade-in {
            animation: fade-in 1s ease-in-out forwards;
          }

          .animate-slide-down {
            animation: slide-down 0.8s ease-out forwards;
          }

          .animate-loading-bar {
            animation: loading-bar 2s linear forwards;
          }
        `})]})),aI=({onEnter:i,onExit:e})=>S.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black text-white min-h-screen w-full px-4",children:S.jsxs("div",{className:"bg-black/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-800 max-w-lg w-full p-6 sm:p-8 md:p-10 text-center flex flex-col items-center",children:[S.jsx("img",{src:nf,alt:"XStream Secrets Logo",className:"w-48 sm:w-56 md:w-64 mb-6 rounded-2xl shadow-[0_0_25px_rgba(255,255,255,0.08)] select-none"}),S.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-4 text-red-500 tracking-wide",children:"Age Verification"}),S.jsxs("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg leading-relaxed mb-8 sm:mb-10 text-justify",children:["This website contains age-restricted materials including nudity and explicit depictions of sexual activity. By entering, you affirm that you are at least"," ",S.jsx("strong",{children:"18 years of age"})," (or the age of majority in your jurisdiction) and consent to viewing sexually explicit content."]}),S.jsxs("div",{className:"flex flex-row items-center justify-center gap-3 sm:gap-5 w-full flex-nowrap",children:[S.jsx("button",{onClick:i,className:`bg-red-600 hover:bg-red-700 transition-all duration-300 text-white font-semibold rounded-xl \r
                       text-sm sm:text-base md:text-lg \r
                       px-4 sm:px-6 md:px-10 py-2 sm:py-3 \r
                       shadow-lg hover:scale-105 active:scale-95`,children:"✅ I am 18 or older — Enter"}),S.jsx("button",{onClick:e,className:`border-2 border-gray-300 hover:border-red-500 hover:text-red-400 transition-all duration-300 text-white font-semibold rounded-xl \r
                       text-sm sm:text-base md:text-lg \r
                       px-4 sm:px-6 md:px-10 py-2 sm:py-3 \r
                       shadow-lg hover:scale-105 active:scale-95`,children:"🚫 I am under 18 — Exit"})]}),S.jsx("p",{className:"mt-8 text-red-500 font-semibold text-xs sm:text-sm uppercase tracking-wider",children:"⚠️ This platform is for adults (18+) only."})]})}),oI=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},lI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,v=u>>2,w=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,x=g&63;m||(x=64,h||(T=64)),s.push(t[v],t[w],t[T],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):lI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const w=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||w==null)throw new uI;const T=u<<2|d>>4;if(s.push(T),g!==64){const x=d<<4&240|g>>2;if(s.push(x),w!==64){const O=g<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(i){const e=qT(i);return HT.encodeByteArray(e,!0)},xh=function(i){return cI(i).replace(/\./g,"")},FT=function(i){try{return HT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>hI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof C0>"u")return;const i=C0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&FT(i[1]);return e&&JSON.parse(e)},rf=()=>{try{return oI()||fI()||dI()||mI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},GT=i=>{var e,t;return(t=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},pI=i=>{const e=GT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},YT=()=>{var i;return(i=rf())===null||i===void 0?void 0:i.config},$T=i=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(i){return i.endsWith(".cloudworkstations.dev")}async function KT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xh(JSON.stringify(t)),xh(JSON.stringify(h)),""].join(".")}const au={};function vI(){const i={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?i.emulator.push(e):i.prod.push(e);return i}function _I(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let x0=!1;function QT(i,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||au[i]===e||au[i]||x0)return;au[i]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=vI().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{x0=!0,h()},T}function v(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=_I(s),x=t("text"),O=document.getElementById(x)||document.createElement("span"),F=t("learnmore"),L=document.getElementById(F)||document.createElement("a"),B=t("preprendIcon"),$=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;d(J),v(L,F);const oe=g();m($,B),J.append($,O,L,oe),document.body.appendChild(J)}u?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function TI(){var i;const e=(i=rf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function SI(){return!TI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jp(){try{return typeof indexedDB=="object"}catch{return!1}}function eg(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function XT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FirebaseError";class si extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=RI,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?II(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new si(o,d,s)}}function II(i,e){return i.replace(CI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CI=/\{\$([^}]+)}/g;function xI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ur(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(N0(u)&&N0(h)){if(!ur(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function tu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function NI(i,e){const t=new OI(i,e);return t.subscribe.bind(t)}class OI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e3,PI=2,kI=4*60*60*1e3,VI=.5;function O0(i,e=MI,t=PI){const s=e*Math.pow(t,i),o=Math.round(VI*s*(Math.random()-.5)*2);return Math.min(kI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i){return i&&i._delegate?i._delegate:i}class Jn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new gI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(i){return i===Ws?void 0:i}function jI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const BI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},qI=ke.INFO,HI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},FI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=HI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const GI=(i,e)=>e.some(t=>i instanceof t);let D0,M0;function YI(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,cp=new WeakMap,ZT=new WeakMap,Bm=new WeakMap,tg=new WeakMap;function KI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Xr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&WT.set(t,i)}).catch(()=>{}),tg.set(e,i),e}function QI(i){if(cp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});cp.set(i,e)}let hp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return cp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ZT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function XI(i){hp=i(hp)}function WI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(qm(this),e,...t);return ZT.set(s,e.sort?e.sort():[e]),Xr(s)}:$I().includes(i)?function(...e){return i.apply(qm(this),e),Xr(WT.get(this))}:function(...e){return Xr(i.apply(qm(this),e))}}function ZI(i){return typeof i=="function"?WI(i):(i instanceof IDBTransaction&&QI(i),GI(i,YI())?new Proxy(i,hp):i)}function Xr(i){if(i instanceof IDBRequest)return KI(i);if(Bm.has(i))return Bm.get(i);const e=ZI(i);return e!==i&&(Bm.set(i,e),tg.set(e,i)),e}const qm=i=>tg.get(i);function JT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=Xr(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Xr(h.result),m.oldVersion,m.newVersion,Xr(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const JI=["get","getKey","getAll","getAllKeys","count"],eC=["put","add","delete","clear"],Hm=new Map;function P0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JI.includes(t)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Hm.set(e,u),u}XI(i=>({...i,get:(e,t,s)=>P0(e,t)||i.get(e,t,s),has:(e,t)=>!!P0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nC(i){const e=i.getComponent();return e?.type==="VERSION"}const fp="@firebase/app",k0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new sf("@firebase/app"),iC="@firebase/app-compat",rC="@firebase/analytics-compat",sC="@firebase/analytics",aC="@firebase/app-check-compat",oC="@firebase/app-check",lC="@firebase/auth",uC="@firebase/auth-compat",cC="@firebase/database",hC="@firebase/data-connect",fC="@firebase/database-compat",dC="@firebase/functions",mC="@firebase/functions-compat",pC="@firebase/installations",gC="@firebase/installations-compat",yC="@firebase/messaging",vC="@firebase/messaging-compat",_C="@firebase/performance",EC="@firebase/performance-compat",TC="@firebase/remote-config",wC="@firebase/remote-config-compat",bC="@firebase/storage",AC="@firebase/storage-compat",SC="@firebase/firestore",RC="@firebase/ai",IC="@firebase/firestore-compat",CC="firebase",xC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",NC={[fp]:"fire-core",[iC]:"fire-core-compat",[sC]:"fire-analytics",[rC]:"fire-analytics-compat",[oC]:"fire-app-check",[aC]:"fire-app-check-compat",[lC]:"fire-auth",[uC]:"fire-auth-compat",[cC]:"fire-rtdb",[hC]:"fire-data-connect",[fC]:"fire-rtdb-compat",[dC]:"fire-fn",[mC]:"fire-fn-compat",[pC]:"fire-iid",[gC]:"fire-iid-compat",[yC]:"fire-fcm",[vC]:"fire-fcm-compat",[_C]:"fire-perf",[EC]:"fire-perf-compat",[TC]:"fire-rc",[wC]:"fire-rc-compat",[bC]:"fire-gcs",[AC]:"fire-gcs-compat",[SC]:"fire-fst",[IC]:"fire-fst-compat",[RC]:"fire-vertex","fire-js":"fire-js",[CC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,OC=new Map,mp=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function xi(i){const e=i.name;if(mp.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,i);for(const t of Nh.values())V0(t,i);for(const t of OC.values())V0(t,i);return!0}function ua(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new la("app","Firebase",DC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=xC;function ew(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(t||(t=YT()),!t)throw Wr.create("no-options");const u=Nh.get(o);if(u){if(ur(t,u.options)&&ur(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const h=new zI(o);for(const m of mp.values())h.addComponent(m);const d=new MC(t,s,h);return Nh.set(o,d),d}function ng(i=dp){const e=Nh.get(i);if(!e&&i===dp&&YT())return ew();if(!e)throw Wr.create("no-app",{appName:i});return e}function zn(i,e,t){var s;let o=(s=NC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(d.join(" "));return}xi(new Jn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebase-heartbeat-database",kC=1,mu="firebase-heartbeat-store";let Fm=null;function tw(){return Fm||(Fm=JT(PC,kC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),Fm}async function VC(i){try{const t=(await tw()).transaction(mu),s=await t.objectStore(mu).get(nw(i));return await t.done,s}catch(e){if(e instanceof si)cr.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e?.message});cr.warn(t.message)}}}async function L0(i,e){try{const s=(await tw()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,nw(i)),await s.done}catch(t){if(t instanceof si)cr.warn(t.message);else{const s=Wr.create("idb-set",{originalErrorMessage:t?.message});cr.warn(s.message)}}}function nw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,UC=30;class jC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UC){const h=qC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U0(),{heartbeatsToSend:s,unsentEntries:o}=zC(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return cr.warn(t),""}}}function U0(){return new Date().toISOString().substring(0,10)}function zC(i,e=LC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),j0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jp()?eg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j0(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function qC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){xi(new Jn("platform-logger",e=>new tC(e),"PRIVATE")),xi(new Jn("heartbeat",e=>new jC(e),"PRIVATE")),zn(fp,k0,i),zn(fp,k0,"esm2017"),zn("fire-js","")}HC("");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,iw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.D=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,V,j){for(var D=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)D[Ae-2]=arguments[Ae];return R.prototype[V].apply(M,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)M[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];var j=I.g[3],D=R+(j^C&(V^j))+M[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(C^V))+M[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(C^V^j)+M[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(V^(C|~j))+M[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var C=R-this.blockSize,M=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<R;)if(M[V++]=I.charCodeAt(j++),V==this.blockSize){o(this,M),V=0;break}}else for(;j<R;)if(M[V++]=I[j++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var C=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.u(I),I=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)I[C++]=this.g[R]>>>M&255;return I};function u(I,R){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;for(var C=[],M=!0,V=I.length-1;0<=V;V--){var j=I[V]|0;M&&j==R||(C[V]=j,M=!1)}this.g=C}var d={};function m(I){return-128<=I&&128>I?u(I,function(R){return new h([R|0],0>R?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return L(g(-I));for(var R=[],C=1,M=0;I>=C;M++)R[M]=I/C|0,C*=4294967296;return new h(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(v(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=w,V=0;V<I.length;V+=8){var j=Math.min(8,I.length-V),D=parseInt(I.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(D))):(M=M.j(C),M=M.add(g(D)))}return M}var w=m(0),T=m(1),x=m(16777216);i=h.prototype,i.m=function(){if(F(this))return-L(this).m();for(var I=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(F(this))return"-"+L(this).toString(I);for(var R=g(Math.pow(I,6)),C=this,M="";;){var V=oe(C,R).g;C=B(C,V.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=V,O(C))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function F(I){return I.h==-1}i.l=function(I){return I=B(this,I),F(I)?-1:O(I)?0:1};function L(I){for(var R=I.g.length,C=[],M=0;M<R;M++)C[M]=~I.g[M];return new h(C,~I.h).add(T)}i.abs=function(){return F(this)?L(this):this},i.add=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0,V=0;V<=R;V++){var j=M+(this.i(V)&65535)+(I.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=D>>>16,j&=65535,D&=65535,C[V]=D<<16|j}return new h(C,C[C.length-1]&-2147483648?-1:0)};function B(I,R){return I.add(L(R))}i.j=function(I){if(O(this)||O(I))return w;if(F(this))return F(I)?L(this).j(L(I)):L(L(this).j(I));if(F(I))return L(this.j(L(I)));if(0>this.l(x)&&0>I.l(x))return g(this.m()*I.m());for(var R=this.g.length+I.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<I.g.length;V++){var j=this.i(M)>>>16,D=this.i(M)&65535,Ae=I.i(V)>>>16,qe=I.i(V)&65535;C[2*M+2*V]+=D*qe,$(C,2*M+2*V),C[2*M+2*V+1]+=j*qe,$(C,2*M+2*V+1),C[2*M+2*V+1]+=D*Ae,$(C,2*M+2*V+1),C[2*M+2*V+2]+=j*Ae,$(C,2*M+2*V+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new h(C,0)};function $(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function J(I,R){this.g=I,this.h=R}function oe(I,R){if(O(R))throw Error("division by zero");if(O(I))return new J(w,w);if(F(I))return R=oe(L(I),R),new J(L(R.g),L(R.h));if(F(R))return R=oe(I,L(R)),new J(L(R.g),R.h);if(30<I.g.length){if(F(I)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,M=R;0>=M.l(I);)C=le(C),M=le(M);var V=me(C,1),j=me(M,1);for(M=me(M,2),C=me(C,2);!O(M);){var D=j.add(M);0>=D.l(I)&&(V=V.add(C),j=D),M=me(M,1),C=me(C,1)}return R=B(I,V.j(R)),new J(V,R)}for(V=w;0<=I.l(R);){for(C=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(C),D=j.j(R);F(D)||0<D.l(I);)C-=M,j=g(C),D=j.j(R);O(j)&&(j=T),V=V.add(j),I=B(I,D)}return new J(V,I)}i.A=function(I){return oe(this,I).h},i.and=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},i.or=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},i.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function le(I){for(var R=I.g.length+1,C=[],M=0;M<R;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function me(I,R){var C=R>>5;R%=32;for(var M=I.g.length-C,V=[],j=0;j<M;j++)V[j]=0<R?I.i(j+C)>>>R|I.i(j+C+1)<<32-R:I.i(j+C);return new h(V,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Zr=h}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rw,nu,sw,vh,pp,aw,ow,lw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in _))break e;_=_[q]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,q={next:function(){if(!A&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,q,Q){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return y.prototype[q].apply(A,ae)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const q=c.length||0,Q=A.length||0;c.length=q+Q;for(let ae=0;ae<Q;ae++)c[q+ae]=A[ae]}else c.push(A)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function me(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)c[_]=A[_];for(let Q=0;Q<C.length;Q++)_=C[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const A=qe.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var qe=new B(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,Be=new Ae,P=()=>{const c=d.Promise.resolve(void 0);re=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Oe(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{oe(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}O(Oe,se);var be={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ai(c,y,_,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++tt,this.da=this.fa=!1}function pr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oi(c){this.src=c,this.g={},this.h=0}Oi.prototype.add=function(c,y,_,A,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ps(c,y,A,q);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new ai(y,this.src,Q,!!A,q),y.fa=_,c.push(y)),y};function ms(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(A,q,1),Q&&(pr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ps(c,y,_,A){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return q}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),jo={};function Uu(c,y,_,A,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Uu(c,y[Q],_,A,q);return null}return _=ju(_),c&&c[Dt]?c.K(y,_,g(A)?!!A.capture:!1,q):Rn(c,y,_,!1,A,q)}function Rn(c,y,_,A,q,Q){if(!y)throw Error("Invalid event type");var ae=g(q)?!!q.capture:!!q,Le=pa(c);if(Le||(c[gs]=Le=new Oi(c)),_=Le.add(y,_,A,ae,Q),_.proxy)return _;if(A=Df(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ye||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(ys(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Df(){function c(_){return y.call(c.src,c.listener,_)}const y=Mf;return c}function zo(c,y,_,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)zo(c,y[Q],_,A,q);else A=g(A)?!!A.capture:!!A,_=ju(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=ps(Q,_,A,q),-1<_&&(pr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ps(y,_,A,q)),(_=-1<c?y[c]:null)&&ma(_))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ms(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ys(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=pa(y))?(ms(_,c),_.h==0&&(_.src=null,y[gs]=null)):pr(c)}}}function ys(c){return c in jo?jo[c]:jo[c]="on"+c}function Mf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ma(c),c=_.call(A,y)}return c}function pa(c){return c=c[gs],c instanceof Oi?c:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(c){return typeof c=="function"?c:(c[Bo]||(c[Bo]=function(y){return c.handleEvent(y)}),c[Bo])}function ht(){ue.call(this),this.i=new Oi(this),this.M=this,this.F=null}O(ht,ue),ht.prototype[Dt]=!0,ht.prototype.removeEventListener=function(c,y,_,A){zo(this,c,y,_,A)};function $e(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var q=y;y=new se(A,c),M(y,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=y.g=_[Q];q=dn(ae,A,!0,y)&&q}if(ae=y.g=c,q=dn(ae,A,!0,y)&&q,q=dn(ae,A,!1,y)&&q,_)for(Q=0;Q<_.length;Q++)ae=y.g=_[Q],q=dn(ae,A,!1,y)&&q}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)pr(_[A]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ht.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function dn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==_){var Le=ae.listener,It=ae.ha||ae.src;ae.fa&&ms(c.i,ae),q=Le.call(It,A)!==!1&&q}}return q&&!A.defaultPrevented}function $t(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Pf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){ue.call(this),this.h=c,this.g={}}O(vs,ue);var _s=[];function Es(c){me(c.g,function(y,_){this.g.hasOwnProperty(_)&&ma(y)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Es(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,ga=d.JSON.parse,Ts=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function qo(){}qo.prototype.h=null;function Ho(c){return c.h||(c.h=c.i())}function Fo(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){se.call(this,"d")}O(Mi,se);function Go(){se.call(this,"c")}O(Go,se);var oi={},Yo=null;function gr(){return Yo=Yo||new ht}oi.La="serverreachability";function ya(c){se.call(this,oi.La,c)}O(ya,se);function yr(c){const y=gr();$e(y,new ya(y))}oi.STAT_EVENT="statevent";function Bu(c,y){se.call(this,oi.STAT_EVENT,c),this.stat=y}O(Bu,se);function rt(c){const y=gr();$e(y,new Bu(y,c))}oi.Ma="timingevent";function Rt(c,y){se.call(this,oi.Ma,c),this.size=y}O(Rt,se);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function $o(c,y,_,A,q,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Le=Q.split("&"),It=0;It<Le.length;It++){var Ue=Le[It].split("=");if(1<Ue.length){var Pt=Ue[0];Ue=Ue[1];var Ct=Pt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(Pt+"="+Ue+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+ae})}function kf(c,y,_,A,q,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+Q+" "+ae})}function vr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(c,_)+(A?" "+A:"")})}function qu(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function ws(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return Fn(_)}catch{return y}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}O(ui,qo),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function tn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Ko={},va={};function Gn(c,y,_){c.L=1,c.v=Is(mn(y)),c.m=_,c.P=!0,ki(c,null)}function ki(c,y){c.F=Date.now(),bs(c),c.A=mn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),el(_.i,"t",A),c.C=0,_=c.j.J,c.h=new pt,c.g=rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Pf(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(_s[0]=q.toString()),q=_s);for(var Q=0;Q<q.length;Q++){var ae=Uu(_,q[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yr(),$o(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=On(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Hi?yr(3):yr(2)),Er(this);var _=this.g.Z();this.X=_;t:if(Hu(this)){var A=Xu(this.g);c="";var q=A.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ci(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==q-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,kf(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,It=this.g;if((Le=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,_);else{this.o=!1,this.s=3,rt(12),jt(this),ci(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Fu(this,ae),zt==va){Ct==4&&(this.s=4,rt(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ko){this.s=4,rt(15),vr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,zt,null),As(this,zt);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,ae,"[Invalid Chunked Response]"),jt(this),ci(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ks(Pt),Pt.M=!0,rt(11))}}else vr(this.i,this.l,ae,null),As(this,ae);Ct==4&&jt(this),this.o&&!this.J&&(Ct==4?tc(this.j,this):(this.o=!1,bs(this)))}else zf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),jt(this),ci(this)}}}catch{}finally{}};function Hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?va:(_=Number(y.substring(_,A)),isNaN(_)?Ko:(A+=1,A+_>y.length?va:(y=y.slice(A,A+_),c.C=A+_,y)))}tn.prototype.cancel=function(){this.J=!0,jt(this)};function bs(c){c.S=Date.now()+c.I,Gu(c,c.I)}function Gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(T(c.ba,c),y)}function Er(c){c.B&&(d.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qu(this.i,this.A),this.L!=2&&(yr(),rt(17)),jt(this),this.s=2,ci(this)):Gu(this,this.S-c)};function ci(c){c.j.G==0||c.J||tc(c.j,c)}function jt(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function As(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Qo(_.h,c))){if(!c.K&&Qo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Na(_),Ca(_);else break e;sl(_),rt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(T(_.Za,_),6e3));if(1>=Ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((c.K||_.g==c)&&Na(_),!$(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Ue=q[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Pt=Ue[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Ct=Ue[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Hi=Ue[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(A=1.5*Hi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const yi=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var Q=A.h;Q.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ta(Q,Q.h),Q.h=null))}if(A.D){const ol=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,Xe(A.I,A.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=c;if(A.qa=ic(A,A.J?A.ia:null,A.W),ae.K){nn(A.h,ae);var Le=ae,It=A.L;It&&(Le.I=It),Le.B&&(Er(Le),bs(Le)),A.g=ae}else Ju(A);0<_.i.length&&xa(_)}else Ue[0]!="stop"&&Ue[0]!="close"||qi(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?qi(_,7):il(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}yr(4)}catch{}}var Yu=class{constructor(c,y){this.g=c,this.map=y}};function Vi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function Qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vi.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function Vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function wa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=wa(c),A=Vf(c),q=A.length,Q=0;Q<q;Q++)y.call(void 0,A[Q],_&&_[Q],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),q=null;if(0<=A){var Q=c[_].substring(0,A);q=c[_].substring(A+1)}else Q=c[_];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.s),this.l=c.l;var y=c.i,_=new Ui;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Li(this,_),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),Tr(this,y[4]),this.l=Cn(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cs(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Cs(_,_.charAt(0)=="/"?Uf:Jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Cs(_,ba)),c.join("")};function mn(c){return new Tt(c)}function Rs(c,y,_){c.j=_?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Li(c,y,_){y instanceof Ui?(c.i=y,Ku(c.i,c.h)):(_||(y=Cs(y,jf)),c.i=new Ui(y,c.h))}function Xe(c,y,_){c.i.set(y,_)}function Is(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,$u),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $u(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,Uf=/[#\?]/g,jf=/[#\?@]/g,ba=/#/g;function Ui(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Lf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ui.prototype,i.add=function(c,y){xn(this),this.i=null,c=hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ji(c,y){xn(c),y=hi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zi(c,y){return xn(c),y=hi(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(_,A){_.forEach(function(q){c.call(y,q,A,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=c[A];for(let Q=0;Q<q.length;Q++)_.push(y[A])}return _},i.V=function(c){xn(this);let y=[];if(typeof c=="string")zi(this,c)&&(y=y.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return xn(this),this.i=null,c=hi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function el(c,y,_){ji(c,y),0<_.length&&(c.i=null,c.g.set(hi(c,y),F(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var q=Q;ae[A]!==""&&(q+="="+encodeURIComponent(String(ae[A]))),c.push(q)}}return this.i=c.join("&")};function hi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ku(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(ji(this,A),el(this,q,_))},c)),c.j=y}function xs(c,y){const _=new In;if(d.Image){const A=new Image;A.onload=x(Nn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Nn,_,"TestLoadImage: error",!1,y,A),A.onabort=x(Nn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Nn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yn(c,y){const _=new In,A=new AbortController,q=setTimeout(()=>{A.abort(),Nn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Nn(_,"TestPingServer: ok",!0,y):Nn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Nn(_,"TestPingServer: error",!1,y)})}function Nn(c,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Ns(){this.g=new Ts}function fi(c,y,_){const A=_||"";try{Wo(c,function(q,Q){let ae=q;g(q)&&(ae=Fn(q)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(wr,qo),wr.prototype.g=function(){return new Bi(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Bi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Bi,ht),i=Bi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return me(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xe(c,y,_))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ge,ht);var Aa=/^https?$/i,Os=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Ho(this.o):Ho(li),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Qu(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Qu(this,Q)}};function Qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),pi(c)}function Sa(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},i.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)$t(c.Ea,0,c);else if($e(c,"readystatechange"),On(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ae===0){var q=String(c.D).match(Ss)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Aa.test(q?q.toLowerCase():"")}_=A}if(_)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Sa(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){Ds(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{_.onreadystatechange=A}catch{}}}function Ds(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ga(y)}};function Xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if($(c[A]))continue;var _=V(c[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[q]||[];y[q]=Q,Q.push(_)}I(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ia.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){rt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=ic(this,null,this.W),xa(this)};function il(c){if(Wu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Xe(_,"SID",c.K),Xe(_,"RID",y),Xe(_,"TYPE","terminate"),Ps(c,_),y=new tn(c,c.j,y),y.L=2,y.v=Is(mn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}nc(c)}function Ca(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function Wu(c){Ca(c),c.u&&(d.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function xa(c){if(!_a(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||P(),he||(re(),he=!0),Be.add(y,c),c.B=0}}function Bf(c,y){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(T(c.Ga,c,y),al(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new tn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zu(this,q,y),_=mn(this.I),Xe(_,"RID",c),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ps(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(nl(Q)))+"&"+y:this.m&&Mt(_,this.m,Q)),Ta(this.h,q),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",y),Xe(_,"SID","null"),q.T=!0,Gn(q,_,null)):Gn(q,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||_a(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const A=mn(c.I);Xe(A,"SID",c.K),Xe(A,"RID",_),Xe(A,"AID",c.T),Ps(c,A),c.m&&c.o&&Mt(A,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,_),Gn(_,A,y)}function Ps(c,y){c.H&&me(c.H,function(_,A){Xe(y,A,_)}),c.l&&Wo({},function(_,A){Xe(y,A,_)})}function Zu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=q[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Le=!0;for(let It=0;It<_;It++){let Ue=q[It].g;const Pt=q[It].map;if(Ue-=Q,0>Ue)Q=Math.max(0,q[It].g-100),Le=!1;else try{fi(Pt,ae,"req"+Ue+"_")}catch{A&&A(Pt)}}if(Le){A=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||P(),he||(re(),he=!0),Be.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(T(c.Fa,c),al(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ca(this),ec(this))};function ks(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Ps(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Is(mn(y)),_.m=null,_.P=!0,ki(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ca(this),sl(this),rt(19))};function Na(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function tc(c,y){var _=null;if(c.g==y){Na(c),ks(c),c.g=null;var A=2}else if(Qo(c.h,y))_=y.D,nn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;A=gr(),$e(A,new Rt(A,_)),xa(c)}else Ju(c);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&Bf(c,y)||A==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),A=c.Xa;const q=!A;A=new Tt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rs(A,"https"),Is(A),q?xs(A.toString(),_):Yn(A.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),nc(c),Wu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,_){var A=_ instanceof Tt?mn(_):new Tt(_);if(A.g!="")y&&(A.g=y+"."+A.g),Tr(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Tt(null);A&&Rs(Q,A),y&&(Q.g=y),q&&Tr(Q,q),_&&(Q.l=_),A=Q}return _=c.D,y=c.ya,_&&y&&Xe(A,_,y),Xe(A,"VER",c.la),Ps(c,A),A}function rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new wr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ht.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}O(rn,ht),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){il(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new Yu(y.Ya++,c)),y.G==3&&xa(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,rn.aa.N.call(this)};function ac(c){Mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(ac,Mi);function oc(){Go.call(this),this.status=1}O(oc,Go);function gi(c){this.g=c}O(gi,sc),gi.prototype.ua=function(){$e(this.g,"a")},gi.prototype.ta=function(c){$e(this.g,new ac(c))},gi.prototype.sa=function(c){$e(this.g,new oc)},gi.prototype.ra=function(){$e(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,lw=function(){return new Oa},ow=function(){return gr()},aw=oi,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,vh=_r,Pi.COMPLETE="complete",sw=Pi,Fo.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ht.prototype.listen=ht.prototype.K,nu=Fo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,rw=Ge}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",q0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new sf("@firebase/firestore");function oo(){return na.logLevel}function ce(i,...e){if(na.logLevel<=ke.DEBUG){const t=e.map(ig);na.debug(`Firestore (${Oo}): ${i}`,...t)}}function hr(i,...e){if(na.logLevel<=ke.ERROR){const t=e.map(ig);na.error(`Firestore (${Oo}): ${i}`,...t)}}function vo(i,...e){if(na.logLevel<=ke.WARN){const t=e.map(ig);na.warn(`Firestore (${Oo}): ${i}`,...t)}}function ig(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,uw(i,s,t)}function uw(i,e,t){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw hr(s),new Error(s)}function Ye(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||uw(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new cw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class $C{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new H0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function gp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=hw(),h=WC(u.encode(F0(i,t)),u.encode(F0(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(i.length,e.length)}function F0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function WC(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ne(i[t],e[t]);return Ne(i.length,e.length)}function _o(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Y0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Y0);return new mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class Ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=Ai.isNumericId(e),o=Ai.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(t)):gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class it extends Ai{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ai{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Gt([$0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function JC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new mt(t+1,0):new mt(t,s));return new ns(o,ge.empty(),e)}function ex(i){return new ns(i.readTime,i.key,pu)}class ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ns(Se.min(),ge.empty(),pu)}static max(){return new ns(Se.max(),ge.empty(),pu)}}function tx(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==nx)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},m=>s(m))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(v=>{h[g]=v,++d,d===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function rx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}af.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function of(i){return i==null}function Oh(i){return i===0&&1/i==-1/0}function sx(i){return typeof i=="number"&&Number.isInteger(i)&&!Oh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="";function ax(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=K0(e)),e=ox(i.get(t),e);return K0(e)}function ox(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case dw:t+="";break;default:t+=u}}return t}function K0(i){return i+dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function mw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Ot(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pw("Invalid base64 string: "+u):u}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const t=lx.exec(i);if(Ye(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rs(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="server_timestamp",yw="__type__",vw="__previous_value__",_w="__local_write_time__";function sg(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yw])===null||t===void 0?void 0:t.stringValue)===gw}function lf(i){const e=i.mapValue.fields[vw];return sg(e)?lf(e):e}function gu(i){const e=is(i.mapValue.fields[_w].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,s,o,u,h,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Dh="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__type__",cx="__max__",hh={mapValue:{}},Tw="__vector__",Mh="value";function ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sg(i)?4:fx(i)?9007199254740991:hx(i)?10:11:Te(28295,{value:i})}function Ni(i,e){if(i===e)return!0;const t=ss(i);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gu(i).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=is(o.timestampValue),d=is(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Q0(h)!==Q0(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Ni(h[m],d[m])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function vu(i,e){return(i.values||[]).find(t=>Ni(t,e))!==void 0}function Eo(i,e){if(i===e)return 0;const t=ss(i),s=ss(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),m=vt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return W0(i.timestampValue,e.timestampValue);case 4:return W0(gu(i),gu(e));case 5:return gp(i.stringValue,e.stringValue);case 6:return function(u,h){const d=rs(u),m=rs(h);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ne(d[g],m[g]);if(v!==0)return v}return Ne(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ne(vt(u.latitude),vt(h.latitude));return d!==0?d:Ne(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Z0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,m,g,v;const w=u.fields||{},T=h.fields||{},x=(d=w[Mh])===null||d===void 0?void 0:d.arrayValue,O=(m=T[Mh])===null||m===void 0?void 0:m.arrayValue,F=Ne(((g=x?.values)===null||g===void 0?void 0:g.length)||0,((v=O?.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:Z0(x,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===hh.mapValue&&h===hh.mapValue)return 0;if(u===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const T=gp(m[w],v[w]);if(T!==0)return T;const x=Eo(d[m[w]],g[v[w]]);if(x!==0)return x}return Ne(m.length,v.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function W0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=is(i),s=is(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function Z0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Eo(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function To(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=is(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return rs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=yp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${yp(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function _h(i){switch(ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,h)=>{o+=u.length+_h(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function J0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function eE(i){return!!i&&"nullValue"in i}function tE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function hx(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ew])===null||t===void 0?void 0:t.stringValue)===Tw}function ou(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ou(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(i.arrayValue.values[t]);return e}return Object.assign({},i)}function fx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=ou(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(ou(this.value))}}function ww(i){const e=[];return us(i.fields,(t,s)=>{const o=new Gt([t]);if(Eh(s)){const u=ww(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function nE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Eo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ni(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t="asc"){this.field=e,this.dir=t}}function dx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class St extends bw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new px(e,t,s):t==="array-contains"?new vx(e,s):t==="in"?new _x(e,s):t==="not-in"?new Ex(e,s):t==="array-contains-any"?new Tx(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gx(e,s):new yx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Eo(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ei(e,t)}matches(e){return Aw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Aw(i){return i.op==="and"}function Sw(i){return mx(i)&&Aw(i)}function mx(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function _p(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+To(i.value);if(Sw(i))return i.filters.map(e=>_p(e)).join(",");{const e=i.filters.map(t=>_p(t)).join(",");return`${i.op}(${e})`}}function Rw(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)}(i,e):i instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Rw(h,o.filters[d]),!0):!1}(i,e):void Te(19439)}function Iw(i){return i instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(i):i instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(Iw).join(" ,")+"}"}(i):"Filter"}class px extends St{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class gx extends St{constructor(e,t){super(e,"in",t),this.keys=Cw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yx extends St{constructor(e,t){super(e,"not-in",t),this.keys=Cw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class vx extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&vu(t.arrayValue,this.value)}}class _x extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class Ex extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}}class Tx extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function rE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new wx(i,e,t,s,o,u,h)}function og(i){const e=Re(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>_p(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.Ie=t}return e.Ie}function lg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!dx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Rw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!iE(i.startAt,e.startAt)&&iE(i.endAt,e.endAt)}function Ep(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bx(i,e,t,s,o,u,h,d){return new Po(i,e,t,s,o,u,h,d)}function uf(i){return new Po(i)}function sE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xw(i){return i.collectionGroup!==null}function lu(i){const e=Re(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot(Gt.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new _u(u,s))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new _u(Gt.keyField(),s))}return e.Ee}function Si(i){const e=Re(i);return e.de||(e.de=Ax(e,lu(i))),e.de}function Ax(i,e){if(i.limitType==="F")return rE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)});const t=i.endAt?new Ph(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ph(i.startAt.position,i.startAt.inclusive):null;return rE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Tp(i,e){const t=i.filters.concat([e]);return new Po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,t){return new Po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function cf(i,e){return lg(Si(i),Si(e))&&i.limitType===e.limitType}function Nw(i){return`${og(Si(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Iw(o)).join(", ")}]`),of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>To(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(Si(i))}; limitType=${i.limitType})`}function hf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of lu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,m){const g=nE(h,d,m);return h.inclusive?g<=0:g<0}(s.startAt,lu(s),o)||s.endAt&&!function(h,d,m){const g=nE(h,d,m);return h.inclusive?g>=0:g>0}(s.endAt,lu(s),o))}(i,e)}function Sx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ow(i){return(e,t)=>{let s=!1;for(const o of lu(i)){const u=Rx(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Rx(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Eo(m,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new ct(ge.comparator);function fr(){return Ix}const Dw=new ct(ge.comparator);function iu(...i){let e=Dw;for(const t of i)e=e.insert(t.key,t);return e}function Mw(i){let e=Dw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return uu()}function Pw(){return uu()}function uu(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const Cx=new ct(ge.comparator),xx=new Ot(ge.comparator);function Ve(...i){let e=xx;for(const t of i)e=e.add(t);return e}const Nx=new Ot(Ne);function Ox(){return Nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function kw(i){return{integerValue:""+i}}function Vw(i,e){return sx(e)?kw(e):ug(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function Dx(i,e,t){return i instanceof kh?function(o,u){const h={fields:{[yw]:{stringValue:gw},[_w]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=lf(u)),u&&(h.fields[vw]=u),{mapValue:h}}(t,e):i instanceof wo?Uw(i,e):i instanceof Eu?jw(i,e):function(o,u){const h=Lw(o,u),d=aE(h)+aE(o.Re);return vp(h)&&vp(o.Re)?kw(d):ug(o.serializer,d)}(i,e)}function Mx(i,e,t){return i instanceof wo?Uw(i,e):i instanceof Eu?jw(i,e):t}function Lw(i,e){return i instanceof Tu?function(s){return vp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class kh extends ff{}class wo extends ff{constructor(e){super(),this.elements=e}}function Uw(i,e){const t=zw(e);for(const s of i.elements)t.some(o=>Ni(o,s))||t.push(s);return{arrayValue:{values:t}}}class Eu extends ff{constructor(e){super(),this.elements=e}}function jw(i,e){let t=zw(e);for(const s of i.elements)t=t.filter(o=>!Ni(o,s));return{arrayValue:{values:t}}}class Tu extends ff{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aE(i){return vt(i.integerValue||i.doubleValue)}function zw(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.field=e,this.transform=t}}function Px(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof Eu&&o instanceof Eu?_o(s.elements,o.elements,Ni):s instanceof Tu&&o instanceof Tu?Ni(s.Re,o.Re):s instanceof kh&&o instanceof kh}(i.transform,e.transform)}class kx{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function qw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cg(i.key,Bn.none()):new xu(i.key,i.data,Bn.none());{const t=i.data,s=hn.empty();let o=new Ot(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new cs(i.key,s,new wn(o.toArray()),Bn.none())}}function Vx(i,e,t){i instanceof xu?function(o,u,h){const d=o.value.clone(),m=lE(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof cs?function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=lE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(Hw(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function cu(i,e,t,s){return i instanceof xu?function(u,h,d,m){if(!Th(u.precondition,h))return d;const g=u.value.clone(),v=uE(u.fieldTransforms,m,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof cs?function(u,h,d,m){if(!Th(u.precondition,h))return d;const g=uE(u.fieldTransforms,m,h),v=h.data;return v.setAll(Hw(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,t,s):function(u,h,d){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function Lx(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Lw(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function oE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,h)=>Px(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends df{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends df{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lE(i,e,t){const s=new Map;Ye(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,Mx(h,d,t[o]))}return s}function uE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,Dx(u,h,e))}return s}class cg extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Vx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Pw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const m=qw(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>oE(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>oE(t,s))}}class hg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Cx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new hg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function qx(i){switch(i){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function Fw(i){if(i===void 0)return hr("GRPC error has no .code"),te.UNKNOWN;switch(i){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:i})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Zr([4294967295,4294967295],0);function cE(i){const e=hw().encode(i),t=new iw;return t.update(e),new Uint8Array(t.digest())}function hE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zr([t,s],0),new Zr([o,u],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Zr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Zr.fromNumber(s)));return o.compare(Hx)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=cE(e),[s,o]=hE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.pe===0)return;const t=cE(e),[s,o]=hE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mf(Se.min(),o,new ct(Ne),fr(),Ve())}}class Nu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Nu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class Gw{constructor(e,t){this.targetId=e,this.Ce=t}}class Yw{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class fE{constructor(){this.Fe=0,this.Me=dE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),s=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Nu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=dE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Fx{constructor(e){this.ze=e,this.je=new Map,this.He=fr(),this.Je=fh(),this.Ye=fh(),this.Ze=new ct(Ne)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(Ep(u))if(s===0){const h=new ge(u.path);this.tt(t,h,Zt.newNoDocument(h,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const d=this.ct(e),m=d?this.lt(d,e,h):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=rs(s).toUint8Array()}catch(m){if(m instanceof pw)return vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new fg(h,o,u)}catch(m){return vo(m instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&Ep(d.target)){const m=new ge(d.target.path);this.Et(m).has(h)||this.dt(h,m)||this.tt(h,m,Zt.newNoDocument(m,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=Ve();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new mf(e,t,this.Ze,this.He,s);return this.He=fr(),this.Je=fh(),this.Ye=fh(),this.Ze=new ct(Ne),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot(Ne),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot(Ne),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function fh(){return new ct(ge.comparator)}function dE(){return new ct(ge.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Kx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bp(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $w(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Qx(i,e){return Vh(i,e.toTimestamp())}function Ri(i){return Ye(!!i,49232),Se.fromTimestamp(function(t){const s=is(t);return new mt(s.seconds,s.nanos)}(i))}function dg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Kw(i){const e=it.fromString(i);return Ye(Jw(e),10190,{key:e.toString()}),e}function Sp(i,e){return dg(i.databaseId,e.path)}function Gm(i,e){const t=Kw(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(Xw(t))}function Qw(i,e){return dg(i.databaseId,e)}function Xx(i){const e=Kw(i);return e.length===4?it.emptyPath():Xw(e)}function Rp(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Xw(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mE(i,e,t){return{name:Sp(i,e),fields:t.value.mapValue.fields}}function Wx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?te.UNKNOWN:Fw(g.code);return new fe(v,g.message||"")}(h);t=new Yw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(i,s.document.name),u=Ri(s.document.updateTime),h=s.document.createTime?Ri(s.document.createTime):Se.min(),d=new hn({mapValue:{fields:s.document.fields}}),m=Zt.newFoundDocument(o,u,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new wh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gm(i,s.document),u=s.readTime?Ri(s.readTime):Se.min(),h=Zt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new wh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gm(i,s.document),u=s.removedTargetIds||[];t=new wh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Bx(o,u),d=s.targetId;t=new Gw(d,h)}}return t}function Zx(i,e){let t;if(e instanceof xu)t={update:mE(i,e.key,e.value)};else if(e instanceof cg)t={delete:Sp(i,e.key)};else if(e instanceof cs)t={update:mE(i,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof Ux))return Te(16599,{ft:e.type});t={verify:Sp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Qx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function Jx(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Ri(o.updateTime):Ri(u);return h.isEqual(Se.min())&&(h=Ri(u)),new kx(h,o.transformResults||[])}(t,e))):[]}function e2(i,e){return{documents:[Qw(i,e.path)]}}function t2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Qw(i,o);const u=function(g){if(g.length!==0)return Zw(ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:uo(T.field),direction:r2(T.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=bp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function n2(i){let e=Xx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(w){const T=Ww(w);return T instanceof ei&&Sw(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(T=>function(O){return new _u(co(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,of(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(w){const T=!!w.before,x=w.values||[];return new Ph(x,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,x=w.values||[];return new Ph(x,T)}(t.endAt)),bx(e,o,h,u,d,"F",m,g)}function i2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ww(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return St.create(co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(s=>Ww(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function r2(i){return Gx[i]}function s2(i){return Yx[i]}function a2(i){return $x[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Gt.fromServerFormat(i.fieldPath)}function Zw(i){return i instanceof St?function(t){if(t.op==="=="){if(tE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(eE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(eE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:s2(t.op),value:t.value}}}(i):i instanceof ei?function(t){const s=t.getFilters().map(o=>Zw(o));return s.length===1?s[0]:{compositeFilter:{op:a2(t.op),filters:s}}}(i):Te(54877,{filter:i})}function o2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,s,o,u=Se.min(),h=Se.min(),d=Yt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.wt=e}}function u2(i){const e=n2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Cn=new h2}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ns.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class h2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(it.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(eb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new bo(0)}static lr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",f2=1048576;function yE([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class d2{constructor(e){this.Er=e,this.buffer=new Ot(yE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(gE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?ce(gE,"Ignoring IndexedDB error during garbage collection: ",t):await Do(t)}await this.mr(3e5)})}}class p2{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(af.le);const s=new d2(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(pE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,h,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),oo()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function g2(i,e){return new p2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.changes=new ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&cu(s.mutation,o,wn.empty(),mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=iu();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=fr();const h=uu(),d=function(){return uu()}();return t.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof cs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),cu(v.mutation,g,v.mutation.getFieldMask(),mt.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var w;return d.set(g,new v2(v,(w=h.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=uu();let o=new ct((h,d)=>h-d),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||wn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const w=(o.get(d.batchId)||Ve()).add(m);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,w=Pw();v.forEach(T=>{if(!u.has(T)){const x=qw(t.get(T),s.get(T));x!==null&&w.set(T,x),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Zs());let d=pu,m=u;return h.next(g=>ne.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Ve())).next(v=>({batchId:d,changes:Mw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=iu();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,m=>{const g=function(w,T){return new Po(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Zt.newInvalidDocument(v)))});let d=iu();return h.forEach((m,g)=>{const v=u.get(m);v!==void 0&&cu(v.mutation,g,wn.empty(),mt.now()),hf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:u2(o.bundledQuery),readTime:Ri(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.overlays=new ct(ge.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Zs(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Zs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Zs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return ne.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zx(t,s));let u=this.Qr.get(t);u===void 0&&(u=Ve(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.$r=new Ot(Ut.Ur),this.Kr=new Ot(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Ut(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new ge(new it([])),s=new Ut(t,e),o=new Ut(t,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ge(new it([])),s=new Ut(t,e),o=new Ut(t,e+1);let u=Ve();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ut(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ge.comparator(e.key,t.key)||Ne(e.Zr,t.Zr)}static Wr(e,t){return Ne(e.Zr,t.Zr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Ut.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jx(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Xr=this.Xr.add(new Ut(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?rg:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const d=this.ei(h.Zr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Ne);return t.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],d=>{s=s.add(d.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new ge(u),0);let d=new Ot(Ne);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Zr)),!0)},h),ne.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(t.mutations,o=>{const u=new Ut(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Ut(t,0),o=this.Xr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.ii=e,this.docs=function(){return new ct(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=fr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=fr();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||tx(ex(v),s)<=0||(o.has(v.key)||hf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}si(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new S2(this)}getSize(e){return ne.resolve(this.size)}}class S2 extends y2{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.persistence=e,this.oi=new ca(t=>og(t),lg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new mg,this.targetCount=0,this.ui=bo.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new bo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.ci={},this.overlays={},this.li=new af(0),this.hi=!1,this.hi=!0,this.Pi=new w2,this.referenceDelegate=e(this),this.Ti=new R2(this),this.indexManager=new c2,this.remoteDocumentCache=function(o){return new A2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new l2(t),this.Ei=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new b2(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new I2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class I2 extends ix{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Vi=new mg,this.mi=null}static fi(e){return new pg(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const o=ge.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.yi=new ca(s=>ax(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=g2(this,t)}static fi(e,t){return new Lh(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Dr(e,t,s){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SI()?8:rx(en())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new C2;return this.Ss(e,t,h).next(d=>{if(u.result=d,this.fs)return this.Ds(e,t,h,d.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(oo()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(oo()<=ke.DEBUG&&ce("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(oo()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):ne.resolve())}ws(e,t){if(sE(t))return ne.resolve(null);let s=Si(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),s=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ys.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(t,d);return this.Cs(t,g,h,m.readTime)?this.ws(e,wp(t,null,"F")):this.Fs(e,g,t,m)}))})))}bs(e,t,s,o){return sE(t)||o.isEqual(Se.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,s,o)?ne.resolve(null):(oo()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.Fs(e,h,t,JC(o,pu)).next(d=>d))})}vs(e,t){let s=new Ot(Ow(e));return t.forEach((o,u)=>{hf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return oo()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ys.getDocumentsMatchingQuery(e,t,ns.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",N2=3e8;class O2{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ct(Ne),this.Os=new ca(u=>og(u),lg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function D2(i,e,t,s){return new O2(i,e,t,s)}async function nb(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let m=Ve();for(const g of o){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function M2(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const w=g.batch,T=w.keys();let x=ne.resolve();return T.forEach(O=>{x=x.next(()=>v.getEntry(m,O)).next(F=>{const L=g.docVersions.get(O);Ye(L!==null,48541),F.version.compareTo(L)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function ib(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function P2(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Ti.removeMatchingKeys(u,v.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(u,v.addedDocuments,w)));let x=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(w,x),function(F,L,B){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=N2?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,x,v)&&d.push(t.Ti.updateTargetData(u,x))});let m=fr(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(k2(u,h,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(Se.min())){const v=t.Ti.getLastRemoteSnapshotVersion(u).next(w=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.xs=o,u))}function k2(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=fr();return t.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):ce(yg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:h,Qs:o}})}function V2(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function L2(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new Qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Ip(i,e,t){const s=Re(i),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;ce(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function vE(i,e,t){const s=Re(i);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,v){const w=Re(m),T=w.Os.get(v);return T!==void 0?ne.resolve(w.xs.get(T)):w.Ti.getTargetData(g,v)}(s,h,Si(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Ve())).next(d=>(U2(s,Sx(e),d),{documents:d,$s:u})))}function U2(i,e,t){let s=i.Ns.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class _E{constructor(){this.activeTargetIds=Ox()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j2{constructor(){this.xo=new _E,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _E,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Cp(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const h=Cp(),d=this.jo(e,t.toUriEncodedString());ce(Ym,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(d),v=xo(g);return this.Jo(e,d,m,s,v).then(w=>(ce(Ym,`Received RPC '${e}' ${h}: `,w),w),w=>{throw vo(Ym,`RPC '${e}' ${h} failed with error: `,w,"url: ",d,"request:",s),w})}Yo(e,t,s,o,u,h){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=B2[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class F2 extends q2{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Cp();return new Promise((d,m)=>{const g=new rw;g.setWithCredentials(!0),g.listenOnce(sw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),d(w);break;case vh.TIMEOUT:ce(Xt,`RPC '${e}' ${h} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const T=g.getStatus();if(ce(Xt,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const F=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN}(O.status);m(new fe(F,O.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ce(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)})}I_(e,t,s){const o=Cp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=lw(),d=ow(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${v}`,m);const w=h.createWebChannel(v,m);this.E_(w);let T=!1,x=!1;const O=new H2({Zo:L=>{x?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Xo:()=>w.close()}),F=(L,B,$)=>{L.listen(B,J=>{try{$(J)}catch(oe){setTimeout(()=>{throw oe},0)}})};return F(w,nu.EventType.OPEN,()=>{x||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),O.__())}),F(w,nu.EventType.CLOSE,()=>{x||(x=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),O.u_(),this.d_(w))}),F(w,nu.EventType.ERROR,L=>{x||(x=!0,vo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),O.u_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),F(w,nu.EventType.MESSAGE,L=>{var B;if(!x){const $=L.data[0];Ye(!!$,16349);const J=$,oe=J?.error||((B=J[0])===null||B===void 0?void 0:B.error);if(oe){ce(Xt,`RPC '${e}' stream ${o} received error:`,oe);const le=oe.status;let me=function(C){const M=At[C];if(M!==void 0)return Fw(M)}(le),I=oe.message;me===void 0&&(me=te.INTERNAL,I="Unknown error status: "+le+" with message "+oe.message),x=!0,O.u_(new fe(me,I)),w.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,$),O.c_($)}}),F(d,aw.STAT_EVENT,L=>{L.stat===pp.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===pp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new Kx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class sb{constructor(e,t,s,o,u,h,d,m){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rb(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===t&&this.z_(s,o)},s=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G2 extends sb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Wx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Ri(h.readTime):Se.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Rp(this.serializer),t.addTarget=function(u,h){let d;const m=h.target;if(d=Ep(m)?{documents:e2(u,m)}:{query:t2(u,m).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=$w(u,h.resumeToken);const g=bp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Vh(u,h.snapshotVersion.toTimestamp());const g=bp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=i2(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.Q_(t)}}class Y2 extends sb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Jx(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Rp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Zx(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{}class K2 extends $2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,Ap(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(e,Ap(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(te.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Q2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hr(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class X2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{ha(this)&&(ce(ia,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.da.add(4),await Ou(g),g.Va.set("Unknown"),g.da.delete(4),await gf(g)}(this))})}),this.Va=new Q2(s,o)}}async function gf(i){if(ha(i))for(const e of i.Aa)await e(!0)}async function Ou(i){for(const e of i.Aa)await e(!1)}function ab(i,e){const t=Re(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Tg(t)?Eg(t):ko(t).N_()&&_g(t,e))}function vg(i,e){const t=Re(i),s=ko(t);t.Ea.delete(e),s.N_()&&ob(t,e),t.Ea.size===0&&(s.N_()?s.k_():ha(t)&&t.Va.set("Unknown"))}function _g(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ko(i).Z_(e)}function ob(i,e){i.ma.Ke(e),ko(i).X_(e)}function Eg(i){i.ma=new Fx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Va.ca()}function Tg(i){return ha(i)&&!ko(i).O_()&&i.Ea.size>0}function ha(i){return Re(i).da.size===0}function lb(i){i.ma=void 0}async function W2(i){i.Va.set("Online")}async function Z2(i){i.Ea.forEach((e,t)=>{_g(i,e)})}async function J2(i,e){lb(i),Tg(i)?(i.Va.Pa(e),Eg(i)):i.Va.set("Unknown")}async function eN(i,e,t){if(i.Va.set("Online"),e instanceof Yw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ea.delete(d),o.ma.removeTarget(d))}(i,e)}catch(s){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(i,s)}else if(e instanceof wh?i.ma.Xe(e):e instanceof Gw?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Se.min()))try{const s=await ib(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.ma.It(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ea.get(g);v&&u.Ea.set(g,v.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const v=u.Ea.get(m);if(!v)return;u.Ea.set(m,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),ob(u,m);const w=new Qr(v.target,m,g,v.sequenceNumber);_g(u,w)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ce(ia,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,e,t){if(!Mo(e))throw e;i.da.add(1),await Ou(i),i.Va.set("Offline"),t||(t=()=>ib(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ia,"Retrying IndexedDB access"),await t(),i.da.delete(1),await gf(i)})}function ub(i,e){return e().catch(t=>Uh(i,t,e))}async function yf(i){const e=Re(i),t=as(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:rg;for(;tN(e);)try{const o=await V2(e.localStore,s);if(o===null){e.Ia.length===0&&t.k_();break}s=o.batchId,nN(e,o)}catch(o){await Uh(e,o)}cb(e)&&hb(e)}function tN(i){return ha(i)&&i.Ia.length<10}function nN(i,e){i.Ia.push(e);const t=as(i);t.N_()&&t.ea&&t.ta(e.mutations)}function cb(i){return ha(i)&&!as(i).O_()&&i.Ia.length>0}function hb(i){as(i).start()}async function iN(i){as(i).ia()}async function rN(i){const e=as(i);for(const t of i.Ia)e.ta(t.mutations)}async function sN(i,e,t){const s=i.Ia.shift(),o=hg.from(s,e,t);await ub(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await yf(i)}async function aN(i,e){e&&as(i).ea&&await async function(s,o){if(function(h){return qx(h)&&h!==te.ABORTED}(o.code)){const u=s.Ia.shift();as(s).L_(),await ub(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(s)}}(i,e),cb(i)&&hb(i)}async function bE(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const s=ha(t);t.da.add(3),await Ou(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await gf(t)}async function oN(i,e){const t=Re(i);e?(t.da.delete(2),await gf(t)):e||(t.da.add(2),await Ou(t),t.Va.set("Unknown"))}function ko(i){return i.fa||(i.fa=function(t,s,o){const u=Re(t);return u.oa(),new G2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:W2.bind(null,i),n_:Z2.bind(null,i),i_:J2.bind(null,i),Y_:eN.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Tg(i)?Eg(i):i.Va.set("Unknown")):(await i.fa.stop(),lb(i))})),i.fa}function as(i){return i.ga||(i.ga=function(t,s,o){const u=Re(t);return u.oa(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:iN.bind(null,i),i_:aN.bind(null,i),na:rN.bind(null,i),ra:sN.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await yf(i)):(await i.ga.stop(),i.Ia.length>0&&(ce(ia,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new wg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,e){if(hr("AsyncQueue",`${e}: ${i}`),Mo(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=iu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.pa=new ct(ge.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ao{constructor(e,t,s,o,u,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Ao(e,t,fo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class uN{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=SE(),u.forEach((h,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function SE(){return new ca(i=>Nw(i),cf)}async function fb(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new lN,s=e.va()?0:1);try{switch(s){case 0:u.ba=await t.onListen(o,!0);break;case 1:u.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=bg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&Ag(t)}async function db(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function cN(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Ma(o)&&(s=!0);h.ba=o}}s&&Ag(t)}function hN(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Ag(i){i.Ca.forEach(e=>{e.next()})}var xp,RE;(RE=xp||(xp={})).xa="default",RE.Cache="cache";class mb{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class fN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.Za=Ow(e),this.Xa=new fo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new AE,o=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),x=hf(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;T&&x?T.data.isEqual(x.data)?O!==F&&(s.track({type:3,doc:x}),L=!0):this.ru(T,x)||(s.track({type:2,doc:x}),L=!0,(m&&this.Za(x,m)>0||g&&this.Za(x,g)<0)&&(d=!0)):!T&&x?(s.track({type:0,doc:x}),L=!0):T&&!x&&(s.track({type:1,doc:T}),L=!0,(m||g)&&(d=!0)),L&&(x?(h=h.add(x),u=F?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Xa:h,nu:s,Cs:d,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((v,w)=>function(x,O){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:L})}};return F(x)-F(O)}(v.type,w.type)||this.Za(v.doc,w.doc)),this.iu(s),o=o!=null&&o;const d=t&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,h.length!==0||g?{snapshot:new Ao(this.query,e.Xa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new gb(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new pb(s))}),t}au(e){this.Ha=e.$s,this.Ya=Ve();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ao.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sg="SyncEngine";class dN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mN{constructor(e){this.key=e,this.cu=!1}}class pN{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new ca(d=>Nw(d),cf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(ge.comparator),this.Eu=new Map,this.du=new mg,this.Au={},this.Ru=new Map,this.Vu=bo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function gN(i,e,t=!0){const s=wb(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await yb(s,e,t,!0),o}async function yN(i,e){const t=wb(i);await yb(t,e,!0,!1)}async function yb(i,e,t,s){const o=await L2(i.localStore,Si(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await vN(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&ab(i.remoteStore,o),d}async function vN(i,e,t,s,o){i.fu=(w,T,x)=>async function(F,L,B,$){let J=L.view.tu(B);J.Cs&&(J=await vE(F.localStore,L.query,!1).then(({documents:I})=>L.view.tu(I,J)));const oe=$&&$.targetChanges.get(L.targetId),le=$&&$.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(J,F.isPrimaryClient,oe,le);return CE(F,L.targetId,me.ou),me.snapshot}(i,w,T,x);const u=await vE(i.localStore,e,!0),h=new fN(e,u.$s),d=h.tu(u.documents),m=Nu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);CE(i,t,g.ou);const v=new dN(e,t,h);return i.hu.set(e,v),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function _N(i,e,t){const s=Re(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!cf(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vg(s.remoteStore,o.targetId),Np(s,o.targetId)}).catch(Do)):(Np(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function EN(i,e){const t=Re(i),s=t.hu.get(e),o=t.Pu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vg(t.remoteStore,s.targetId))}async function TN(i,e,t){const s=CN(i);try{const o=await function(h,d){const m=Re(h),g=mt.now(),v=d.reduce((x,O)=>x.add(O.key),Ve());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=fr(),F=Ve();return m.Bs.getEntries(x,v).next(L=>{O=L,O.forEach((B,$)=>{$.isValidDocument()||(F=F.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,O)).next(L=>{w=L;const B=[];for(const $ of d){const J=Lx($,w.get($.key).overlayedDocument);J!=null&&B.push(new cs($.key,J,ww(J.value.mapValue),Bn.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,B,d)}).next(L=>{T=L;const B=L.applyToLocalDocumentSet(w,F);return m.documentOverlayCache.saveOverlays(x,L.batchId,B)})}).then(()=>({batchId:T.batchId,changes:Mw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Au[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(d,m),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,t),await Du(s,o.changes),await yf(s.remoteStore)}catch(o){const u=bg(o,"Failed to persist write");t.reject(u)}}async function vb(i,e){const t=Re(i);try{const s=await P2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?Ye(h.cu,14607):o.removedDocuments.size>0&&(Ye(h.cu,42227),h.cu=!1))}),await Du(t,s,e)}catch(s){await Do(s)}}function IE(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.hu.forEach((u,h)=>{const d=h.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Re(h);m.onlineState=d;let g=!1;m.queries.forEach((v,w)=>{for(const T of w.Sa)T.Fa(d)&&(g=!0)}),g&&Ag(m)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wN(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ct(ge.comparator);h=h.insert(u,Zt.newNoDocument(u,Se.min()));const d=Ve().add(u),m=new mf(Se.min(),new Map,new ct(Ne),h,d);await vb(s,m),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Rg(s)}else await Ip(s.localStore,e,!1).then(()=>Np(s,e,t)).catch(Do)}async function bN(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await M2(t.localStore,e);Eb(t,s,null),_b(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Du(t,o)}catch(o){await Do(o)}}async function AN(i,e,t){const s=Re(i);try{const o=await function(h,d){const m=Re(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(Ye(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);Eb(s,e,t),_b(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Du(s,o)}catch(o){await Do(o)}}function _b(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function Eb(i,e,t){const s=Re(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Np(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),t&&i.lu.gu(s,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Tb(i,s)})}function Tb(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(vg(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),Rg(i))}function CE(i,e,t){for(const s of t)s instanceof pb?(i.du.addReference(s.key,e),SN(i,s)):s instanceof gb?(ce(Sg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Tb(i,s.key)):Te(19791,{pu:s})}function SN(i,e){const t=e.key,s=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(s)||(ce(Sg,"New document in limbo: "+t),i.Tu.add(s),Rg(i))}function Rg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new ge(it.fromString(e)),s=i.Vu.next();i.Eu.set(s,new mN(t)),i.Iu=i.Iu.insert(t,s),ab(i.remoteStore,new Qr(Si(uf(t.path)),s,"TargetPurposeLimboResolution",af.le))}}async function Du(i,e,t){const s=Re(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{h.push(s.fu(m,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(v=t?.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=gg.Rs(m.targetId,g);u.push(w)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(g,T=>ne.forEach(T.ds,x=>v.persistence.referenceDelegate.addReference(w,T.targetId,x)).next(()=>ne.forEach(T.As,x=>v.persistence.referenceDelegate.removeReference(w,T.targetId,x)))))}catch(w){if(!Mo(w))throw w;ce(yg,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const x=v.xs.get(T),O=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(O);v.xs=v.xs.insert(T,F)}}}(s.localStore,u))}async function RN(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){ce(Sg,"User change. New user:",e.toKey());const s=await nb(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(d=>{d.forEach(m=>{m.reject(new fe(te.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(t,s.ks)}}function IN(i,e){const t=Re(i),s=t.Eu.get(e);if(s&&s.cu)return Ve().add(s.key);{let o=Ve();const u=t.Pu.get(e);if(!u)return o;for(const h of u){const d=t.hu.get(h);o=o.unionWith(d.view.eu)}return o}}function wb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wN.bind(null,e),e.lu.Y_=cN.bind(null,e.eventManager),e.lu.gu=hN.bind(null,e.eventManager),e}function CN(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return D2(this.persistence,new x2,e.initialUser,this.serializer)}Su(e){return new tb(pg.fi,this.serializer)}bu(e){return new j2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class xN extends jh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ye(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m2(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new tb(s=>Lh.fi(s,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uN}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=function(u){return new F2(u)}(e.databaseInfo);return function(u,h,d,m){return new K2(u,h,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new X2(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>IE(this.syncEngine,t,0),function(){return TE.C()?new TE:new z2}())}createSyncEngine(e,t){return function(o,u,h,d,m,g,v){const w=new pN(o,u,h,d,m,g);return v&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);ce(ia,"RemoteStore shutting down."),u.da.add(5),await Ou(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class NN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(i,e){i.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await nb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ON(i);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>bE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>bE(e.remoteStore,o)),i._onlineComponents=e}async function ON(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await Km(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await Km(i,new jh)}}else ce(os,"Using default OfflineComponentProvider"),await Km(i,new xN(void 0));return i._offlineComponents}async function Ab(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await xE(i,i._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await xE(i,new Op))),i._onlineComponents}function DN(i){return Ab(i).then(e=>e.syncEngine)}async function Dp(i){const e=await Ab(i),t=e.eventManager;return t.onListen=gN.bind(null,e.syncEngine),t.onUnlisten=_N.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),t}function MN(i,e,t={}){const s=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const v=new bb({next:T=>{v.xu(),h.enqueueAndForget(()=>db(u,w));const x=T.docs.has(d);!x&&T.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&m&&m.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new mb(uf(d.path),v,{includeMetadataChanges:!0,Qa:!0});return fb(u,w)}(await Dp(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function PN(i,e,t,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function OE(i){if(!ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function DE(i){if(ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function qn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firestore.googleapis.com",ME=!0;class PE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ib,this.ssl=ME}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f2)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=NE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),NE.delete(t),s.terminate())}(this),Promise.resolve()}}function kN(i,e,t,s={}){var o;i=qn(i,_f);const u=xo(e),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;u&&(KT(`https://${m}`),QT("Firestore",!0)),h.host!==Ib&&h.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:s});if(!ur(g,d)&&(i._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Wt.MOCK_USER;else{v=yI(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wt(T)}i._authCredentials=new GC(new cw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Jt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class es extends fa{constructor(e,t,s){super(e,t,uf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ge(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function ts(i,e,...t){if(i=_t(i),Rb("collection","path",e),i instanceof _f){const s=it.fromString(e,...t);return DE(s),new es(i,null,s)}{if(!(i instanceof Jt||i instanceof es))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return DE(s),new es(i.firestore,null,s)}}function dr(i,e,...t){if(i=_t(i),arguments.length===1&&(e=fw.newId()),Rb("doc","path",e),i instanceof _f){const s=it.fromString(e,...t);return OE(s),new Jt(i,null,new ge(s))}{if(!(i instanceof Jt||i instanceof es))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return OE(s),new Jt(i.firestore,i instanceof es?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rb(this,"async_queue_retry"),this.rc=()=>{const s=$m();s&&ce(kE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=$m();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=$m();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Jr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Mo(e))throw e;ce(kE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,hr("INTERNAL UNHANDLED ERROR: ",LE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=wg.createAndSchedule(this,e,t,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:LE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function LE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ls extends _f{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new VE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function hs(i,e){const t=typeof i=="object"?i:ng(),s=typeof i=="string"?i:Dh,o=ua(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pI("firestore");u&&kN(o,...u)}return o}function Ig(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VN(i),i._firestoreClient}function VN(i){var e,t,s;const o=i._freezeSettings(),u=function(d,m,g,v){return new ux(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Sb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new NN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Yt.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new So(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^__.*__$/;class UN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class Cb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:i})}}class Tf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return zh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(xb(this.Ic)&&LN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}bc(e,t,s,o=!1){return new Tf({Ic:e,methodName:t,wc:s,path:Gt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wf(i){const e=i._freezeSettings(),t=pf(i._databaseId);return new jN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Nb(i,e,t,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,e,t,o);Dg("Data must be an object, but it was:",h,s);const d=Ob(s,h);let m,g;if(u.merge)m=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const T=Mp(e,w,t);if(!h.contains(T))throw new fe(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Mb(v,T)||v.push(T)}m=new wn(v),g=h.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=h.fieldTransforms;return new UN(new hn(d),m,g)}class bf extends Mu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function zN(i,e,t){return new Tf({Ic:3,wc:e.settings.wc,methodName:i._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ng extends Mu{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=zN(this,e,!0),s=this.Sc.map(u=>Vo(u,t)),o=new wo(s);return new Bw(e.path,o)}isEqual(e){return e instanceof Ng&&ur(this.Sc,e.Sc)}}class Og extends Mu{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){const t=new Tu(e.serializer,Vw(e.serializer,this.Dc));return new Bw(e.path,t)}isEqual(e){return e instanceof Og&&this.Dc===e.Dc}}function BN(i,e,t,s){const o=i.bc(1,e,t);Dg("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();us(s,(m,g)=>{const v=Mg(e,m,t);g=_t(g);const w=o.mc(v);if(g instanceof bf)u.push(v);else{const T=Vo(g,w);T!=null&&(u.push(v),h.set(v,T))}});const d=new wn(u);return new Cb(h,d,o.fieldTransforms)}function qN(i,e,t,s,o,u){const h=i.bc(1,e,t),d=[Mp(e,s,t)],m=[o];if(u.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)d.push(Mp(e,u[T])),m.push(u[T+1]);const g=[],v=hn.empty();for(let T=d.length-1;T>=0;--T)if(!Mb(g,d[T])){const x=d[T];let O=m[T];O=_t(O);const F=h.mc(x);if(O instanceof bf)g.push(x);else{const L=Vo(O,F);L!=null&&(g.push(x),v.set(x,L))}}const w=new wn(g);return new Cb(v,w,h.fieldTransforms)}function HN(i,e,t,s=!1){return Vo(t,i.bc(s?4:3,e))}function Vo(i,e){if(Db(i=_t(i)))return Dg("Unsupported field value:",e,i),Ob(i,e);if(i instanceof Mu)return function(s,o){if(!xb(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let m=Vo(d,o.fc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Vw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Cg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof So)return{bytesValue:$w(o.serializer,s._byteString)};if(s instanceof Jt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xg)return function(h,d){return{mapValue:{fields:{[Ew]:{stringValue:Tw},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return ug(d.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${vf(s)}`)}(i,e)}function Ob(i,e){const t={};return mw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,(s,o)=>{const u=Vo(o,e.Ac(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Db(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Cg||i instanceof So||i instanceof Jt||i instanceof Mu||i instanceof xg)}function Dg(i,e,t){if(!Db(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=vf(t);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function Mp(i,e,t){if((e=_t(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return Mg(i,e);throw zh("Field path arguments must be of type string or ",i,!1,void 0,t)}const FN=new RegExp("[~\\*/\\[\\]]");function Mg(i,e,t){if(e.search(FN)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function zh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new fe(te.INVALID_ARGUMENT,d+i+m)}function Mb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GN extends Pb{data(){return super.data()}}function Pg(i,e){return typeof e=="string"?Mg(i,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class kb extends kg{}function Vb(i,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(m=>m instanceof Lg).length,d=u.filter(m=>m instanceof Vg).length;if(h>1||h>0&&d>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Vg extends kb{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Vg(e,t,s)}_apply(e){const t=this._parse(e);return Ub(e._query,t),new fa(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=wf(e.firestore);return function(u,h,d,m,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){zE(w,v);const O=[];for(const F of w)O.push(jE(m,u,F));T={arrayValue:{values:O}}}else T=jE(m,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||zE(w,v),T=HN(d,h,w,v==="in"||v==="not-in");return St.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Lg extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)Ub(h,m),h=Tp(h,m)}(e._query,t),new fa(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends kb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ug(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)}(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Po(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Lb(i,e="asc"){const t=e,s=Pg("orderBy",i);return Ug._create(s,t)}function jE(i,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xw(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return J0(i,new ge(s))}if(t instanceof Jt)return J0(i,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function zE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ub(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $N{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new xg(u)}convertGeoPoint(e){return new Cg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=is(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Ye(Jw(s),9688,{name:e});const o=new yu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends Pb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class bh extends zb{data(e={}){return super.data(e)}}class KN{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new bh(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:QN(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(i){i=qn(i,Jt);const e=qn(i.firestore,ls);return MN(Ig(e),i._key).then(t=>Hb(e,i,t))}class Bb extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,t)}}function XN(i,e,t){i=qn(i,Jt);const s=qn(i.firestore,ls),o=jb(i.converter,e);return Af(s,[Nb(wf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Bn.none())])}function Bh(i,e,t,...s){i=qn(i,Jt);const o=qn(i.firestore,ls),u=wf(o);let h;return h=typeof(e=_t(e))=="string"||e instanceof Ef?qN(u,"updateDoc",i._key,e,t,s):BN(u,"updateDoc",i._key,e),Af(o,[h.toMutation(i._key,Bn.exists(!0))])}function WN(i){return Af(qn(i.firestore,ls),[new cg(i._key,Bn.none())])}function qb(i,e){const t=qn(i.firestore,ls),s=dr(i),o=jb(i.converter,e);return Af(t,[Nb(wf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function ea(i,...e){var t,s,o;i=_t(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||UE(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(UE(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let m,g,v;if(i instanceof Jt)g=qn(i.firestore,ls),v=uf(i._key.path),m={next:w=>{e[h]&&e[h](Hb(g,i,w))},error:e[h+1],complete:e[h+2]};else{const w=qn(i,fa);g=qn(w.firestore,ls),v=w._query;const T=new Bb(g);m={next:x=>{e[h]&&e[h](new KN(g,T,w,x))},error:e[h+1],complete:e[h+2]},YN(i._query)}return function(T,x,O,F){const L=new bb(F),B=new mb(x,L,O);return T.asyncQueue.enqueueAndForget(async()=>fb(await Dp(T),B)),()=>{L.xu(),T.asyncQueue.enqueueAndForget(async()=>db(await Dp(T),B))}}(Ig(g),v,d,m)}function Af(i,e){return function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget(async()=>TN(await DN(s),o,u)),u.promise}(Ig(i),e)}function Hb(i,e,t){const s=t.docs.get(e._key),o=new Bb(i);return new zb(i,o,e._key,s,new su(t.hasPendingWrites,t.fromCache),e.converter)}function Fb(...i){return new Ng("arrayUnion",i)}function BE(i){return new Og("increment",i)}(function(e,t=!0){(function(o){Oo=o})(No),xi(new Jn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new ls(new YC(s.getProvider("auth-internal")),new QC(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),zn(B0,q0,e),zn(B0,q0,"esm2017")})();var ZN="firebase",JN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(ZN,JN,"app");const Gb="@firebase/installations",zg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=1e4,$b=`w:${zg}`,Kb="FIS_v2",eO="https://firebaseinstallations.googleapis.com/v1",tO=60*60*1e3,nO="installations",iO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new la(nO,iO,rO);function Qb(i){return i instanceof si&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb({projectId:i}){return`${eO}/projects/${i}/installations`}function Wb(i){return{token:i.token,requestStatus:2,expiresIn:aO(i.expiresIn),creationTime:Date.now()}}async function Zb(i,e){const s=(await e.json()).error;return ra.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Jb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function sO(i,{refreshToken:e}){const t=Jb(i);return t.append("Authorization",oO(e)),t}async function eA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function aO(i){return Number(i.replace("s","000"))}function oO(i){return`${Kb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=Xb(i),o=Jb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:Kb,appId:i.appId,sdkVersion:$b},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await eA(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Wb(g.authToken)}}else throw await Zb("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^[cdef][\w-]{21}$/,Pp="";function hO(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=fO(i);return cO.test(t)?t:Pp}catch{return Pp}}function fO(i){return uO(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function iA(i,e){const t=Sf(i);rA(t,e),dO(t,e)}function rA(i,e){const t=nA.get(i);if(t)for(const s of t)s(e)}function dO(i,e){const t=mO();t&&t.postMessage({key:i,fid:e}),pO()}let Js=null;function mO(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=i=>{rA(i.data.key,i.data.fid)}),Js}function pO(){nA.size===0&&Js&&(Js.close(),Js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="firebase-installations-database",yO=1,sa="firebase-installations-store";let Qm=null;function Bg(){return Qm||(Qm=JT(gO,yO,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(sa)}}})),Qm}async function qh(i,e){const t=Sf(i),o=(await Bg()).transaction(sa,"readwrite"),u=o.objectStore(sa),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&iA(i,e.fid),e}async function sA(i){const e=Sf(i),s=(await Bg()).transaction(sa,"readwrite");await s.objectStore(sa).delete(e),await s.done}async function Rf(i,e){const t=Sf(i),o=(await Bg()).transaction(sa,"readwrite"),u=o.objectStore(sa),h=await u.get(t),d=e(h);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&iA(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(i){let e;const t=await Rf(i.appConfig,s=>{const o=vO(s),u=_O(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Pp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function vO(i){const e=i||{fid:hO(),registrationStatus:0};return aA(e)}function _O(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ra.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=EO(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TO(i)}:{installationEntry:e}}async function EO(i,e){try{const t=await lO(i,e);return qh(i.appConfig,t)}catch(t){throw Qb(t)&&t.customData.serverCode===409?await sA(i.appConfig):await qh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function TO(i){let e=await qE(i.appConfig);for(;e.registrationStatus===1;)await tA(100),e=await qE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await qg(i);return s||t}return e}function qE(i){return Rf(i,e=>{if(!e)throw ra.create("installation-not-found");return aA(e)})}function aA(i){return wO(i)?{fid:i.fid,registrationStatus:0}:i}function wO(i){return i.registrationStatus===1&&i.registrationTime+Yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO({appConfig:i,heartbeatServiceProvider:e},t){const s=AO(i,t),o=sO(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:$b,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await eA(()=>fetch(s,d));if(m.ok){const g=await m.json();return Wb(g)}else throw await Zb("Generate Auth Token",m)}function AO(i,{fid:e}){return`${Xb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hg(i,e=!1){let t;const s=await Rf(i.appConfig,u=>{if(!oA(u))throw ra.create("not-registered");const h=u.authToken;if(!e&&IO(h))return u;if(h.requestStatus===1)return t=SO(i,e),u;{if(!navigator.onLine)throw ra.create("app-offline");const d=xO(u);return t=RO(i,d),d}});return t?await t:s.authToken}async function SO(i,e){let t=await HE(i.appConfig);for(;t.authToken.requestStatus===1;)await tA(100),t=await HE(i.appConfig);const s=t.authToken;return s.requestStatus===0?Hg(i,e):s}function HE(i){return Rf(i,e=>{if(!oA(e))throw ra.create("not-registered");const t=e.authToken;return NO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RO(i,e){try{const t=await bO(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await qh(i.appConfig,s),t}catch(t){if(Qb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qh(i.appConfig,s)}throw t}}function oA(i){return i!==void 0&&i.registrationStatus===2}function IO(i){return i.requestStatus===2&&!CO(i)}function CO(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+tO}function xO(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function NO(i){return i.requestStatus===1&&i.requestTime+Yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(i){const e=i,{installationEntry:t,registrationPromise:s}=await qg(e);return s?s.catch(console.error):Hg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(i,e=!1){const t=i;return await MO(t),(await Hg(t,e)).token}async function MO(i){const{registrationPromise:e}=await qg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(i){if(!i||!i.options)throw Xm("App Configuration");if(!i.name)throw Xm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Xm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Xm(i){return ra.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="installations",kO="installations-internal",VO=i=>{const e=i.getProvider("app").getImmediate(),t=PO(e),s=ua(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},LO=i=>{const e=i.getProvider("app").getImmediate(),t=ua(e,lA).getImmediate();return{getId:()=>OO(t),getToken:o=>DO(t,o)}};function UO(){xi(new Jn(lA,VO,"PUBLIC")),xi(new Jn(kO,LO,"PRIVATE"))}UO();zn(Gb,zg);zn(Gb,zg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="analytics",jO="firebase_id",zO="origin",BO=60*1e3,qO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new sf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new la("analytics","Analytics",HO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(i){if(!i.startsWith(Fg)){const e=An.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function uA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function GO(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function YO(i,e){const t=GO("firebase-js-sdk-policy",{createScriptURL:FO}),s=document.createElement("script"),o=`${Fg}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function $O(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function KO(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const m=(await uA(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){fn.error(d)}i("config",o,u)}async function QO(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await uA(t);for(const m of h){const g=d.find(w=>w.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){fn.error(u)}}function XO(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[d,m]=h;await QO(i,e,t,d,m)}else if(u==="config"){const[d,m]=h;await KO(i,e,t,s,d,m)}else if(u==="consent"){const[d,m]=h;i("consent",d,m)}else if(u==="get"){const[d,m,g]=h;i("get",d,m,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){fn.error(d)}}return o}function WO(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=XO(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function ZO(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Fg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=30,eD=1e3;class tD{constructor(e={},t=eD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cA=new tD;function nD(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function iD(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:nD(s)},u=qO.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function rD(i,e=cA,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new oD;return setTimeout(async()=>{d.abort()},BO),hA({appId:s,apiKey:o,measurementId:u},h,d,e)}async function hA(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=cA){var u;const{appId:h,measurementId:d}=i;try{await sD(s,e)}catch(m){if(d)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:h,measurementId:d};throw m}try{const m=await iD(i);return o.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!aD(g)){if(o.deleteThrottleMetadata(h),d)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw m}const v=Number((u=g?.customData)===null||u===void 0?void 0:u.httpStatus)===503?O0(t,o.intervalMillis,JO):O0(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(h,w),fn.debug(`Calling attemptFetch again in ${v} millis`),hA(i,w,s,o)}}function sD(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aD(i){if(!(i instanceof si)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class oD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lD(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(){if(Jp())try{await eg()}catch(i){return fn.warn(An.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return fn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cD(i,e,t,s,o,u,h){var d;const m=rD(i);m.then(x=>{t[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fn.error(x)),e.push(m);const g=uD().then(x=>{if(x)return s.getId()}),[v,w]=await Promise.all([m,g]);ZO(u)||YO(u,v.measurementId),o("js",new Date);const T=(d=h?.config)!==null&&d!==void 0?d:{};return T[zO]="firebase",T.update=!0,w!=null&&(T[jO]=w),o("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.app=e}_delete(){return delete hu[this.app.options.appId],Promise.resolve()}}let hu={},FE=[];const GE={};let Wm="dataLayer",fD="gtag",YE,fA,$E=!1;function dD(){const i=[];if(Zp()&&i.push("This is a browser extension environment."),XT()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=An.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}function mD(i,e,t){dD();const s=i.options.appId;if(!s)throw An.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(hu[s]!=null)throw An.create("already-exists",{id:s});if(!$E){$O(Wm);const{wrappedGtag:u,gtagCore:h}=WO(hu,FE,GE,Wm,fD);fA=u,YE=h,$E=!0}return hu[s]=cD(i,FE,GE,e,YE,Wm,t),new hD(i)}function pD(i=ng()){i=_t(i);const e=ua(i,Hh);return e.isInitialized()?e.getImmediate():gD(i)}function gD(i,e={}){const t=ua(i,Hh);if(t.isInitialized()){const o=t.getImmediate();if(ur(e,t.getOptions()))return o;throw An.create("already-initialized")}return t.initialize({options:e})}async function yD(){if(Zp()||!XT()||!Jp())return!1;try{return await eg()}catch{return!1}}function vD(i,e,t,s){i=_t(i),lD(fA,hu[i.app.options.appId],e,t,s).catch(o=>fn.error(o))}const KE="@firebase/analytics",QE="0.10.16";function _D(){xi(new Jn(Hh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return mD(s,o,t)},"PUBLIC")),xi(new Jn("analytics-internal",i,"PRIVATE")),zn(KE,QE),zn(KE,QE,"esm2017");function i(e){try{const t=e.getProvider(Hh).getImmediate();return{logEvent:(s,o,u)=>vD(t,s,o,u)}}catch(t){throw An.create("interop-component-reg-failed",{reason:t})}}}_D();function Gg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function dA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=dA,mA=new la("auth","Firebase",dA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new sf("@firebase/auth");function TD(i,...e){Fh.logLevel<=ke.WARN&&Fh.warn(`Auth (${No}): ${i}`,...e)}function Ah(i,...e){Fh.logLevel<=ke.ERROR&&Fh.error(`Auth (${No}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw Yg(i,...e)}function Ii(i,...e){return Yg(i,...e)}function pA(i,e,t){const s=Object.assign(Object.assign({},ED()),{[e]:t});return new la("auth","Firebase",s).create(e,{appName:i.name})}function or(i){return pA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return mA.create(i,...e)}function Ee(i,e,...t){if(!i)throw Yg(e,...t)}function rr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function mr(i,e){i||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function wD(){return XE()==="http:"||XE()==="https:"}function XE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wD()||Zp()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mr(t>e,"Short delay should be less than long delay!"),this.isMobile=EI()||bI()}get(){return bD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(i,e){mr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ID=new Pu(3e4,6e4);function fs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ds(i,e,t,s,o={}){return yA(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Cu(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return wI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&xo(i.emulatorConfig.host)&&(g.credentials="include"),gA.fetch()(await vA(i,i.config.apiHost,t,d),g)})}async function yA(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},SD),e);try{const o=new xD(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw mh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw mh(i,"user-disabled",h);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw pA(i,v,g);ti(i,v)}}catch(o){if(o instanceof si)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function ku(i,e,t,s,o={}){const u=await ds(i,e,t,s,o);return"mfaPendingCredential"in u&&ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function vA(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?$g(i.config,o):`${i.config.apiScheme}://${o}`;return RD.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function CD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),ID.get())})}}function mh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ii(i,e,s);return o.customData._tokenResponse=t,o}function WE(i){return i!==void 0&&i.enterprise!==void 0}class ND{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OD(i,e){return ds(i,"GET","/v2/recaptchaConfig",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(i,e){return ds(i,"POST","/v1/accounts:delete",e)}async function Gh(i,e){return ds(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MD(i,e=!1){const t=_t(i),s=await t.getIdToken(e),o=Kg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:fu(Zm(o.auth_time)),issuedAtTime:fu(Zm(o.iat)),expirationTime:fu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(i){return Number(i)*1e3}function Kg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=FT(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ZE(i){const e=Kg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof si&&PD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function PD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await wu(i,Gh(t,{idToken:s}));Ee(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?_A(u.providerUserInfo):[],d=LD(i.providerData,h),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!d?.length,v=m?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Vp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,w)}async function VD(i){const e=_t(i);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _A(i){return i.map(e=>{var{providerId:t}=e,s=Gg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(i,e){const t=await yA(i,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await vA(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return i.emulatorConfig&&xo(i.emulatorConfig.host)&&(m.credentials="include"),gA.fetch()(h,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jD(i,e){return ds(i,"POST","/v2/accounts:revokeToken",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=ZE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await UD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new mo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MD(this,e)}reload(){return VD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await wu(this,DD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,m,g,v;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,B=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:oe,isAnonymous:le,providerData:me,stsTokenManager:I}=t;Ee(J&&I,e,"internal-error");const R=mo.fromJSON(this.name,I);Ee(typeof J=="string",e,"internal-error"),Fr(w,e.name),Fr(T,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),Fr(x,e.name),Fr(O,e.name),Fr(F,e.name),Fr(L,e.name),Fr(B,e.name),Fr($,e.name);const C=new Xn({uid:J,auth:e,email:T,emailVerified:oe,displayName:w,isAnonymous:le,photoURL:O,phoneNumber:x,tenantId:F,stsTokenManager:R,createdAt:B,lastLoginAt:$});return me&&Array.isArray(me)&&(C.providerData=me.map(M=>Object.assign({},M))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new mo;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_A(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new mo;d.updateFromIdToken(s);const m=new Xn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function sr(i){mr(i instanceof Function,"Expected a class definition");let e=JE.get(i);return e?(mr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,JE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EA.type="NONE";const eT=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i,e,t){return`firebase:${i}:${e}:${t}`}class po{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new po(sr(eT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(eT);const h=Sh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let w;if(typeof v=="string"){const T=await Gh(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Xn._fromGetAccountInfoResponse(e,T,v)}else w=Xn._fromJSON(e,v);g!==u&&(d=w),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new po(u,e,s):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(IA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(SA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function TA(i=en()){return/firefox\//i.test(i)}function wA(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(i=en()){return/crios\//i.test(i)}function AA(i=en()){return/iemobile/i.test(i)}function SA(i=en()){return/android/i.test(i)}function RA(i=en()){return/blackberry/i.test(i)}function IA(i=en()){return/webos/i.test(i)}function Qg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zD(i=en()){var e;return Qg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BD(){return AI()&&document.documentMode===10}function CA(i=en()){return Qg(i)||SA(i)||IA(i)||RA(i)||/windows phone/i.test(i)||AA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(i,e=[]){let t;switch(i){case"Browser":t=tT(en());break;case"Worker":t=`${tT(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,e={}){return ds(i,"GET","/v2/passwordPolicy",fs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=6;class GD{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:FD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&m?.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(or(this));const t=e?_t(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HD(this),t=new GD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await jD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&TD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function da(i){return _t(i)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=NI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $D(i){If=i}function NA(i){return If.loadJS(i)}function KD(){return If.recaptchaEnterpriseScript}function QD(){return If.gapiScript}function XD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WD{constructor(){this.enterprise=new ZD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JD="recaptcha-enterprise",OA="NO_RECAPTCHA";class e4{constructor(e){this.type=JD,this.auth=da(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{OD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new ND(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;WE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(OA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&WE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=KD();m.length!==0&&(m+=d),NA(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function iT(i,e,t,s=!1,o=!1){const u=new e4(i);let h;if(o)h=OA;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lp(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await iT(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await iT(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(i,e){const t=ua(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ur(u,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function n4(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function i4(i,e,t){const s=da(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=DA(e),{host:h,port:d}=r4(e),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ur(g,s.config.emulator)&&ur(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(KT(`${u}//${h}${m}`),QT("Auth",!0)):s4()}function DA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function r4(i){const e=DA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:rT(h)}}}function rT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function s4(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function a4(i,e){return ds(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(i,e){return ku(i,"POST","/v1/accounts:signInWithPassword",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}async function u4(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Xg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,t,"signInWithPassword",o4);case"emailLink":return l4(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,s,"signUpPassword",a4);case"emailLink":return u4(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return ku(i,"POST","/v1/accounts:signInWithIdp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="http://localhost";class aa extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Gg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new aa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return go(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,go(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,go(e,t)}buildRequest(){const e={requestUri:c4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f4(i){const e=eu(tu(i)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(i)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||i}class Wg{constructor(e){var t,s,o,u,h,d;const m=eu(tu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,w=h4((o=m.mode)!==null&&o!==void 0?o:null);Ee(g&&v&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=f4(e);try{return new Wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Wg.parseLink(t);return Ee(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends MA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Vu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aa._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Yr.credential(t,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Vu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Vu{constructor(){super("twitter.com")}static credential(e,t){return aa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Kr.credential(t,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(i,e){return ku(i,"POST","/v1/accounts:signUp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=sT(s);return new oa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=sT(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function sT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends si{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new $h(e,t,s,o)}}function PA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(i,u,e,s):u})}async function m4(i,e,t=!1){const s=await wu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return oa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await wu(i,PA(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=Kg(u.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(i.uid===d,s,"user-mismatch"),oa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(i,e,t=!1){if(jn(i.app))return Promise.reject(or(i));const s="signIn",o=await PA(i,s,e),u=await oa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function g4(i,e){return kA(da(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y4(i,e,t){if(jn(i.app))return Promise.reject(or(i));const s=da(i),h=await Lp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&VA(i),m}),d=await oa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function v4(i,e,t){return jn(i.app)?Promise.reject(or(i)):g4(_t(i),Lo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&VA(i),s})}function _4(i,e,t,s){return _t(i).onIdTokenChanged(e,t,s)}function E4(i,e,t){return _t(i).beforeAuthStateChanged(e,t)}function T4(i,e,t,s){return _t(i).onAuthStateChanged(e,t,s)}function Up(i){return _t(i).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1e3,b4=10;class UA extends LA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);BD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,b4):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const A4=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends LA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jA.type="SESSION";const zA=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),m=await S4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Zg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(T.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function I4(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function C4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x4(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function N4(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",O4=1,Qh="firebaseLocalStorage",HA="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xf(i,e){return i.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function D4(){const i=indexedDB.deleteDatabase(qA);return new Lu(i).toPromise()}function jp(){const i=indexedDB.open(qA,O4);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Qh,{keyPath:HA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Qh)?e(s):(s.close(),await D4(),e(await jp()))})})}async function aT(i,e,t){const s=xf(i,!0).put({[HA]:e,value:t});return new Lu(s).toPromise()}async function M4(i,e){const t=xf(i,!1).get(e),s=await new Lu(t).toPromise();return s===void 0?null:s.value}function oT(i,e){const t=xf(i,!0).delete(e);return new Lu(t).toPromise()}const P4=800,k4=3;class FA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>k4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(N4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await C4(),!this.activeServiceWorker)return;this.sender=new R4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await aT(e,Kh,"1"),await oT(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>aT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>M4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FA.type="LOCAL";const V4=FA;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(i,e){return e?sr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function U4(i){return kA(i.auth,new Jg(i),i.bypassAuthState)}function j4(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),p4(t,new Jg(i),i.bypassAuthState)}async function z4(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),m4(t,new Jg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return j4;default:ti(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Pu(2e3,1e4);class ho extends GA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B4.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="pendingRedirect",Rh=new Map;class H4 extends GA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await F4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(i,e){const t=$4(e),s=Y4(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function G4(i,e){Rh.set(i._key(),e)}function Y4(i){return sr(i._redirectPersistence)}function $4(i){return Sh(q4,i.config.apiKey,i.name)}async function K4(i,e,t=!1){if(jn(i.app))return Promise.reject(or(i));const s=da(i),o=L4(s,e),h=await new H4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=10*60*1e3;class X4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!YA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function YA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function W4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(i,e={}){return ds(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function tM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Z4(i);for(const t of e)try{if(nM(t))return}catch{}ti(i,"unauthorized-domain")}function nM(i){const e=kp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!eM.test(t))return!1;if(J4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Pu(3e4,6e4);function uT(){const i=Ci().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function rM(i){return new Promise((e,t)=>{var s,o,u;function h(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),t(Ii(i,"network-request-failed"))},timeout:iM.get()})}if(!((o=(s=Ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ci().gapi)===null||u===void 0)&&u.load)h();else{const d=XD("iframefcb");return Ci()[d]=()=>{gapi.load?h():t(Ii(i,"network-request-failed"))},NA(`${QD()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function sM(i){return Ih=Ih||rM(i),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Pu(5e3,15e3),oM="__/auth/iframe",lM="emulator/auth/iframe",uM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hM(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?$g(e,lM):`https://${i.config.authDomain}/${oM}`,s={apiKey:e.apiKey,appName:i.name,v:No},o=cM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Cu(s).slice(1)}`}async function fM(i){const e=await sM(i),t=Ci().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:hM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ii(i,"network-request-failed"),d=Ci().setTimeout(()=>{u(h)},aM.get());function m(){Ci().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,pM=600,gM="_blank",yM="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vM(i,e,t,s=mM,o=pM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},dM),{width:s.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();t&&(d=bA(g)?gM:t),TA(g)&&(e=e||yM,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[x,O])=>`${T}${x}=${O},`,"");if(zD(g)&&d!=="_self")return _M(e||"",d),new cT(null);const w=window.open(e||"",d,v);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new cT(w)}function _M(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="__/auth/handler",TM="emulator/auth/handler",wM=encodeURIComponent("fac");async function hT(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:No,eventId:o};if(e instanceof MA){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",xI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof Vu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${wM}=${encodeURIComponent(m)}`:"";return`${bM(i)}?${Cu(d).slice(1)}${g}`}function bM({config:i}){return i.emulator?$g(i,TM):`https://${i.authDomain}/${EM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=K4,this._overrideRedirectResult=G4}async _openPopup(e,t,s,o){var u;mr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await hT(e,t,s,kp(),o);return vM(e,h,Zg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await hT(e,t,s,kp(),o);return I4(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await fM(e),s=new X4(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Jm];h!==void 0&&t(!!h),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CA()||wA()||Qg()}}const SM=AM;var fT="@firebase/auth",dT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CM(i){xi(new Jn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(i)},g=new YD(s,o,u,m);return n4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),xi(new Jn("auth-internal",e=>{const t=da(e.getProvider("auth").getImmediate());return(s=>new RM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(fT,dT,IM(i)),zn(fT,dT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=5*60,NM=$T("authIdTokenMaxAge")||xM;let mT=null;const OM=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>NM)return;const o=t?.token;mT!==o&&(mT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nf(i=ng()){const e=ua(i,"auth");if(e.isInitialized())return e.getImmediate();const t=t4(i,{popupRedirectResolver:SM,persistence:[V4,A4,zA]}),s=$T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=OM(u.toString());E4(t,h,()=>h(t.currentUser)),_4(t,d=>h(d))}}const o=GT("auth");return o&&i4(t,`http://${o}`),t}function DM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}$D({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",DM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CM("Browser");const MM={apiKey:"AIzaSyAfLY0MrsseTHJ7yZg8uxwUvRPXKehd73Y",authDomain:"xstream1-60177.firebaseapp.com",projectId:"xstream1-60177",storageBucket:"xstream1-60177.appspot.com",messagingSenderId:"672677425882",appId:"1:672677425882:web:c4aa610cf2b4b5e4c72be3",measurementId:"G-BCBZQMP2FD"},Sn=ew(MM);typeof window<"u"&&yD().then(i=>{i&&pD(Sn)});Nf(Sn);hs(Sn);var $A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pT=bn.createContext&&bn.createContext($A),PM=["attr","size","title"];function kM(i,e){if(i==null)return{};var t=VM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function VM(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Xh(){return Xh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Xh.apply(this,arguments)}function gT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Wh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(t),!0).forEach(function(s){LM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):gT(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function LM(i,e,t){return e=UM(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function UM(i){var e=jM(i,"string");return typeof e=="symbol"?e:e+""}function jM(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function KA(i){return i&&i.map((e,t)=>bn.createElement(e.tag,Wh({key:t},e.attr),KA(e.child)))}function Uo(i){return e=>bn.createElement(zM,Xh({attr:Wh({},i.attr)},e),KA(i.child))}function zM(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=kM(i,PM),d=o||t.size||"1em",m;return t.className&&(m=t.className),i.className&&(m=(m?m+" ":"")+i.className),bn.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:m,style:Wh(Wh({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&bn.createElement("title",null,u),i.children)};return pT!==void 0?bn.createElement(pT.Consumer,null,t=>e(t)):e($A)}function BM(i){return Uo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(i)}function qM(i){return Uo({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(i)}function HM(i){return Uo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(i)}function QA(i){return Uo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(i)}function FM(i){return Uo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function GM(i){return Uo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(i)}const Of=()=>S.jsxs("footer",{className:"mt-12 text-gray-400 bg-gray-900",children:[S.jsx("div",{className:"flex flex-col items-center justify-center gap-6 px-4 py-6 mx-auto max-w-7xl sm:flex-row",children:S.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-center sm:flex-row sm:gap-4 sm:text-center",children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("img",{src:nf,alt:"XStream Secrets",className:"w-auto h-10"})}),S.jsx("p",{className:"max-w-xs text-xs text-gray-400 sm:text-sm sm:max-w-md",children:"is a website that embeds videos from legitimate adult sites for 18+ audiences. We provide a curated viewing experience while respecting content creators’ platforms."})]})}),S.jsxs("div",{className:"w-full px-4 py-3 mt-4 text-xs text-center border-t border-gray-700 sm:px-6",children:["© ",new Date().getFullYear()," XStream Secrets. All Rights Reserved. For adults (18+) only."]})]}),YM=["HOME","CATEGORIES","TOP RATED","MOST VIEWED"],ey=({search:i,setSearch:e,showCategories:t,availableCategories:s,setSelectedCategory:o,setShowCategories:u,selectedCategory:h})=>{const d=Hn(),m=ri(),g=w=>{switch(w){case"HOME":o(null),e(""),d("/");break;case"CATEGORIES":u(T=>!T);break;case"TOP RATED":d("/toprated");break;case"MOST VIEWED":d("/mostviewed");break}},v={HOME:"/","TOP RATED":"/toprated","MOST VIEWED":"/mostviewed"};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed top-0 left-0 z-50 w-full px-3 py-2 bg-black shadow-md sm:py-3",children:S.jsxs("div",{className:"flex flex-col items-center justify-between gap-2 mx-auto max-w-7xl sm:flex-row",children:[S.jsx("div",{className:"flex items-center flex-shrink-0",children:S.jsx("img",{src:nf,alt:"Logo",className:"w-auto select-none h-7 sm:h-9"})}),S.jsxs("div",{className:"flex flex-col items-center w-full gap-1 mt-1 sm:flex-row sm:items-center sm:gap-4 sm:w-auto sm:mt-0",children:[S.jsxs("div",{className:"relative flex gap-3",children:[YM.map(w=>{const T=v[w]===m.pathname;return S.jsx("button",{onClick:()=>g(w),className:`text-sm font-semibold sm:text-base transition-colors
                      ${T?"text-pink-600 underline underline-offset-4":"text-gray-200 hover:text-pink-600"}`,children:w},w)}),t&&S.jsxs("div",{className:"absolute top-full left-0 bg-gray-900 rounded-md shadow-lg mt-1 min-w-[160px] max-h-60 overflow-auto z-50",children:[S.jsx("div",{onClick:()=>{o(null),u(!1)},className:`px-3 py-1 cursor-pointer text-white hover:bg-pink-600 rounded-md ${h?"":"bg-pink-600"}`,children:"All"}),s.length>0?s.map(w=>S.jsx("div",{onClick:()=>{o(w),u(!1)},className:`px-3 py-1 cursor-pointer text-white hover:bg-pink-600 rounded-md ${h===w?"bg-pink-600":""}`,children:w},w)):S.jsx("div",{className:"px-3 py-1 text-gray-400",children:"No categories"})]})]}),S.jsx("div",{className:"w-full mt-1 sm:w-auto sm:mt-0",children:S.jsx("input",{type:"text",placeholder:"Search by description or category...",value:i,onChange:w=>e(w.target.value),className:"w-full px-2 py-1 text-sm text-white placeholder-gray-400 transition bg-gray-800 border border-pink-600 rounded-lg sm:w-56 focus:outline-none focus:ring-2 focus:ring-pink-600"})})]})]})}),S.jsx("div",{className:"h-14 sm:h-16"})]})},ty=({containerId:i="banner-container"})=>{const[e,t]=U.useState("desktop");return U.useEffect(()=>{const s=()=>{const o=window.innerWidth;o<640?t("mobile"):o>=640&&o<1024?t("tablet"):t("desktop")};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),U.useEffect(()=>{let s;e==="mobile"?(window.atOptions={key:"efcd31c57765e76b909f9cc0a27c35ca",format:"iframe",height:50,width:320,params:{}},s=document.createElement("script"),s.src="//www.highperformanceformat.com/efcd31c57765e76b909f9cc0a27c35ca/invoke.js"):e==="tablet"?(window.atOptions={key:"78b1b47d524714a56f16dc601d742121",format:"iframe",height:60,width:468,params:{}},s=document.createElement("script"),s.src="//www.highperformanceformat.com/78b1b47d524714a56f16dc601d742121/invoke.js"):(window.atOptions={key:"4e1d95767d3d2bf1b94003676f576c54",format:"iframe",height:90,width:728,params:{}},s=document.createElement("script"),s.src="//www.highperformanceformat.com/4e1d95767d3d2bf1b94003676f576c54/invoke.js"),s.async=!0;const o=document.getElementById(i);return o&&(o.innerHTML="",o.appendChild(s)),()=>{o&&(o.innerHTML="")}},[e,i]),S.jsx("div",{className:"flex justify-center w-full mb-4",style:{marginTop:e==="mobile"?"4.5rem":"1rem",zIndex:40},children:S.jsx("div",{id:i,className:"flex items-center justify-center p-2 sm:p-3 bg-gray-900 rounded-lg shadow-lg w-full max-w-[728px]",style:{minHeight:e==="mobile"?"70px":"90px"}})})},$M=({cooldown:i=12e4})=>{const[e,t]=U.useState(!1),s=()=>{const u=setTimeout(()=>t(!0),i);return()=>clearTimeout(u)};U.useEffect(()=>s(),[i]),U.useEffect(()=>{if(!e)return;const u=document.createElement("script");u.src="//pl27861784.effectivegatecpm.com/28fa37fb77484587282bd4ad25c04dd2/invoke.js",u.async=!0,u.setAttribute("data-cfasync","false");const h=document.getElementById("container-28fa37fb77484587282bd4ad25c04dd2");return h&&h.appendChild(u),()=>{h&&(h.innerHTML="")}},[e]);const o=()=>{t(!1),s()};return e?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-opacity bg-black/50 backdrop-blur-sm",children:S.jsxs("div",{className:"relative w-11/12 max-w-md p-6 bg-gray-900 shadow-2xl rounded-xl animate-fadeIn",children:[S.jsx("button",{onClick:o,className:"absolute z-50 text-2xl font-bold text-gray-400 transition top-3 right-3 hover:text-white",children:"×"}),S.jsx("div",{id:"container-28fa37fb77484587282bd4ad25c04dd2",className:"relative z-0 w-full h-auto"})]})}):null},KM=()=>(U.useEffect(()=>{const i=document.createElement("script");return i.src="//pl27867228.effectivegatecpm.com/2d/85/6f/2d856f6c6074fb8a74c6ead4b4a48d4f.js",i.async=!0,document.body.appendChild(i),()=>{document.body.removeChild(i)}},[]),null),QM=(i=0)=>i>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toString(),XM=()=>S.jsxs("div",{className:"overflow-hidden bg-gray-800 shadow-lg animate-pulse",children:[S.jsx("div",{className:"w-full bg-gray-700 rounded-t aspect-video"}),S.jsxs("div",{className:"p-2 space-y-2",children:[S.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),S.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),WM=()=>{const[i,e]=U.useState(!1),[t,s]=U.useState(null),[o,u]=U.useState(""),[h,d]=U.useState([]),[m,g]=U.useState(1),[v]=U.useState(12),[w,T]=U.useState(!0),x=hs(Sn),O=Hn();U.useEffect(()=>{const I=ts(x,"videos"),R=ea(I,C=>{const M=C.docs.map(V=>({id:V.id,...V.data()}));d(M),g(1),T(!1)});return()=>R()},[x]);const F=I=>{I==="HOME"?(s(null),u("")):I==="CATEGORIES"?e(R=>!R):I==="TOP RATED"?O("/toprated"):I==="MOST VIEWED"&&O("/mostviewed")},L=h.filter(I=>{const R=t?I.category===t:!0,C=o.trim()===""?!0:(I.description||"").toLowerCase().includes(o.trim().toLowerCase());return R&&C}),B=m*v,$=B-v,J=L.slice($,B),oe=Math.ceil(L.length/v),le=[...new Set(h.map(I=>I.category).filter(Boolean))],me=I=>g(I);return S.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[S.jsx(ey,{search:o,setSearch:u,handleNavClick:F,showCategories:i,availableCategories:le,setSelectedCategory:s,setShowCategories:e,selectedCategory:t}),S.jsx(ty,{}),S.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-2 pb-6",children:[L.length===0&&!w?S.jsx("div",{className:"py-20 text-center text-gray-400",children:"No videos found."}):S.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:w?Array.from({length:v}).map((I,R)=>S.jsx(XM,{},R)):J.map(I=>S.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>O("/sponsored",{state:{videoId:I.id}}),children:[S.jsxs("div",{className:"relative",children:[I.thumbnail?S.jsx("img",{src:I.thumbnail,alt:I.description||"Video Thumbnail",className:"object-cover w-full aspect-video"}):S.jsx("div",{className:"w-full bg-black aspect-video"}),I.duration&&S.jsx("span",{className:"absolute bottom-1 left-1 px-2 py-0.5 text-xs font-semibold text-white",children:I.duration})]}),S.jsxs("div",{className:"p-2",children:[S.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:I.description}),S.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-400",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),S.jsx("span",{children:QM(I.views??0)})]})]})]},I.id))}),!w&&oe>1&&S.jsx(ZM,{currentPage:m,totalPages:oe,onPageChange:me})]}),S.jsx(Of,{}),S.jsx($M,{cooldown:12e4}),S.jsx(KM,{})]})},ZM=({currentPage:i,totalPages:e,onPageChange:t})=>{const s=Array.from({length:e},(o,u)=>u+1);return S.jsx("nav",{className:"flex justify-center mt-8",children:S.jsxs("ul",{className:"flex space-x-2",children:[i>1&&S.jsx("li",{children:S.jsx("button",{onClick:()=>t(i-1),className:"px-3 py-1 text-pink-600 transition border border-pink-600 rounded hover:bg-pink-600 hover:text-white",children:"Prev"})}),s.map(o=>S.jsx("li",{children:S.jsx("button",{onClick:()=>t(o),className:`px-3 py-1 border rounded transition ${i===o?"bg-pink-600 text-white border-pink-600":"border-pink-600 text-pink-600 hover:bg-pink-600 hover:text-white"}`,children:o})},o)),i<e&&S.jsx("li",{children:S.jsx("button",{onClick:()=>t(i+1),className:"px-3 py-1 text-pink-600 transition border border-pink-600 rounded hover:bg-pink-600 hover:text-white",children:"Next"})})]})})},ep=["Pinay / Filipino","Japanese","Korean","Chinese","Thai","Vietnamese","Indonesian","Indian","Malaysian","Asian Mix"],JM=()=>{const[i,e]=U.useState(""),[t,s]=U.useState(ep[0]),[o,u]=U.useState(""),[h,d]=U.useState(""),[m,g]=U.useState(0),[v,w]=U.useState(""),[T,x]=U.useState(null),[O,F]=U.useState([]),L=hs(Sn),B=Nf(Sn),$=Hn();U.useEffect(()=>{const I=ts(L,"videos"),R=ea(I,C=>{const M=[];C.forEach(V=>M.push({id:V.id,...V.data()})),F(M.sort((V,j)=>j.createdAt?.seconds-V.createdAt?.seconds))});return()=>R()},[L]);const J=async I=>{if(I.preventDefault(),!i.trim()||!t||!o.trim()||!h.trim()||!v.trim()){alert("All fields are required.");return}try{const R={url:i.trim(),category:t,description:o.trim(),thumbnail:h.trim(),added:new Date().toISOString(),createdAt:mt.now(),views:Number(m)||0,duration:v.trim(),hearts:0,likedBy:[]};T?(await Bh(dr(L,"videos",T),R),x(null)):await qb(ts(L,"videos"),R),e(""),s(ep[0]),u(""),d(""),g(0),w("")}catch(R){console.error("Error adding/updating video:",R),alert("Operation failed: "+R.message)}},oe=I=>{x(I.id),e(I.url),s(I.category),u(I.description),d(I.thumbnail||""),g(I.views||0),w(I.duration||""),window.scrollTo({top:0,behavior:"smooth"})},le=async I=>{if(window.confirm("Are you sure you want to delete this video?"))try{await WN(dr(L,"videos",I))}catch(R){console.error("Error deleting video:",R),alert("Failed to delete video: "+R.message)}},me=async()=>{try{await Up(B),$("/login")}catch(I){console.error("Logout error:",I),alert("Failed to logout. Try again.")}};return S.jsxs("div",{className:"min-h-screen p-6 text-white bg-black",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h1",{className:"text-3xl font-bold text-pink-600",children:"Admin Panel"}),S.jsx("button",{onClick:me,className:"px-4 py-2 transition bg-gray-800 border border-pink-600 rounded-lg hover:bg-pink-600",children:"Logout"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-8",children:[S.jsxs("div",{className:"p-5 bg-gray-900 rounded-lg shadow-lg",children:[S.jsx("h2",{className:"pb-2 mb-4 text-xl font-semibold border-b border-gray-700",children:T?"Edit Video":"Add New Video"}),S.jsxs("form",{onSubmit:J,className:"flex flex-col gap-3",children:[S.jsx("select",{value:t,onChange:I=>s(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0,children:ep.map(I=>S.jsx("option",{value:I,children:I},I))}),S.jsx("input",{type:"text",placeholder:"Paste embed iframe or video URL",value:i,onChange:I=>e(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),S.jsx("input",{type:"text",placeholder:"Description",value:o,onChange:I=>u(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),S.jsx("input",{type:"text",placeholder:"Paste your image address (thumbnail URL)",value:h,onChange:I=>d(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),S.jsx("input",{type:"number",placeholder:"Views count",value:m,onChange:I=>g(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded"}),S.jsx("input",{type:"text",placeholder:"Video duration (e.g. 1h 20m)",value:v,onChange:I=>w(I.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full py-2 font-medium text-white transition bg-pink-600 rounded hover:bg-pink-700",children:T?"Update Video":"Add Video"})]})]}),S.jsxs("div",{className:"p-5 bg-gray-900 rounded-lg shadow-lg",children:[S.jsxs("h2",{className:"pb-2 mb-4 text-xl font-semibold border-b border-gray-700",children:["Uploaded Videos (",O.length,")"]}),O.length===0?S.jsx("p",{className:"py-8 text-center text-gray-500",children:"No videos uploaded yet."}):S.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:O.map(I=>S.jsxs("div",{className:"flex flex-col overflow-hidden bg-gray-800 rounded-lg shadow-md",children:[I.thumbnail?S.jsx("img",{src:I.thumbnail,alt:"Video Thumbnail",className:"object-cover w-full transition cursor-pointer aspect-video hover:opacity-80"}):S.jsx("div",{className:"w-full bg-black aspect-video"}),S.jsxs("div",{className:"flex flex-col flex-grow p-3",children:[S.jsx("p",{className:"mb-1 text-sm font-semibold text-pink-500",children:I.category}),S.jsx("p",{className:"mb-1 text-sm text-gray-300 line-clamp-2",children:I.description}),S.jsxs("p",{className:"mb-1 text-xs text-gray-500",children:["Views: ",I.views||0," • Duration: ",I.duration||"N/A"]}),S.jsx("p",{className:"mb-3 text-xs text-gray-500",children:I.added?new Date(I.added).toLocaleDateString():""}),S.jsxs("div",{className:"flex gap-2 mt-auto",children:[S.jsx("button",{onClick:()=>oe(I),className:"flex-1 py-1 text-sm text-white transition bg-blue-700 rounded hover:bg-blue-800",children:"Edit"}),S.jsx("button",{onClick:()=>le(I.id),className:"flex-1 py-1 text-sm text-white transition bg-red-700 rounded hover:bg-red-800",children:"Delete"})]})]})]},I.id))})]})]})]})},eP=({style:i={}})=>S.jsxs("svg",{style:i,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[S.jsx("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"#888",strokeWidth:"2",fill:"none"}),S.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"#888",strokeWidth:"2",fill:"none"})]}),tP=({style:i={}})=>S.jsx("svg",{style:i,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:S.jsx("path",{d:"M17.94 17.94C16.13 19.24 14.13 20 12 20c-7 0-11-8-11-8a21.77 21.77 0 0 1 5.06-6.06M22.54 6.42A21.77 21.77 0 0 1 23 12s-4 8-11 8a10.94 10.94 0 0 1-4.06-.81M1 1l22 22",stroke:"#888",strokeWidth:"2",fill:"none"})}),ph=Nf(Sn),yT=hs(Sn),nP=({onSuccess:i})=>{const[e,t]=U.useState(""),[s,o]=U.useState(""),[u,h]=U.useState(!1),[d,m]=U.useState(""),[g,v]=U.useState(""),[w,T]=U.useState(!1),x=Hn(),O=async L=>{L.preventDefault(),m(""),v("");try{const $=(await y4(ph,e,s)).user;await XN(dr(yT,"users",$.uid),{email:$.email,role:"user",status:"active",createdAt:new Date().toISOString()}),v("Registration successful! You can now log in."),T(!1),t(""),o("")}catch(B){m(B.message)}},F=async L=>{L.preventDefault(),m(""),v("");try{const $=(await v4(ph,e,s)).user,J=await jg(dr(yT,"users",$.uid));if(!J.exists()){m("User not found in database."),await Up(ph);return}if(J.data().role!=="admin"){m("Access denied. Only admin users can log in."),await Up(ph);return}localStorage.setItem("xstream-admin-loggedin","true"),v("Login successful! Redirecting..."),i&&i(),x("/admin")}catch(B){m(B.message)}};return S.jsx("div",{style:{minHeight:"100vh",minWidth:"100vw",background:"#111",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsxs("form",{onSubmit:w?O:F,className:"login-form",style:{background:"#222",padding:32,borderRadius:16,width:"100%",maxWidth:400,boxShadow:"0 4px 24px 0 #0006",display:"flex",flexDirection:"column"},children:[S.jsx("h2",{style:{marginBottom:24,fontSize:28,fontWeight:700,textAlign:"center",color:"#e60073"},children:w?"Register":"Admin Login"}),S.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:L=>t(L.target.value),required:!0,style:{width:"100%",padding:14,borderRadius:8,border:"none",fontSize:17,marginBottom:12,background:"#333",color:"#fff"}}),S.jsxs("div",{style:{position:"relative",marginBottom:16},children:[S.jsx("input",{type:u?"text":"password",placeholder:"Password",value:s,onChange:L=>o(L.target.value),required:!0,style:{width:"100%",padding:"14px 44px 14px 14px",borderRadius:8,border:"none",fontSize:17,background:"#333",color:"#fff"}}),S.jsx("button",{type:"button","aria-label":u?"Hide password":"Show password",onClick:()=>h(L=>!L),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer"},children:u?S.jsx(eP,{}):S.jsx(tP,{})})]}),S.jsx("button",{type:"submit",style:{width:"100%",padding:16,background:"#e60073",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:18,cursor:"pointer",transition:"background 0.3s"},children:w?"Register":"Login"}),d&&S.jsx("div",{style:{color:"#ff4d4f",marginTop:18,textAlign:"center"},children:d}),g&&S.jsx("div",{style:{color:"#4caf50",marginTop:18,textAlign:"center"},children:g})]})})};var tp={exports:{}},np,vT;function iP(){if(vT)return np;vT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return np=i,np}var ip,_T;function rP(){if(_T)return ip;_T=1;var i=iP();function e(){}function t(){}return t.resetWarningCache=e,ip=function(){function s(h,d,m,g,v,w){if(w!==i){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},ip}var ET;function sP(){return ET||(ET=1,tp.exports=rP()()),tp.exports}var aP=sP();const at=Su(aP);var rp,TT;function oP(){if(TT)return rp;TT=1;function i(d){return d&&typeof d=="object"&&"default"in d?d.default:d}var e=Jh(),t=i(e);function s(d,m,g){return m in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function o(d,m){d.prototype=Object.create(m.prototype),d.prototype.constructor=d,d.__proto__=m}var u=!!(typeof window<"u"&&window.document&&window.document.createElement);function h(d,m,g){if(typeof d!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof m!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof g<"u"&&typeof g!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function v(w){return w.displayName||w.name||"Component"}return function(T){if(typeof T!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],O;function F(){O=d(x.map(function(B){return B.props})),L.canUseDOM?m(O):g&&(O=g(O))}var L=function(B){o($,B);function $(){return B.apply(this,arguments)||this}$.peek=function(){return O},$.rewind=function(){if($.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var le=O;return O=void 0,x=[],le};var J=$.prototype;return J.UNSAFE_componentWillMount=function(){x.push(this),F()},J.componentDidUpdate=function(){F()},J.componentWillUnmount=function(){var le=x.indexOf(this);x.splice(le,1),F()},J.render=function(){return t.createElement(T,this.props)},$}(e.PureComponent);return s(L,"displayName","SideEffect("+v(T)+")"),s(L,"canUseDOM",u),L}}return rp=h,rp}var lP=oP();const uP=Su(lP);var sp,wT;function cP(){if(wT)return sp;wT=1;var i=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(u,h){if(u===h)return!0;if(u&&h&&typeof u=="object"&&typeof h=="object"){if(u.constructor!==h.constructor)return!1;var d,m,g;if(Array.isArray(u)){if(d=u.length,d!=h.length)return!1;for(m=d;m--!==0;)if(!o(u[m],h[m]))return!1;return!0}var v;if(e&&u instanceof Map&&h instanceof Map){if(u.size!==h.size)return!1;for(v=u.entries();!(m=v.next()).done;)if(!h.has(m.value[0]))return!1;for(v=u.entries();!(m=v.next()).done;)if(!o(m.value[1],h.get(m.value[0])))return!1;return!0}if(t&&u instanceof Set&&h instanceof Set){if(u.size!==h.size)return!1;for(v=u.entries();!(m=v.next()).done;)if(!h.has(m.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(h)){if(d=u.length,d!=h.length)return!1;for(m=d;m--!==0;)if(u[m]!==h[m])return!1;return!0}if(u.constructor===RegExp)return u.source===h.source&&u.flags===h.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof h.valueOf=="function")return u.valueOf()===h.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof h.toString=="function")return u.toString()===h.toString();if(g=Object.keys(u),d=g.length,d!==Object.keys(h).length)return!1;for(m=d;m--!==0;)if(!Object.prototype.hasOwnProperty.call(h,g[m]))return!1;if(i&&u instanceof Element)return!1;for(m=d;m--!==0;)if(!((g[m]==="_owner"||g[m]==="__v"||g[m]==="__o")&&u.$$typeof)&&!o(u[g[m]],h[g[m]]))return!1;return!0}return u!==u&&h!==h}return sp=function(h,d){try{return o(h,d)}catch(m){if((m.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw m}},sp}var hP=cP();const fP=Su(hP);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ap,bT;function dP(){if(bT)return ap;bT=1;var i=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function s(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function o(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;var m=Object.getOwnPropertyNames(h).map(function(v){return h[v]});if(m.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(v){g[v]=v}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return ap=o()?Object.assign:function(u,h){for(var d,m=s(u),g,v=1;v<arguments.length;v++){d=Object(arguments[v]);for(var w in d)e.call(d,w)&&(m[w]=d[w]);if(i){g=i(d);for(var T=0;T<g.length;T++)t.call(d,g[T])&&(m[g[T]]=d[g[T]])}}return m},ap}var mP=dP();const pP=Su(mP);var ta={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ie={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ie).map(function(i){return Ie[i]});var ot={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Zh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Au={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},gP=Object.keys(Zh).reduce(function(i,e){return i[Zh[e]]=e,i},{}),yP=[Ie.NOSCRIPT,Ie.SCRIPT,Ie.STYLE],Wn="data-react-helmet",vP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_P=function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")},EP=function(){function i(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}}(),un=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},TP=function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)},AT=function(i,e){var t={};for(var s in i)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},wP=function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i},zp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},bP=function(e){var t=yo(e,Ie.TITLE),s=yo(e,Au.TITLE_TEMPLATE);if(s&&t)return s.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var o=yo(e,Au.DEFAULT_TITLE);return t||o||void 0},AP=function(e){return yo(e,Au.ON_CHANGE_CLIENT_STATE)||function(){}},op=function(e,t){return t.filter(function(s){return typeof s[e]<"u"}).map(function(s){return s[e]}).reduce(function(s,o){return un({},s,o)},{})},SP=function(e,t){return t.filter(function(s){return typeof s[Ie.BASE]<"u"}).map(function(s){return s[Ie.BASE]}).reverse().reduce(function(s,o){if(!s.length)for(var u=Object.keys(o),h=0;h<u.length;h++){var d=u[h],m=d.toLowerCase();if(e.indexOf(m)!==-1&&o[m])return s.concat(o)}return s},[])},Wl=function(e,t,s){var o={};return s.filter(function(u){return Array.isArray(u[e])?!0:(typeof u[e]<"u"&&xP("Helmet: "+e+' should be of type "Array". Instead found type "'+vP(u[e])+'"'),!1)}).map(function(u){return u[e]}).reverse().reduce(function(u,h){var d={};h.filter(function(T){for(var x=void 0,O=Object.keys(T),F=0;F<O.length;F++){var L=O[F],B=L.toLowerCase();t.indexOf(B)!==-1&&!(x===ot.REL&&T[x].toLowerCase()==="canonical")&&!(B===ot.REL&&T[B].toLowerCase()==="stylesheet")&&(x=B),t.indexOf(L)!==-1&&(L===ot.INNER_HTML||L===ot.CSS_TEXT||L===ot.ITEM_PROP)&&(x=L)}if(!x||!T[x])return!1;var $=T[x].toLowerCase();return o[x]||(o[x]={}),d[x]||(d[x]={}),o[x][$]?!1:(d[x][$]=!0,!0)}).reverse().forEach(function(T){return u.push(T)});for(var m=Object.keys(d),g=0;g<m.length;g++){var v=m[g],w=pP({},o[v],d[v]);o[v]=w}return u},[]).reverse()},yo=function(e,t){for(var s=e.length-1;s>=0;s--){var o=e[s];if(o.hasOwnProperty(t))return o[t]}return null},RP=function(e){return{baseTag:SP([ot.HREF,ot.TARGET],e),bodyAttributes:op(ta.BODY,e),defer:yo(e,Au.DEFER),encode:yo(e,Au.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:op(ta.HTML,e),linkTags:Wl(Ie.LINK,[ot.REL,ot.HREF],e),metaTags:Wl(Ie.META,[ot.NAME,ot.CHARSET,ot.HTTPEQUIV,ot.PROPERTY,ot.ITEM_PROP],e),noscriptTags:Wl(Ie.NOSCRIPT,[ot.INNER_HTML],e),onChangeClientState:AP(e),scriptTags:Wl(Ie.SCRIPT,[ot.SRC,ot.INNER_HTML],e),styleTags:Wl(Ie.STYLE,[ot.CSS_TEXT],e),title:bP(e),titleAttributes:op(ta.TITLE,e)}},Bp=function(){var i=Date.now();return function(e){var t=Date.now();t-i>16?(i=t,e(t)):setTimeout(function(){Bp(e)},0)}}(),ST=function(e){return clearTimeout(e)},IP=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Bp:global.requestAnimationFrame||Bp,CP=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ST:global.cancelAnimationFrame||ST,xP=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Zl=null,NP=function(e){Zl&&CP(Zl),e.defer?Zl=IP(function(){RT(e,function(){Zl=null})}):(RT(e),Zl=null)},RT=function(e,t){var s=e.baseTag,o=e.bodyAttributes,u=e.htmlAttributes,h=e.linkTags,d=e.metaTags,m=e.noscriptTags,g=e.onChangeClientState,v=e.scriptTags,w=e.styleTags,T=e.title,x=e.titleAttributes;qp(Ie.BODY,o),qp(Ie.HTML,u),OP(T,x);var O={baseTag:ao(Ie.BASE,s),linkTags:ao(Ie.LINK,h),metaTags:ao(Ie.META,d),noscriptTags:ao(Ie.NOSCRIPT,m),scriptTags:ao(Ie.SCRIPT,v),styleTags:ao(Ie.STYLE,w)},F={},L={};Object.keys(O).forEach(function(B){var $=O[B],J=$.newTags,oe=$.oldTags;J.length&&(F[B]=J),oe.length&&(L[B]=O[B].oldTags)}),t&&t(),g(e,F,L)},XA=function(e){return Array.isArray(e)?e.join(""):e},OP=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=XA(e)),qp(Ie.TITLE,t)},qp=function(e,t){var s=document.getElementsByTagName(e)[0];if(s){for(var o=s.getAttribute(Wn),u=o?o.split(","):[],h=[].concat(u),d=Object.keys(t),m=0;m<d.length;m++){var g=d[m],v=t[g]||"";s.getAttribute(g)!==v&&s.setAttribute(g,v),u.indexOf(g)===-1&&u.push(g);var w=h.indexOf(g);w!==-1&&h.splice(w,1)}for(var T=h.length-1;T>=0;T--)s.removeAttribute(h[T]);u.length===h.length?s.removeAttribute(Wn):s.getAttribute(Wn)!==d.join(",")&&s.setAttribute(Wn,d.join(","))}},ao=function(e,t){var s=document.head||document.querySelector(Ie.HEAD),o=s.querySelectorAll(e+"["+Wn+"]"),u=Array.prototype.slice.call(o),h=[],d=void 0;return t&&t.length&&t.forEach(function(m){var g=document.createElement(e);for(var v in m)if(m.hasOwnProperty(v))if(v===ot.INNER_HTML)g.innerHTML=m.innerHTML;else if(v===ot.CSS_TEXT)g.styleSheet?g.styleSheet.cssText=m.cssText:g.appendChild(document.createTextNode(m.cssText));else{var w=typeof m[v]>"u"?"":m[v];g.setAttribute(v,w)}g.setAttribute(Wn,"true"),u.some(function(T,x){return d=x,g.isEqualNode(T)})?u.splice(d,1):h.push(g)}),u.forEach(function(m){return m.parentNode.removeChild(m)}),h.forEach(function(m){return s.appendChild(m)}),{oldTags:u,newTags:h}},WA=function(e){return Object.keys(e).reduce(function(t,s){var o=typeof e[s]<"u"?s+'="'+e[s]+'"':""+s;return t?t+" "+o:o},"")},DP=function(e,t,s,o){var u=WA(s),h=XA(t);return u?"<"+e+" "+Wn+'="true" '+u+">"+zp(h,o)+"</"+e+">":"<"+e+" "+Wn+'="true">'+zp(h,o)+"</"+e+">"},MP=function(e,t,s){return t.reduce(function(o,u){var h=Object.keys(u).filter(function(g){return!(g===ot.INNER_HTML||g===ot.CSS_TEXT)}).reduce(function(g,v){var w=typeof u[v]>"u"?v:v+'="'+zp(u[v],s)+'"';return g?g+" "+w:w},""),d=u.innerHTML||u.cssText||"",m=yP.indexOf(e)===-1;return o+"<"+e+" "+Wn+'="true" '+h+(m?"/>":">"+d+"</"+e+">")},"")},ZA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,o){return s[Zh[o]||o]=e[o],s},t)},PP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,o){return s[gP[o]||o]=e[o],s},t)},kP=function(e,t,s){var o,u=(o={key:t},o[Wn]=!0,o),h=ZA(s,u);return[bn.createElement(Ie.TITLE,h,t)]},VP=function(e,t){return t.map(function(s,o){var u,h=(u={key:o},u[Wn]=!0,u);return Object.keys(s).forEach(function(d){var m=Zh[d]||d;if(m===ot.INNER_HTML||m===ot.CSS_TEXT){var g=s.innerHTML||s.cssText;h.dangerouslySetInnerHTML={__html:g}}else h[m]=s[d]}),bn.createElement(e,h)})},ir=function(e,t,s){switch(e){case Ie.TITLE:return{toComponent:function(){return kP(e,t.title,t.titleAttributes)},toString:function(){return DP(e,t.title,t.titleAttributes,s)}};case ta.BODY:case ta.HTML:return{toComponent:function(){return ZA(t)},toString:function(){return WA(t)}};default:return{toComponent:function(){return VP(e,t)},toString:function(){return MP(e,t,s)}}}},JA=function(e){var t=e.baseTag,s=e.bodyAttributes,o=e.encode,u=e.htmlAttributes,h=e.linkTags,d=e.metaTags,m=e.noscriptTags,g=e.scriptTags,v=e.styleTags,w=e.title,T=w===void 0?"":w,x=e.titleAttributes;return{base:ir(Ie.BASE,t,o),bodyAttributes:ir(ta.BODY,s,o),htmlAttributes:ir(ta.HTML,u,o),link:ir(Ie.LINK,h,o),meta:ir(Ie.META,d,o),noscript:ir(Ie.NOSCRIPT,m,o),script:ir(Ie.SCRIPT,g,o),style:ir(Ie.STYLE,v,o),title:ir(Ie.TITLE,{title:T,titleAttributes:x},o)}},LP=function(e){var t,s;return s=t=function(o){TP(u,o);function u(){return _P(this,u),wP(this,o.apply(this,arguments))}return u.prototype.shouldComponentUpdate=function(d){return!fP(this.props,d)},u.prototype.mapNestedChildrenToProps=function(d,m){if(!m)return null;switch(d.type){case Ie.SCRIPT:case Ie.NOSCRIPT:return{innerHTML:m};case Ie.STYLE:return{cssText:m}}throw new Error("<"+d.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},u.prototype.flattenArrayTypeChildren=function(d){var m,g=d.child,v=d.arrayTypeChildren,w=d.newChildProps,T=d.nestedChildren;return un({},v,(m={},m[g.type]=[].concat(v[g.type]||[],[un({},w,this.mapNestedChildrenToProps(g,T))]),m))},u.prototype.mapObjectTypeChildren=function(d){var m,g,v=d.child,w=d.newProps,T=d.newChildProps,x=d.nestedChildren;switch(v.type){case Ie.TITLE:return un({},w,(m={},m[v.type]=x,m.titleAttributes=un({},T),m));case Ie.BODY:return un({},w,{bodyAttributes:un({},T)});case Ie.HTML:return un({},w,{htmlAttributes:un({},T)})}return un({},w,(g={},g[v.type]=un({},T),g))},u.prototype.mapArrayTypeChildrenToProps=function(d,m){var g=un({},m);return Object.keys(d).forEach(function(v){var w;g=un({},g,(w={},w[v]=d[v],w))}),g},u.prototype.warnOnInvalidChildren=function(d,m){return!0},u.prototype.mapChildrenToProps=function(d,m){var g=this,v={};return bn.Children.forEach(d,function(w){if(!(!w||!w.props)){var T=w.props,x=T.children,O=AT(T,["children"]),F=PP(O);switch(g.warnOnInvalidChildren(w,x),w.type){case Ie.LINK:case Ie.META:case Ie.NOSCRIPT:case Ie.SCRIPT:case Ie.STYLE:v=g.flattenArrayTypeChildren({child:w,arrayTypeChildren:v,newChildProps:F,nestedChildren:x});break;default:m=g.mapObjectTypeChildren({child:w,newProps:m,newChildProps:F,nestedChildren:x});break}}}),m=this.mapArrayTypeChildrenToProps(v,m),m},u.prototype.render=function(){var d=this.props,m=d.children,g=AT(d,["children"]),v=un({},g);return m&&(v=this.mapChildrenToProps(m,v)),bn.createElement(e,v)},EP(u,null,[{key:"canUseDOM",set:function(d){e.canUseDOM=d}}]),u}(bn.Component),t.propTypes={base:at.object,bodyAttributes:at.object,children:at.oneOfType([at.arrayOf(at.node),at.node]),defaultTitle:at.string,defer:at.bool,encodeSpecialCharacters:at.bool,htmlAttributes:at.object,link:at.arrayOf(at.object),meta:at.arrayOf(at.object),noscript:at.arrayOf(at.object),onChangeClientState:at.func,script:at.arrayOf(at.object),style:at.arrayOf(at.object),title:at.string,titleAttributes:at.object,titleTemplate:at.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var o=e.rewind();return o||(o=JA({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),o},s},UP=function(){return null},jP=uP(RP,NP,JA)(UP),Hp=LP(jP);Hp.renderStatic=Hp.rewind;const zP=(i=0)=>i>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toString(),BP=({relatedVideos:i})=>{const e=Hn(),[t,s]=U.useState(!1);if(!i||i.length===0)return S.jsx("p",{className:"text-gray-400",children:"No related videos found."});const o=4,u=t?i:i.slice(0,o);return S.jsxs("div",{className:"flex-shrink-0 w-full lg:w-1/4",children:[S.jsx("h3",{className:"mb-2 font-semibold text-pink-500 text-md",children:"Related Videos"}),S.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-1",children:u.map(h=>S.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>e(`/embed/${h.id}`),children:[S.jsxs("div",{className:"relative",children:[h.thumbnail?S.jsx("img",{src:h.thumbnail,alt:h.description||"Video Thumbnail",className:"object-cover w-full aspect-video"}):S.jsx("div",{className:"w-full bg-black aspect-video"}),h.duration&&S.jsx("div",{className:"absolute bottom-1 left-1 text-white text-[10px] px-1.5 py-0.5 rounded",children:h.duration})]}),S.jsxs("div",{className:"p-1.5",children:[S.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:h.description}),S.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-400",children:[S.jsx(QA,{className:"w-3 h-3"}),S.jsx("span",{children:zP(h.views??0)})]})]})]},h.id))}),i.length>o&&!t&&S.jsx("button",{className:"w-full px-3 py-2 mt-2 text-xs font-semibold text-pink-500 ",onClick:()=>s(!0),children:"See More"})]})},qP=(i=0)=>i>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toString(),HP=()=>{let i=localStorage.getItem("xstreamGuestId");return i||(i=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",i)),i},FP=({comments:i,newComment:e,setNewComment:t,handleCommentSubmit:s,db:o,videoId:u,guestId:h})=>{const[d,m]=U.useState({}),g=T=>T?`Guest-${T.substring(6,12)}`:"Guest",v=(T,x)=>m(O=>({...O,[T]:x})),w=async(T,x)=>{T.preventDefault();const O=d[x];if(!O?.trim())return;const F=dr(o,"videos",u,"comments",x);await Bh(F,{replies:Fb({text:O,author:h,createdAt:mt.now()})}),m(L=>({...L,[x]:""}))};return S.jsxs("div",{className:"mt-6",children:[S.jsxs("h3",{className:"mb-2 text-lg font-semibold",children:["Comments (",i.length,")"]}),S.jsxs("form",{onSubmit:s,className:"flex flex-col gap-2 mb-4 sm:flex-row",children:[S.jsx("input",{type:"text",value:e,onChange:T=>t(T.target.value),placeholder:"Add a comment...",className:"flex-1 p-2 text-white bg-gray-800 border border-gray-600 rounded"}),S.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-pink-600 rounded",children:"Post"})]}),S.jsx("div",{className:"space-y-3",children:i.map(T=>S.jsxs("div",{className:"p-3 bg-gray-900 rounded",children:[S.jsx("p",{className:"text-sm font-semibold text-pink-400",children:g(T.author)}),S.jsx("p",{className:"text-sm text-white",children:T.text}),S.jsxs("div",{className:"mt-2 ml-4 space-y-2",children:[T.replies?.map((x,O)=>S.jsxs("div",{className:"p-2 bg-gray-800 rounded",children:[S.jsx("p",{className:"text-xs font-semibold text-pink-400",children:g(x.author)}),S.jsx("p",{className:"text-xs text-white",children:x.text})]},O)),S.jsxs("form",{onSubmit:x=>w(x,T.id),className:"flex gap-2 mt-1",children:[S.jsx("input",{type:"text",value:d[T.id]||"",onChange:x=>v(T.id,x.target.value),placeholder:"Reply...",className:"flex-1 p-1 text-xs text-white bg-gray-800 border border-gray-600 rounded"}),S.jsx("button",{type:"submit",className:"px-2 py-1 text-xs text-white bg-pink-600 rounded",children:"Reply"})]})]})]},T.id))})]})},GP=({text:i})=>{const[e,t]=U.useState(!1),s=120,o=i.length>s,u=e||!o?i:i.slice(0,s)+"...";return S.jsxs("div",{className:"mt-2 mb-2 text-lg font-medium text-justify text-white sm:text-xl",children:[S.jsx("p",{children:u}),o&&S.jsx("button",{onClick:()=>t(!e),className:"mt-1 text-xs font-semibold text-pink-500 hover:underline",children:e?"See less":"See more"})]})},YP=()=>{const{id:i}=cR(),e=hs(Sn),t=Hn(),s=U.useRef(null),[o,u]=U.useState(null),[h,d]=U.useState([]),[m,g]=U.useState(!1),[v,w]=U.useState([]),[T,x]=U.useState(""),O=U.useMemo(()=>HP(),[]),[F,L]=U.useState(!1),[B,$]=U.useState(!1),[J,oe]=U.useState(!1),le=U.useRef(null),[me,I]=U.useState(!1),[R,C]=U.useState(!0);U.useEffect(()=>{const Ae=localStorage.getItem("smartlinkCooldown");if(Ae){const qe=Date.now()-Number(Ae);if(qe<12e4){C(!1);const X=setTimeout(()=>C(!0),12e4-qe);return()=>clearTimeout(X)}}},[]),U.useEffect(()=>{if(!i)return;const Ae=dr(e,"videos",i);(async()=>{const re=await jg(Ae);if(re.exists()){const he=re.data();u({...he,id:re.id}),L(he.likedBy?.includes(O)||!1),await Bh(Ae,{views:BE(1)})}else u(null)})(),window.scrollTo(0,0);const X=ea(Ae,re=>{if(re.exists()){const he=re.data();u(Be=>({...Be,...he})),L(he.likedBy?.includes(O)||!1)}});return()=>X()},[i,e,O]),U.useEffect(()=>{const Ae=ts(e,"videos"),qe=ea(Ae,X=>{const re=[];X.forEach(he=>re.push({id:he.id,...he.data()})),d(re)});return()=>qe()},[e]),U.useEffect(()=>{if(!i)return;const Ae=Vb(ts(e,"videos",i,"comments"),Lb("createdAt","desc")),qe=ea(Ae,X=>{const re=[];X.forEach(he=>re.push({id:he.id,replies:[],...he.data()})),w(re)});return()=>qe()},[i,e]);const M=async()=>{if(!i||F)return;const Ae=dr(e,"videos",i);await Bh(Ae,{hearts:BE(1),likedBy:Fb(O)}),L(!0)},V=async Ae=>{Ae.preventDefault(),!(!i||T.trim()==="")&&(await qb(ts(e,"videos",i,"comments"),{text:T,author:O,createdAt:mt.now(),replies:[]}),x(""))};U.useEffect(()=>{const Ae=qe=>{le.current&&!le.current.contains(qe.target)&&$(!1)};return document.addEventListener("mousedown",Ae),()=>document.removeEventListener("mousedown",Ae)},[]);const j=h.filter(Ae=>Ae.id!==i&&Ae.category?.toLowerCase()===o?.category?.toLowerCase()).slice(0,8),D=j.length>0?j:h.filter(Ae=>Ae.id!==i).slice(0,8);return o?S.jsxs("div",{className:"relative min-h-screen text-white bg-black",children:[S.jsxs(Hp,{children:[S.jsx("title",{children:o.description||"XStream Video"}),S.jsx("meta",{name:"description",content:o.description||"Watch videos on XStream"})]}),S.jsx("button",{className:"fixed z-50 p-2 text-white transition top-4 left-4 hover:bg-pink-600",onClick:()=>t("/"),children:S.jsx(BM,{})}),S.jsxs("div",{className:"flex flex-col max-w-screen-xl gap-6 p-4 pt-12 mx-auto lg:flex-row lg:p-6 lg:pt-6",children:[S.jsxs("div",{className:"flex flex-col flex-1",children:[S.jsxs("div",{className:"relative w-full",children:[R&&S.jsx("div",{className:"absolute inset-0 z-10 cursor-pointer",onClick:()=>{window.open("https://www.effectivegatecpm.com/jyg7iqygdw?key=42a8d47d25b7b1c40d3fb95c274ab0ce","_blank"),C(!1),localStorage.setItem("smartlinkCooldown",Date.now())}}),o.url?.includes("<iframe")?(()=>{const Ae=o.url.match(/src=["']([^"']+)["']/);return Ae?.[1]?S.jsx("iframe",{src:Ae[1],className:"relative z-0 w-full h-[200px] sm:h-[360px] md:h-[480px] lg:h-[540px] shadow-lg",allow:"autoplay; fullscreen",sandbox:"allow-scripts allow-same-origin allow-presentation",scrolling:"no",title:"Embedded Video"}):S.jsx("div",{className:"text-sm text-center text-gray-400",children:"Invalid iframe src."})})():S.jsx("video",{ref:s,src:o.url,controls:!0,autoPlay:!0,muted:!0,playsInline:!0,className:"relative z-0 w-full h-[200px] sm:h-[360px] md:h-[480px] lg:h-[540px] rounded-lg shadow-lg",onPause:()=>I(!0),onPlay:()=>I(!1)})]}),S.jsx(GP,{text:o.description||"No Title"}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm text-gray-400",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(QA,{}),S.jsx("span",{children:qP(o.views??0)})]}),S.jsxs("span",{className:`flex items-center gap-1 cursor-pointer ${F?"text-red-500":"hover:text-red-400 transition-colors"}`,onClick:M,children:[S.jsx(FM,{})," ",o.hearts||0]}),S.jsxs("span",{className:"flex items-center gap-1 transition-colors cursor-pointer hover:text-pink-400",onClick:()=>g(!m),children:[S.jsx(HM,{})," ",v.length]}),S.jsxs("span",{className:"relative",ref:le,children:[S.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 transition bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>$(Ae=>!Ae),children:[S.jsx(GM,{})," Share"]}),B&&S.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 sm:left-0 sm:translate-x-0 w-56 sm:w-64 max-w-[90vw] bg-gray-900 border border-gray-700 rounded-lg shadow-lg p-4 z-50",children:[S.jsx("h3",{className:"mb-2 text-sm font-semibold text-pink-500",children:"Share this video"}),S.jsx("input",{type:"text",readOnly:!0,value:window.location.href,className:"w-full p-2 mb-2 text-xs text-white bg-gray-800 border border-gray-600 rounded"}),S.jsxs("button",{className:"flex items-center justify-center w-full gap-2 px-3 py-2 text-xs text-white transition-colors bg-pink-600 rounded hover:bg-pink-500",onClick:()=>{navigator.clipboard.writeText(window.location.href),oe(!0),setTimeout(()=>oe(!1),2e3)},children:[S.jsx(qM,{})," Copy Link"]}),J&&S.jsx("p",{className:"mt-1 text-xs text-green-400",children:"Link copied!"})]})]})]}),m&&S.jsx(FP,{comments:v,newComment:T,setNewComment:x,handleCommentSubmit:V,db:e,videoId:i,guestId:O})]}),S.jsx(BP,{relatedVideos:D,className:"mt-6 lg:mt-0"})]}),S.jsx(Of,{})]}):S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:S.jsx("div",{className:"w-12 h-12 border-4 border-gray-500 rounded-full border-t-pink-600 animate-spin"})})},$P=[{src:"/ads/promo.png",title:"LIPAT and GET FREE 500",link:"https://player88.tv/?ref=C-181C0131",content:["MECHANICS","LIPAT and GET FREE 500 — NO CASH-IN REQUIRED!","1. Open to all new players from other playing app/site.","2. Should register using the link below.","3. After registering, please verify your account immediately.","4. To qualify, simply provide a screenshot showing the app or site you previously played on.","5. One account per device only. Can only claim once.","6. You may claim your free 500 on our official FB PAGE or through our LIVECHAT found on the app.","7. Giveaway betting requirement is x3 rollover. Example: Giveaway received 500 x3 = 1500 (Total required bet before withdrawal)"]},{src:"/ads/promo2.jpg",title:"RAFFLE BONANZA",link:"https://player88.tv/?ref=C-181C0131",content:["MECHANICS","Raffle Bonanza — 10 winners will be picked to win 1,000 credits every hour!","Draw Period: October 10, 2025 at 6PM to October 17, 2025 at 6PM.","Player will receive one (1) raffle ticket for every ₱100 bet, regardless of the game they play.","Raffle draws will take place every hour. Each hourly draw will randomly select ten (10) lucky winners. Each winner will be awarded 1,000 credits.","A player can only win once per draw; multiple wins within the same draw are not permitted.","Only tickets generated up to the 55th minute of each hour will be eligible for that hour’s draw.","Promo period: OCTOBER 9, 2025 UNTIL FURTHER NOTICE"]}],KP=()=>{const i=Hn(),t=ri().state?.videoId;if(!t)return i("/",{replace:!0}),null;const[s,o]=U.useState(!1),[u,h]=U.useState(null),d=g=>{h(g),o(!0)},m=()=>{localStorage.setItem("xstream-sponsored-cooldown",Date.now()),i(`/embed/${t}`,{replace:!0})};return S.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-8 space-y-8 bg-gray-900",children:[S.jsxs("div",{className:"fixed top-0 left-0 z-50 flex items-center justify-between w-full px-6 py-3 bg-gray-800 shadow-lg",children:[S.jsx("h1",{className:"text-lg font-semibold text-white",children:"Sponsored Promotions"}),S.jsx("button",{onClick:m,className:"px-5 py-2 font-semibold text-white transition bg-pink-600 rounded-lg shadow hover:bg-pink-500",children:"Continue"})]}),S.jsx("div",{className:"pt-20"}),S.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:$P.map((g,v)=>S.jsxs("div",{className:"relative flex flex-col items-center w-full max-w-sm mx-auto overflow-hidden bg-gray-800 shadow-2xl rounded-2xl",children:[S.jsx("img",{src:g.src,alt:g.title,className:"object-contain w-full h-64 rounded-t-2xl"}),S.jsxs("div",{className:"flex flex-col items-center w-full px-4 py-4",children:[S.jsx("h2",{className:"mb-2 text-xl font-bold text-white",children:g.title}),S.jsxs("div",{className:"flex w-full space-x-2",children:[S.jsx("button",{className:"flex-1 px-4 py-2 font-semibold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-500",onClick:()=>d(g),children:"View"}),S.jsx("a",{href:g.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-4 py-2 font-semibold text-center text-white transition bg-green-600 rounded-lg shadow hover:bg-green-500",children:"Register"})]})]})]},v))}),s&&u&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-70",children:S.jsxs("div",{className:"relative w-full max-w-3xl px-6 py-6 overflow-y-auto bg-gray-800 rounded-2xl shadow-2xl max-h-[90vh]",children:[S.jsx("button",{className:"absolute text-2xl font-bold text-white top-4 right-4 hover:text-pink-500",onClick:()=>o(!1),children:"×"}),S.jsx("img",{src:u.src,alt:u.title,className:"object-contain w-full h-auto mb-4 rounded-2xl"}),S.jsx("div",{className:"space-y-3 text-justify text-white",children:u.content.map((g,v)=>S.jsx("p",{className:"text-sm text-gray-200",children:g},v))}),S.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full px-4 py-3 mt-6 font-semibold text-center text-white transition bg-green-600 rounded-lg shadow hover:bg-green-500",children:"Register Now"})]})})]})},QP=()=>S.jsxs("div",{className:"overflow-hidden bg-gray-800 rounded-lg shadow-lg animate-pulse",children:[S.jsx("div",{className:"w-full bg-gray-700 rounded-t aspect-video"}),S.jsxs("div",{className:"p-2 space-y-2",children:[S.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),S.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),XP=()=>{const[i,e]=U.useState([]),[t,s]=U.useState(!0),[o,u]=U.useState(12),[h,d]=U.useState(""),[m,g]=U.useState(!1),[v,w]=U.useState(null),T=Hn(),x=hs(Sn);U.useEffect(()=>{const $=ts(x,"videos"),J=ea($,oe=>{const le=oe.docs.map(me=>{const I=me.data(),R=(I.hearts||0)+(I.commentsCount||0);return{id:me.id,engagement:R,...I}}).filter(me=>me.engagement>0).sort((me,I)=>I.engagement-me.engagement);e(le),s(!1)});return()=>J()},[x]);const O=()=>u($=>$+12),F=$=>{$==="HOME"&&T("/"),$==="CATEGORIES"&&g(J=>!J)},L=[...new Set(i.map($=>$.category).filter(Boolean))],B=i.filter($=>{const J=v?$.category===v:!0,oe=h.trim()===""?!0:($.description||"").toLowerCase().includes(h.trim().toLowerCase());return J&&oe});return S.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[S.jsx(ey,{search:h,setSearch:d,handleNavClick:F,showCategories:m,availableCategories:L,setSelectedCategory:w,setShowCategories:g,selectedCategory:v}),S.jsx(ty,{}),S.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-6 pb-12",children:[S.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Top Rated Videos"}),S.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:t?Array.from({length:12}).map(($,J)=>S.jsx(QP,{},J)):B.slice(0,o).map($=>S.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>T("/sponsored",{state:{videoId:$.id}}),children:[S.jsx("div",{className:"relative",children:$.thumbnail?S.jsx("img",{src:$.thumbnail,alt:$.description||"",className:"object-cover w-full aspect-video"}):S.jsx("div",{className:"w-full bg-black rounded-t-lg aspect-video"})}),S.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:$.description}),S.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400 px-2 pb-2",children:[S.jsxs("span",{children:["❤️ ",$.hearts||0]}),S.jsxs("span",{children:["💬 ",$.commentsCount||0]})]})]},$.id))}),!t&&o<B.length&&S.jsx("div",{className:"flex justify-center mt-6",children:S.jsx("button",{onClick:O,className:"px-4 py-2 text-white transition ",children:"Load More"})})]}),S.jsx(Of,{})]})},WP=Nf(Sn),ZP=hs(Sn),JP=({children:i})=>{const[e,t]=U.useState(!0),[s,o]=U.useState(!1);return U.useEffect(()=>{const u=T4(WP,async h=>{if(h){const d=dr(ZP,"users",h.uid),m=await jg(d);m.exists()&&m.data().role==="admin"?o(!0):o(!1)}else o(!1);t(!1)});return()=>u()},[]),e?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:S.jsx("div",{className:"text-pink-500 text-lg animate-pulse",children:"Checking access..."})}):s?i:S.jsx(Qp,{to:"/login",replace:!0})},e6=()=>S.jsxs("div",{className:"overflow-hidden bg-gray-800 rounded-lg shadow-lg animate-pulse",children:[S.jsx("div",{className:"w-full bg-gray-700 rounded-t aspect-video"}),S.jsxs("div",{className:"p-2 space-y-2",children:[S.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),S.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),t6=(i=0)=>i>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toString(),n6=()=>{const[i,e]=U.useState([]),[t,s]=U.useState(!0),[o,u]=U.useState(12),[h,d]=U.useState(""),[m,g]=U.useState(!1),[v,w]=U.useState(null),T=Hn(),x=hs(Sn);U.useEffect(()=>{const $=Vb(ts(x,"videos"),Lb("views","desc")),J=ea($,oe=>{const le=oe.docs.map(me=>({id:me.id,...me.data()}));e(le),s(!1)});return()=>J()},[x]);const O=()=>u($=>$+12),F=$=>{$==="HOME"&&T("/"),$==="CATEGORIES"&&g(J=>!J)},L=[...new Set(i.map($=>$.category).filter(Boolean))],B=i.filter($=>{const J=v?$.category===v:!0,oe=h.trim()===""?!0:($.description||"").toLowerCase().includes(h.trim().toLowerCase());return J&&oe});return S.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[S.jsx(ey,{search:h,setSearch:d,handleNavClick:F,showCategories:m,availableCategories:L,setSelectedCategory:w,setShowCategories:g,selectedCategory:v}),S.jsx(ty,{}),S.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-6 pb-12",children:[S.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Most Viewed Videos"}),S.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:t?Array.from({length:12}).map(($,J)=>S.jsx(e6,{},J)):B.slice(0,o).map($=>S.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>T("/sponsored",{state:{videoId:$.id}}),children:[S.jsx("img",{src:$.thumbnail,alt:$.description||"",className:"object-cover w-full aspect-video"}),S.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:$.description}),S.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 px-2 pb-2",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),S.jsx("span",{children:t6($.views??0)})]})]},$.id))}),!t&&o<B.length&&S.jsx("div",{className:"flex justify-center mt-6",children:S.jsx("button",{onClick:O,className:"px-4 py-2 text-white transition ",children:"Load More"})})]}),S.jsx(Of,{})]})},Jl=({children:i})=>{const e=localStorage.getItem("xstream-progress"),t=ri();return e!=="dashboard"?(localStorage.setItem("xstream-intended-path",t.pathname),S.jsx(Qp,{to:"/age-verification",state:{from:t},replace:!0})):i};function i6(){const[i,e]=U.useState(!0),t=Hn(),s=()=>{e(!1),localStorage.getItem("xstream-progress")||(localStorage.setItem("xstream-progress","awareness"),t("/age-verification",{replace:!0}))},o=()=>{localStorage.setItem("xstream-progress","dashboard");const h=localStorage.getItem("xstream-intended-path");h?(t(h,{replace:!0}),localStorage.removeItem("xstream-intended-path")):t("/",{replace:!0})},u=()=>{window.location.href="https://www.google.com"};return U.useEffect(()=>{const h=setTimeout(()=>e(!1),2500);return()=>clearTimeout(h)},[]),S.jsx("div",{className:"min-h-screen text-white bg-black",children:i?S.jsx(sI,{onDone:s}):S.jsxs(SR,{children:[S.jsx(bi,{path:"/age-verification",element:S.jsx(aI,{onEnter:o,onExit:u})}),S.jsx(bi,{path:"/",element:S.jsx(Jl,{children:S.jsx(WM,{})})}),S.jsx(bi,{path:"/toprated",element:S.jsx(Jl,{children:S.jsx(XP,{})})}),S.jsx(bi,{path:"/mostviewed",element:S.jsx(Jl,{children:S.jsx(n6,{})})}),S.jsx(bi,{path:"/admin",element:S.jsx(JP,{children:S.jsx(JM,{})})}),S.jsx(bi,{path:"/login",element:S.jsx(nP,{})}),S.jsx(bi,{path:"/sponsored",element:S.jsx(Jl,{children:S.jsx(KP,{})})}),S.jsx(bi,{path:"/embed/:id",element:S.jsx(Jl,{children:S.jsx(YP,{})})}),S.jsx(bi,{path:"*",element:S.jsx(Qp,{to:"/",replace:!0})})]})})}function r6(){return S.jsx(QR,{children:S.jsx(i6,{})})}const s6=document.getElementById("root");MS.createRoot(s6).render(S.jsx(bn.StrictMode,{children:S.jsx(r6,{})}));
