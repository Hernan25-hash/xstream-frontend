(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function kD(){if(RT)return xu;RT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:o}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var CT;function PD(){return CT||(CT=1,ny.exports=kD()),ny.exports}var g=PD(),iy={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function MD(){if(IT)return Me;IT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function I(V,ee,ce){this.props=V,this.context=ee,this.refs=N,this.updater=ce||E}I.prototype.isReactComponent={},I.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=I.prototype;function U(V,ee,ce){this.props=V,this.context=ee,this.refs=N,this.updater=ce||E}var j=U.prototype=new D;j.constructor=U,A(j,I.prototype),j.isPureReactComponent=!0;var q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function P(V,ee,ce,le,ue,we){return ce=we.ref,{$$typeof:t,type:V,key:ee,ref:ce!==void 0?ce:null,props:we}}function R(V,ee){return P(V.type,ee,void 0,void 0,void 0,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function M(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return ee[ce]})}var B=/\/+/g;function z(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ee.toString(36)}function L(){}function Qe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function he(V,ee,ce,le,ue){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(we){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case t:case e:xe=!0;break;case y:return xe=V._init,he(xe(V._payload),ee,ce,le,ue)}}if(xe)return ue=ue(V),xe=le===""?"."+z(V,0):le,q(ue)?(ce="",xe!=null&&(ce=xe.replace(B,"$&/")+"/"),he(ue,ee,ce,"",function(pt){return pt})):ue!=null&&(O(ue)&&(ue=R(ue,ce+(ue.key==null||V&&V.key===ue.key?"":(""+ue.key).replace(B,"$&/")+"/")+xe)),ee.push(ue)),1;xe=0;var fe=le===""?".":le+":";if(q(V))for(var Re=0;Re<V.length;Re++)le=V[Re],we=fe+z(le,Re),xe+=he(le,ee,ce,we,ue);else if(Re=_(V),typeof Re=="function")for(V=Re.call(V),Re=0;!(le=V.next()).done;)le=le.value,we=fe+z(le,Re++),xe+=he(le,ee,ce,we,ue);else if(we==="object"){if(typeof V.then=="function")return he(Qe(V),ee,ce,le,ue);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(V,ee,ce){if(V==null)return V;var le=[],ue=0;return he(V,le,"","",function(we){return ee.call(ce,we,ue++)}),le}function oe(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ve(){}return Me.Children={map:Z,forEach:function(V,ee,ce){Z(V,function(){ee.apply(this,arguments)},ce)},count:function(V){var ee=0;return Z(V,function(){ee++}),ee},toArray:function(V){return Z(V,function(ee){return ee})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=I,Me.Fragment=n,Me.Profiler=r,Me.PureComponent=U,Me.StrictMode=i,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Me.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Y.H.useMemoCache(V)}},Me.cache=function(V){return function(){return V.apply(null,arguments)}},Me.cloneElement=function(V,ee,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=A({},V.props),ue=V.key,we=void 0;if(ee!=null)for(xe in ee.ref!==void 0&&(we=void 0),ee.key!==void 0&&(ue=""+ee.key),ee)!ne.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(le[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)le.children=ce;else if(1<xe){for(var fe=Array(xe),Re=0;Re<xe;Re++)fe[Re]=arguments[Re+2];le.children=fe}return P(V.type,ue,void 0,void 0,we,le)},Me.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Me.createElement=function(V,ee,ce){var le,ue={},we=null;if(ee!=null)for(le in ee.key!==void 0&&(we=""+ee.key),ee)ne.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ee[le]);var xe=arguments.length-2;if(xe===1)ue.children=ce;else if(1<xe){for(var fe=Array(xe),Re=0;Re<xe;Re++)fe[Re]=arguments[Re+2];ue.children=fe}if(V&&V.defaultProps)for(le in xe=V.defaultProps,xe)ue[le]===void 0&&(ue[le]=xe[le]);return P(V,we,void 0,void 0,null,ue)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:h,render:V}},Me.isValidElement=O,Me.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:oe}},Me.memo=function(V,ee){return{$$typeof:m,type:V,compare:ee===void 0?null:ee}},Me.startTransition=function(V){var ee=Y.T,ce={};Y.T=ce;try{var le=V(),ue=Y.S;ue!==null&&ue(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ve,me)}catch(we){me(we)}finally{Y.T=ee}},Me.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Me.use=function(V){return Y.H.use(V)},Me.useActionState=function(V,ee,ce){return Y.H.useActionState(V,ee,ce)},Me.useCallback=function(V,ee){return Y.H.useCallback(V,ee)},Me.useContext=function(V){return Y.H.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V,ee){return Y.H.useDeferredValue(V,ee)},Me.useEffect=function(V,ee,ce){var le=Y.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(V,ee)},Me.useId=function(){return Y.H.useId()},Me.useImperativeHandle=function(V,ee,ce){return Y.H.useImperativeHandle(V,ee,ce)},Me.useInsertionEffect=function(V,ee){return Y.H.useInsertionEffect(V,ee)},Me.useLayoutEffect=function(V,ee){return Y.H.useLayoutEffect(V,ee)},Me.useMemo=function(V,ee){return Y.H.useMemo(V,ee)},Me.useOptimistic=function(V,ee){return Y.H.useOptimistic(V,ee)},Me.useReducer=function(V,ee,ce){return Y.H.useReducer(V,ee,ce)},Me.useRef=function(V){return Y.H.useRef(V)},Me.useState=function(V){return Y.H.useState(V)},Me.useSyncExternalStore=function(V,ee,ce){return Y.H.useSyncExternalStore(V,ee,ce)},Me.useTransition=function(){return Y.H.useTransition()},Me.version="19.1.0",Me}var NT;function ym(){return NT||(NT=1,iy.exports=MD()),iy.exports}var S=ym();const hi=ph(S);var sy={exports:{}},_u={},ry={exports:{}},ay={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function jD(){return DT||(DT=1,function(t){function e(Z,oe){var me=Z.length;Z.push(oe);e:for(;0<me;){var ve=me-1>>>1,V=Z[ve];if(0<r(V,oe))Z[ve]=oe,Z[me]=V,me=ve;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var oe=Z[0],me=Z.pop();if(me!==oe){Z[0]=me;e:for(var ve=0,V=Z.length,ee=V>>>1;ve<ee;){var ce=2*(ve+1)-1,le=Z[ce],ue=ce+1,we=Z[ue];if(0>r(le,me))ue<V&&0>r(we,le)?(Z[ve]=we,Z[ue]=me,ve=ue):(Z[ve]=le,Z[ce]=me,ve=ce);else if(ue<V&&0>r(we,me))Z[ve]=we,Z[ue]=me,ve=ue;else break e}}return oe}function r(Z,oe){var me=Z.sortIndex-oe.sortIndex;return me!==0?me:Z.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,x=null,_=3,E=!1,A=!1,N=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function q(Z){for(var oe=n(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=Z)i(m),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(m)}}function Y(Z){if(N=!1,q(Z),!A)if(n(d)!==null)A=!0,ne||(ne=!0,z());else{var oe=n(m);oe!==null&&he(Y,oe.startTime-Z)}}var ne=!1,P=-1,R=5,O=-1;function M(){return I?!0:!(t.unstable_now()-O<R)}function B(){if(I=!1,ne){var Z=t.unstable_now();O=Z;var oe=!0;try{e:{A=!1,N&&(N=!1,U(P),P=-1),E=!0;var me=_;try{t:{for(q(Z),x=n(d);x!==null&&!(x.expirationTime>Z&&M());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,_=x.priorityLevel;var V=ve(x.expirationTime<=Z);if(Z=t.unstable_now(),typeof V=="function"){x.callback=V,q(Z),oe=!0;break t}x===n(d)&&i(d),q(Z)}else i(d);x=n(d)}if(x!==null)oe=!0;else{var ee=n(m);ee!==null&&he(Y,ee.startTime-Z),oe=!1}}break e}finally{x=null,_=me,E=!1}oe=void 0}}finally{oe?z():ne=!1}}}var z;if(typeof j=="function")z=function(){j(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Qe=L.port2;L.port1.onmessage=B,z=function(){Qe.postMessage(null)}}else z=function(){D(B,0)};function he(Z,oe){P=D(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var me=_;_=oe;try{return Z()}finally{_=me}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var me=_;_=Z;try{return oe()}finally{_=me}},t.unstable_scheduleCallback=function(Z,oe,me){var ve=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ve+me:ve):me=ve,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,Z={id:y++,callback:oe,priorityLevel:Z,startTime:me,expirationTime:V,sortIndex:-1},me>ve?(Z.sortIndex=me,e(m,Z),n(d)===null&&Z===n(m)&&(N?(U(P),P=-1):N=!0,he(Y,me-ve))):(Z.sortIndex=V,e(d,Z),A||E||(A=!0,ne||(ne=!0,z()))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var oe=_;return function(){var me=_;_=oe;try{return Z.apply(this,arguments)}finally{_=me}}}}(ay)),ay}var OT;function VD(){return OT||(OT=1,ry.exports=jD()),ry.exports}var oy={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function LD(){if(kT)return Sn;kT=1;var t=ym();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:d,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},Sn.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},Sn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Sn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Sn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:E}):y==="script"&&i.d.X(d,{crossOrigin:x,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Sn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Sn.requestFormReset=function(d){i.d.r(d)},Sn.unstable_batchedUpdates=function(d,m){return d(m)},Sn.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var PT;function UD(){if(PT)return oy.exports;PT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oy.exports=LD(),oy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function BD(){if(MT)return _u;MT=1;var t=VD(),e=ym(),n=UD();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),s;if(v===u)return h(p),a;v=v.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=v;else{for(var T=!1,C=p.child;C;){if(C===l){T=!0,l=p,u=v;break}if(C===u){T=!0,u=p,l=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===l){T=!0,l=v,u=p;break}if(C===u){T=!0,u=v,l=p;break}C=C.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function Qe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case ne:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return(s.displayName||"Context")+".Provider";case U:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:Qe(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Qe(s(a))}catch{}}return null}var he=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ve=[],V=-1;function ee(s){return{current:s}}function ce(s){0>V||(s.current=ve[V],ve[V]=null,V--)}function le(s,a){V++,ve[V]=s.current,s.current=a}var ue=ee(null),we=ee(null),xe=ee(null),fe=ee(null);function Re(s,a){switch(le(xe,a),le(we,s),le(ue,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?tT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=tT(a),s=nT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(ue),le(ue,s)}function pt(){ce(ue),ce(we),ce(xe)}function gt(s){s.memoizedState!==null&&le(fe,s);var a=ue.current,l=nT(a,s.type);a!==l&&(le(we,s),le(ue,l))}function ft(s){we.current===s&&(ce(ue),ce(we)),fe.current===s&&(ce(fe),mu._currentValue=me)}var kn=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Ct=t.unstable_cancelCallback,Fn=t.unstable_shouldYield,Ds=t.unstable_requestPaint,wn=t.unstable_now,Ta=t.unstable_getCurrentPriorityLevel,es=t.unstable_ImmediatePriority,ts=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,He=t.unstable_LowPriority,yt=t.unstable_IdlePriority,qe=t.log,tt=t.unstable_setDisableYieldValue,lt=null,Be=null;function ei(s){if(typeof qe=="function"&&tt(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(lt,s)}catch{}}var Tn=Math.clz32?Math.clz32:Ea,Mh=Math.log,sp=Math.LN2;function Ea(s){return s>>>=0,s===0?32:31-(Mh(s)/sp|0)|0}var Sa=256,Aa=4194304;function ji(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function No(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,v=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?p=ji(u):(T&=C,T!==0?p=ji(T):l||(l=C&~s,l!==0&&(p=ji(l))))):(C=u&~v,C!==0?p=ji(C):T!==0?p=ji(T):l||(l=u&~s,l!==0&&(p=ji(l)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:p}function Ra(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function mc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var s=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),s}function gc(){var s=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),s}function Os(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ks(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yc(s,a,l,u,p,v){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,F=s.expirationTimes,W=s.hiddenUpdates;for(l=T&~l;0<l;){var te=31-Tn(l),re=1<<te;C[te]=0,F[te]=-1;var X=W[te];if(X!==null)for(W[te]=null,te=0;te<X.length;te++){var Q=X[te];Q!==null&&(Q.lane&=-536870913)}l&=~re}u!==0&&ns(s,u,0),v!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=v&~(T&~a))}function ns(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Tn(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function vc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Tn(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Do(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function br(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:bT(s.type))}function jh(s,a){var l=oe.p;try{return oe.p=s,a()}finally{oe.p=l}}var wt=Math.random().toString(36).slice(2),Qt="__reactFiber$"+wt,qt="__reactProps$"+wt,mi="__reactContainer$"+wt,xc="__reactEvents$"+wt,rp="__reactListeners$"+wt,wr="__reactHandles$"+wt,Vh="__reactResources$"+wt,Ca="__reactMarker$"+wt;function Tr(s){delete s[Qt],delete s[qt],delete s[xc],delete s[rp],delete s[wr]}function Ps(s){var a=s[Qt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[mi]||l[Qt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=aT(s);s!==null;){if(l=s[Qt])return l;s=aT(s)}return a}s=l,l=s.parentNode}return null}function is(s){if(s=s[Qt]||s[mi]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ss(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Pn(s){var a=s[Vh];return a||(a=s[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Lt(s){s[Ca]=!0}var _c=new Set,Oo={};function Vi(s,a){Ms(s,a),Ms(s+"Capture",a)}function Ms(s,a){for(Oo[s]=a,s=0;s<a.length;s++)_c.add(a[s])}var Lh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uh={},Ia={};function Bh(s){return kn.call(Ia,s)?!0:kn.call(Uh,s)?!1:Lh.test(s)?Ia[s]=!0:(Uh[s]=!0,!1)}function Er(s,a,l){if(Bh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function rs(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function dn(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Na,Fh;function js(s){if(Na===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Na=a&&a[1]||"",Fh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+s+Fh}var ko=!1;function Po(s,a){if(!s||ko)return"";ko=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var X=Q}Reflect.construct(s,[],re)}else{try{re.call()}catch(Q){X=Q}s.call(re.prototype)}}else{try{throw Error()}catch(Q){X=Q}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),T=v[0],C=v[1];if(T&&C){var F=T.split(`
`),W=C.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===W.length)for(u=F.length-1,p=W.length-1;1<=u&&0<=p&&F[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==W[p]){var te=`
`+F[u].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=u&&0<=p);break}}}finally{ko=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?js(l):""}function bc(s){switch(s.tag){case 26:case 27:case 5:return js(s.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Po(s.type,!1);case 11:return Po(s.type.render,!1);case 1:return Po(s.type,!0);case 31:return js("Activity");default:return""}}function Mo(s){try{var a="";do a+=bc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ap(s){var a=wc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,v.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function jo(s){s._valueTracker||(s._valueTracker=ap(s))}function Tc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=wc(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Da(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var op=/[\n"\\]/g;function Gt(s){return s.replace(op,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ti(s,a,l,u,p,v,T,C){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Mn(a)):s.value!==""+Mn(a)&&(s.value=""+Mn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Sr(s,T,Mn(a)):l!=null?Sr(s,T,Mn(l)):u!=null&&s.removeAttribute("value"),p==null&&v!=null&&(s.defaultChecked=!!v),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Mn(C):s.removeAttribute("name")}function Oa(s,a,l,u,p,v,T,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;l=l!=null?""+Mn(l):"",a=a!=null?""+Mn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Sr(s,a,l){a==="number"&&Da(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Vs(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Mn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Mn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Mn(l):""}function ka(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Mn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function pi(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zh(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Pa.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Ec(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&zh(s,p,u)}else for(var v in a)a.hasOwnProperty(v)&&zh(s,v,a[v])}function Sc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(s){return cp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ls=null;function gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Us=null,Bs=null;function Ac(s){var a=is(s);if(a&&(s=a.stateNode)){var l=s[qt]||null;e:switch(s=a.stateNode,a.type){case"input":if(ti(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[qt]||null;if(!p)throw Error(i(90));ti(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Tc(u)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Vs(s,!!l.multiple,a,!1)}}}var as=!1;function Hh(s,a,l){if(as)return s(a,l);as=!0;try{var u=s(a);return u}finally{if(as=!1,(Us!==null||Bs!==null)&&(jd(),Us&&(a=Us,s=Bs,Bs=Us=null,Ac(a),s)))for(a=0;a<s.length;a++)Ac(s[a])}}function Ma(s,a){var l=s.stateNode;if(l===null)return null;var u=l[qt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Li)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){yi=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{yi=!1}var os=null,Ar=null,Fs=null;function Rc(){if(Fs)return Fs;var s,a=Ar,l=a.length,u,p="value"in os?os.value:os.textContent,v=p.length;for(s=0;s<l&&a[s]===p[s];s++);var T=l-s;for(u=1;u<=T&&a[l-u]===p[v-u];u++);return Fs=p.slice(s,1<u?1-u:void 0)}function ls(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function cs(){return!0}function Cc(){return!1}function rn(s){function a(l,u,p,v,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cs:Cc,this.isPropagationStopped=Cc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=rn(nt),Va=y({},nt,{view:0,detail:0}),qh=rn(Va),Uo,Bo,us,La=y({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==us&&(us&&s.type==="mousemove"?(Uo=s.screenX-us.screenX,Bo=s.screenY-us.screenY):Bo=Uo=0,us=s),Uo)},movementY:function(s){return"movementY"in s?s.movementY:Bo}}),vi=rn(La),Gh=y({},La,{dataTransfer:0}),up=rn(Gh),Ua=y({},Va,{relatedTarget:0}),Fo=rn(Ua),Ic=y({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=rn(Ic),$h=y({},nt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ho=rn($h),hp=y({},nt,{data:0}),Nc=rn(hp),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Kh[s])?!!a[s]:!1}function Fa(){return Dc}var Wh=y({},Va,{key:function(s){if(s.key){var a=Ba[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ls(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(s){return s.type==="keypress"?ls(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ls(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qo=rn(Wh),Xh=y({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=rn(Xh),zs=y({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Qh=rn(zs),Zh=y({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jh=rn(Zh),ed=y({},La,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Go=rn(ed),jn=y({},nt,{newState:0,oldState:0}),td=rn(jn),nd=[9,13,27,32],hs=Li&&"CompositionEvent"in window,f=null;Li&&"documentMode"in document&&(f=document.documentMode);var b=Li&&"TextEvent"in window&&!f,w=Li&&(!hs||f&&8<f&&11>=f),k=" ",$=!1;function J(s,a){switch(s){case"keyup":return nd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ye=!1;function Zt(s,a){switch(s){case"compositionend":return de(a);case"keypress":return a.which!==32?null:($=!0,k);case"textInput":return s=a.data,s===k&&$?null:s;default:return null}}function Ke(s,a){if(Ye)return s==="compositionend"||!hs&&J(s,a)?(s=Rc(),Fs=Ar=os=null,Ye=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!an[s.type]:a==="textarea"}function Hs(s,a,l,u){Us?Bs?Bs.push(u):Bs=[u]:Us=u,a=zd(a,"onChange"),0<a.length&&(l=new Lo("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var fn=null,ds=null;function kc(s){Xw(s,0)}function id(s){var a=ss(s);if(Tc(a))return s}function y_(s,a){if(s==="change")return a}var v_=!1;if(Li){var dp;if(Li){var fp="oninput"in document;if(!fp){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),fp=typeof x_.oninput=="function"}dp=fp}else dp=!1;v_=dp&&(!document.documentMode||9<document.documentMode)}function __(){fn&&(fn.detachEvent("onpropertychange",b_),ds=fn=null)}function b_(s){if(s.propertyName==="value"&&id(ds)){var a=[];Hs(a,ds,s,gi(s)),Hh(kc,a)}}function c4(s,a,l){s==="focusin"?(__(),fn=a,ds=l,fn.attachEvent("onpropertychange",b_)):s==="focusout"&&__()}function u4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return id(ds)}function h4(s,a){if(s==="click")return id(a)}function d4(s,a){if(s==="input"||s==="change")return id(a)}function f4(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ni=typeof Object.is=="function"?Object.is:f4;function Pc(s,a){if(ni(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!kn.call(a,p)||!ni(s[p],a[p]))return!1}return!0}function w_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function T_(s,a){var l=w_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=w_(l)}}function E_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?E_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function S_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Da(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Da(s.document)}return a}function mp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var m4=Li&&"documentMode"in document&&11>=document.documentMode,$o=null,pp=null,Mc=null,gp=!1;function A_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gp||$o==null||$o!==Da(u)||(u=$o,"selectionStart"in u&&mp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mc&&Pc(Mc,u)||(Mc=u,u=zd(pp,"onSelect"),0<u.length&&(a=new Lo("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=$o)))}function za(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Yo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},yp={},R_={};Li&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Ha(s){if(yp[s])return yp[s];if(!Yo[s])return s;var a=Yo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in R_)return yp[s]=a[l];return s}var C_=Ha("animationend"),I_=Ha("animationiteration"),N_=Ha("animationstart"),p4=Ha("transitionrun"),g4=Ha("transitionstart"),y4=Ha("transitioncancel"),D_=Ha("transitionend"),O_=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function Ui(s,a){O_.set(s,a),Vi(a,[s])}var k_=new WeakMap;function xi(s,a){if(typeof s=="object"&&s!==null){var l=k_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Mo(a)},k_.set(s,a),a)}return{value:s,source:a,stack:Mo(a)}}var _i=[],Ko=0,xp=0;function sd(){for(var s=Ko,a=xp=Ko=0;a<s;){var l=_i[a];_i[a++]=null;var u=_i[a];_i[a++]=null;var p=_i[a];_i[a++]=null;var v=_i[a];if(_i[a++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}v!==0&&P_(l,p,v)}}function rd(s,a,l,u){_i[Ko++]=s,_i[Ko++]=a,_i[Ko++]=l,_i[Ko++]=u,xp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function _p(s,a,l,u){return rd(s,a,l,u),ad(s)}function Wo(s,a){return rd(s,null,null,a),ad(s)}function P_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(p=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,p&&a!==null&&(p=31-Tn(l),s=v.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),v):null}function ad(s){if(50<au)throw au=0,Ag=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Xo={};function v4(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(s,a,l,u){return new v4(s,a,l,u)}function bp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qs(s,a){var l=s.alternate;return l===null?(l=ii(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function M_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function od(s,a,l,u,p,v){var T=0;if(u=s,typeof s=="function")bp(s)&&(T=1);else if(typeof s=="string")T=_D(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=ii(31,l,a,p),s.elementType=O,s.lanes=v,s;case A:return qa(l.children,p,v,a);case N:T=8,p|=24;break;case I:return s=ii(12,l,a,p|2),s.elementType=I,s.lanes=v,s;case Y:return s=ii(13,l,a,p),s.elementType=Y,s.lanes=v,s;case ne:return s=ii(19,l,a,p),s.elementType=ne,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case j:T=10;break e;case U:T=9;break e;case q:T=11;break e;case P:T=14;break e;case R:T=16,u=null;break e}T=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=ii(T,l,a,p),a.elementType=s,a.type=u,a.lanes=v,a}function qa(s,a,l,u){return s=ii(7,s,u,a),s.lanes=l,s}function wp(s,a,l){return s=ii(6,s,null,a),s.lanes=l,s}function Tp(s,a,l){return a=ii(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Qo=[],Zo=0,ld=null,cd=0,bi=[],wi=0,Ga=null,Gs=1,$s="";function $a(s,a){Qo[Zo++]=cd,Qo[Zo++]=ld,ld=s,cd=a}function j_(s,a,l){bi[wi++]=Gs,bi[wi++]=$s,bi[wi++]=Ga,Ga=s;var u=Gs;s=$s;var p=32-Tn(u)-1;u&=~(1<<p),l+=1;var v=32-Tn(a)+p;if(30<v){var T=p-p%5;v=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Gs=1<<32-Tn(a)+p|l<<p|u,$s=v+s}else Gs=1<<v|l<<p|u,$s=s}function Ep(s){s.return!==null&&($a(s,1),j_(s,1,0))}function Sp(s){for(;s===ld;)ld=Qo[--Zo],Qo[Zo]=null,cd=Qo[--Zo],Qo[Zo]=null;for(;s===Ga;)Ga=bi[--wi],bi[wi]=null,$s=bi[--wi],bi[wi]=null,Gs=bi[--wi],bi[wi]=null}var Vn=null,Ot=null,Je=!1,Ya=null,fs=!1,Ap=Error(i(519));function Ka(s){var a=Error(i(418,""));throw Lc(xi(a,s)),Ap}function V_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Qt]=s,a[qt]=u,l){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(l=0;l<lu.length;l++)ze(lu[l],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),Oa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),jo(a);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),ka(a,u.value,u.defaultValue,u.children),jo(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||eT(a.textContent,l)?(u.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),u.onScroll!=null&&ze("scroll",a),u.onScrollEnd!=null&&ze("scrollend",a),u.onClick!=null&&(a.onclick=Hd),a=!0):a=!1,a||Ka(s)}function L_(s){for(Vn=s.return;Vn;)switch(Vn.tag){case 5:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:Vn=Vn.return}}function jc(s){if(s!==Vn)return!1;if(!Je)return L_(s),Je=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zg(s.type,s.memoizedProps)),l=!l),l&&Ot&&Ka(s),L_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ot=Fi(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ot=null}}else a===27?(a=Ot,zr(s.type)?(s=$g,$g=null,Ot=s):Ot=a):Ot=Vn?Fi(s.stateNode.nextSibling):null;return!0}function Vc(){Ot=Vn=null,Je=!1}function U_(){var s=Ya;return s!==null&&(qn===null?qn=s:qn.push.apply(qn,s),Ya=null),s}function Lc(s){Ya===null?Ya=[s]:Ya.push(s)}var Rp=ee(null),Wa=null,Ys=null;function Rr(s,a,l){le(Rp,a._currentValue),a._currentValue=l}function Ks(s){s._currentValue=Rp.current,ce(Rp)}function Cp(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Ip(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=p;for(var F=0;F<a.length;F++)if(C.context===a[F]){v.lanes|=l,C=v.alternate,C!==null&&(C.lanes|=l),Cp(v.return,l,s),u||(T=null);break e}v=C.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,v=T.alternate,v!==null&&(v.lanes|=l),Cp(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Uc(s,a,l,u){s=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=p.type;ni(p.pendingProps.value,T.value)||(s!==null?s.push(C):s=[C])}}else if(p===fe.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(mu):s=[mu])}p=p.return}s!==null&&Ip(a,s,l,u),a.flags|=262144}function ud(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xa(s){Wa=s,Ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function En(s){return B_(Wa,s)}function hd(s,a){return Wa===null&&Xa(s),B_(s,a)}function B_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ys===null){if(s===null)throw Error(i(308));Ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ys=Ys.next=a;return l}var x4=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},_4=t.unstable_scheduleCallback,b4=t.unstable_NormalPriority,en={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Np(){return{controller:new x4,data:new Map,refCount:0}}function Bc(s){s.refCount--,s.refCount===0&&_4(b4,function(){s.controller.abort()})}var Fc=null,Dp=0,Jo=0,el=null;function w4(s,a){if(Fc===null){var l=Fc=[];Dp=0,Jo=kg(),el={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Dp++,a.then(F_,F_),a}function F_(){if(--Dp===0&&Fc!==null){el!==null&&(el.status="fulfilled");var s=Fc;Fc=null,Jo=0,el=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function T4(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var z_=Z.S;Z.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&w4(s,a),z_!==null&&z_(s,a)};var Qa=ee(null);function Op(){var s=Qa.current;return s!==null?s:vt.pooledCache}function dd(s,a){a===null?le(Qa,Qa.current):le(Qa,a.pool)}function H_(){var s=Op();return s===null?null:{parent:en._currentValue,pool:s}}var zc=Error(i(460)),q_=Error(i(474)),fd=Error(i(542)),kp={then:function(){}};function G_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function md(){}function $_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(md,md),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,K_(s),s;default:if(typeof a.status=="string")a.then(md,md);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,K_(s),s}throw Hc=a,zc}}var Hc=null;function Y_(){if(Hc===null)throw Error(i(459));var s=Hc;return Hc=null,s}function K_(s){if(s===zc||s===fd)throw Error(i(483))}var Cr=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Nr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=ad(s),P_(s,null,l),a}return rd(s,u,a,l),ad(s)}function qc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vc(s,l)}}function jp(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?p=v=a:v=v.next=a}else p=v=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Vp=!1;function Gc(){if(Vp){var s=el;if(s!==null)throw s}}function $c(s,a,l,u){Vp=!1;var p=s.updateQueue;Cr=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var F=C,W=F.next;F.next=null,T===null?v=W:T.next=W,T=F;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==T&&(C===null?te.firstBaseUpdate=W:C.next=W,te.lastBaseUpdate=F))}if(v!==null){var re=p.baseState;T=0,te=W=F=null,C=v;do{var X=C.lane&-536870913,Q=X!==C.lane;if(Q?(We&X)===X:(u&X)===X){X!==0&&X===Jo&&(Vp=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ie=s,Se=C;X=a;var dt=l;switch(Se.tag){case 1:if(Ie=Se.payload,typeof Ie=="function"){re=Ie.call(dt,re,X);break e}re=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Se.payload,X=typeof Ie=="function"?Ie.call(dt,re,X):Ie,X==null)break e;re=y({},re,X);break e;case 2:Cr=!0}}X=C.callback,X!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(W=te=Q,F=re):te=te.next=Q,T|=X;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);te===null&&(F=re),p.baseState=F,p.firstBaseUpdate=W,p.lastBaseUpdate=te,v===null&&(p.shared.lanes=0),Lr|=T,s.lanes=T,s.memoizedState=re}}function W_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function X_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)W_(l[s],a)}var tl=ee(null),pd=ee(0);function Q_(s,a){s=tr,le(pd,s),le(tl,a),tr=s|a.baseLanes}function Lp(){le(pd,tr),le(tl,tl.current)}function Up(){tr=pd.current,ce(tl),ce(pd)}var Dr=0,Ve=null,ut=null,$t=null,gd=!1,nl=!1,Za=!1,yd=0,Yc=0,il=null,E4=0;function Ut(){throw Error(i(321))}function Bp(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!ni(s[l],a[l]))return!1;return!0}function Fp(s,a,l,u,p,v){return Dr=v,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=s===null||s.memoizedState===null?Pb:Mb,Za=!1,v=l(u,p),Za=!1,nl&&(v=J_(a,l,u,p)),Z_(s),v}function Z_(s){Z.H=Td;var a=ut!==null&&ut.next!==null;if(Dr=0,$t=ut=Ve=null,gd=!1,Yc=0,il=null,a)throw Error(i(300));s===null||on||(s=s.dependencies,s!==null&&ud(s)&&(on=!0))}function J_(s,a,l,u){Ve=s;var p=0;do{if(nl&&(il=null),Yc=0,nl=!1,25<=p)throw Error(i(301));if(p+=1,$t=ut=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=D4,v=a(l,u)}while(nl);return v}function S4(){var s=Z.H,a=s.useState()[0];return a=typeof a.then=="function"?Kc(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ve.flags|=1024),a}function zp(){var s=yd!==0;return yd=0,s}function Hp(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function qp(s){if(gd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}gd=!1}Dr=0,$t=ut=Ve=null,nl=!1,Yc=yd=0,il=null}function zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ve.memoizedState=$t=s:$t=$t.next=s,$t}function Yt(){if(ut===null){var s=Ve.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=$t===null?Ve.memoizedState:$t.next;if(a!==null)$t=a,ut=s;else{if(s===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},$t===null?Ve.memoizedState=$t=s:$t=$t.next=s}return $t}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(s){var a=Yc;return Yc+=1,il===null&&(il=[]),s=$_(il,s,a),a=Ve,($t===null?a.memoizedState:$t.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?Pb:Mb),s}function vd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kc(s);if(s.$$typeof===j)return En(s)}throw Error(i(438,String(s)))}function $p(s){var a=null,l=Ve.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Gp(),Ve.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=M;return a.index++,l}function Ws(s,a){return typeof a=="function"?a(s):a}function xd(s){var a=Yt();return Yp(a,ut,s)}function Yp(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,v=u.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}a.baseQueue=p=v,u.pending=null}if(v=s.baseState,p===null)s.memoizedState=v;else{a=p.next;var C=T=null,F=null,W=a,te=!1;do{var re=W.lane&-536870913;if(re!==W.lane?(We&re)===re:(Dr&re)===re){var X=W.revertLane;if(X===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),re===Jo&&(te=!0);else if((Dr&X)===X){W=W.next,X===Jo&&(te=!0);continue}else re={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(C=F=re,T=v):F=F.next=re,Ve.lanes|=X,Lr|=X;re=W.action,Za&&l(v,re),v=W.hasEagerState?W.eagerState:l(v,re)}else X={lane:re,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(C=F=X,T=v):F=F.next=X,Ve.lanes|=re,Lr|=re;W=W.next}while(W!==null&&W!==a);if(F===null?T=v:F.next=C,!ni(v,s.memoizedState)&&(on=!0,te&&(l=el,l!==null)))throw l;s.memoizedState=v,s.baseState=T,s.baseQueue=F,u.lastRenderedState=v}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Kp(s){var a=Yt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,v=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do v=s(v,T.action),T=T.next;while(T!==p);ni(v,a.memoizedState)||(on=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,u]}function eb(s,a,l){var u=Ve,p=Yt(),v=Je;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!ni((ut||p).memoizedState,l);T&&(p.memoizedState=l,on=!0),p=p.queue;var C=ib.bind(null,u,p,s);if(Wc(2048,8,C,[s]),p.getSnapshot!==a||T||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,sl(9,_d(),nb.bind(null,u,p,l,a),null),vt===null)throw Error(i(349));v||(Dr&124)!==0||tb(u,a,l)}return l}function tb(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ve.updateQueue,a===null?(a=Gp(),Ve.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function nb(s,a,l,u){a.value=l,a.getSnapshot=u,sb(a)&&rb(s)}function ib(s,a,l){return l(function(){sb(a)&&rb(s)})}function sb(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!ni(s,l)}catch{return!0}}function rb(s){var a=Wo(s,2);a!==null&&li(a,s,2)}function Wp(s){var a=zn();if(typeof s=="function"){var l=s;if(s=l(),Za){ei(!0);try{l()}finally{ei(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:s},a}function ab(s,a,l,u){return s.baseState=l,Yp(s,ut,typeof u=="function"?u:Ws)}function A4(s,a,l,u,p){if(wd(s))throw Error(i(485));if(s=a.action,s!==null){var v={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};Z.T!==null?l(!0):v.isTransition=!1,u(v),l=a.pending,l===null?(v.next=a.pending=v,ob(a,v)):(v.next=l.next,a.pending=l.next=v)}}function ob(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var v=Z.T,T={};Z.T=T;try{var C=l(p,u),F=Z.S;F!==null&&F(T,C),lb(s,a,C)}catch(W){Xp(s,a,W)}finally{Z.T=v}}else try{v=l(p,u),lb(s,a,v)}catch(W){Xp(s,a,W)}}function lb(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){cb(s,a,u)},function(u){return Xp(s,a,u)}):cb(s,a,l)}function cb(s,a,l){a.status="fulfilled",a.value=l,ub(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,ob(s,l)))}function Xp(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,ub(a),a=a.next;while(a!==u)}s.action=null}function ub(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function hb(s,a){return a}function db(s,a){if(Je){var l=vt.formState;if(l!==null){e:{var u=Ve;if(Je){if(Ot){t:{for(var p=Ot,v=fs;p.nodeType!==8;){if(!v){p=null;break t}if(p=Fi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ot=Fi(p.nextSibling),u=p.data==="F!";break e}}Ka(u)}u=!1}u&&(a=l[0])}}return l=zn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hb,lastRenderedState:a},l.queue=u,l=Db.bind(null,Ve,u),u.dispatch=l,u=Wp(!1),v=tg.bind(null,Ve,!1,u.queue),u=zn(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=A4.bind(null,Ve,p,v,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function fb(s){var a=Yt();return mb(a,ut,s)}function mb(s,a,l){if(a=Yp(s,a,hb)[0],s=xd(Ws)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Kc(a)}catch(T){throw T===zc?fd:T}else u=a;a=Yt();var p=a.queue,v=p.dispatch;return l!==a.memoizedState&&(Ve.flags|=2048,sl(9,_d(),R4.bind(null,p,l),null)),[u,v,s]}function R4(s,a){s.action=a}function pb(s){var a=Yt(),l=ut;if(l!==null)return mb(a,l,s);Yt(),a=a.memoizedState,l=Yt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function sl(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=Gp(),Ve.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function _d(){return{destroy:void 0,resource:void 0}}function gb(){return Yt().memoizedState}function bd(s,a,l,u){var p=zn();u=u===void 0?null:u,Ve.flags|=s,p.memoizedState=sl(1|a,_d(),l,u)}function Wc(s,a,l,u){var p=Yt();u=u===void 0?null:u;var v=p.memoizedState.inst;ut!==null&&u!==null&&Bp(u,ut.memoizedState.deps)?p.memoizedState=sl(a,v,l,u):(Ve.flags|=s,p.memoizedState=sl(1|a,v,l,u))}function yb(s,a){bd(8390656,8,s,a)}function vb(s,a){Wc(2048,8,s,a)}function xb(s,a){return Wc(4,2,s,a)}function _b(s,a){return Wc(4,4,s,a)}function bb(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function wb(s,a,l){l=l!=null?l.concat([s]):null,Wc(4,4,bb.bind(null,a,s),l)}function Qp(){}function Tb(s,a){var l=Yt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Bp(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Eb(s,a){var l=Yt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Bp(a,u[1]))return u[0];if(u=s(),Za){ei(!0);try{s()}finally{ei(!1)}}return l.memoizedState=[u,a],u}function Zp(s,a,l){return l===void 0||(Dr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Rw(),Ve.lanes|=s,Lr|=s,l)}function Sb(s,a,l,u){return ni(l,a)?l:tl.current!==null?(s=Zp(s,l,u),ni(s,a)||(on=!0),s):(Dr&42)===0?(on=!0,s.memoizedState=l):(s=Rw(),Ve.lanes|=s,Lr|=s,a)}function Ab(s,a,l,u,p){var v=oe.p;oe.p=v!==0&&8>v?v:8;var T=Z.T,C={};Z.T=C,tg(s,!1,a,l);try{var F=p(),W=Z.S;if(W!==null&&W(C,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var te=T4(F,u);Xc(s,a,te,oi(s))}else Xc(s,a,u,oi(s))}catch(re){Xc(s,a,{then:function(){},status:"rejected",reason:re},oi())}finally{oe.p=v,Z.T=T}}function C4(){}function Jp(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=Rb(s).queue;Ab(s,p,a,me,l===null?C4:function(){return Cb(s),l(u)})}function Rb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Cb(s){var a=Rb(s).next.queue;Xc(s,a,{},oi())}function eg(){return En(mu)}function Ib(){return Yt().memoizedState}function Nb(){return Yt().memoizedState}function I4(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=oi();s=Ir(l);var u=Nr(a,s,l);u!==null&&(li(u,a,l),qc(u,a,l)),a={cache:Np()},s.payload=a;return}a=a.return}}function N4(s,a,l){var u=oi();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},wd(s)?Ob(a,l):(l=_p(s,a,l,u),l!==null&&(li(l,s,u),kb(l,a,u)))}function Db(s,a,l){var u=oi();Xc(s,a,l,u)}function Xc(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(wd(s))Ob(a,p);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var T=a.lastRenderedState,C=v(T,l);if(p.hasEagerState=!0,p.eagerState=C,ni(C,T))return rd(s,a,p,0),vt===null&&sd(),!1}catch{}finally{}if(l=_p(s,a,p,u),l!==null)return li(l,s,u),kb(l,a,u),!0}return!1}function tg(s,a,l,u){if(u={lane:2,revertLane:kg(),action:u,hasEagerState:!1,eagerState:null,next:null},wd(s)){if(a)throw Error(i(479))}else a=_p(s,l,u,2),a!==null&&li(a,s,2)}function wd(s){var a=s.alternate;return s===Ve||a!==null&&a===Ve}function Ob(s,a){nl=gd=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function kb(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vc(s,l)}}var Td={readContext:En,use:vd,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Pb={readContext:En,use:vd,useCallback:function(s,a){return zn().memoizedState=[s,a===void 0?null:a],s},useContext:En,useEffect:yb,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,bd(4194308,4,bb.bind(null,a,s),l)},useLayoutEffect:function(s,a){return bd(4194308,4,s,a)},useInsertionEffect:function(s,a){bd(4,2,s,a)},useMemo:function(s,a){var l=zn();a=a===void 0?null:a;var u=s();if(Za){ei(!0);try{s()}finally{ei(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=zn();if(l!==void 0){var p=l(a);if(Za){ei(!0);try{l(a)}finally{ei(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=N4.bind(null,Ve,s),[u.memoizedState,s]},useRef:function(s){var a=zn();return s={current:s},a.memoizedState=s},useState:function(s){s=Wp(s);var a=s.queue,l=Db.bind(null,Ve,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(s,a){var l=zn();return Zp(l,s,a)},useTransition:function(){var s=Wp(!1);return s=Ab.bind(null,Ve,s.queue,!0,!1),zn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ve,p=zn();if(Je){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),vt===null)throw Error(i(349));(We&124)!==0||tb(u,a,l)}p.memoizedState=l;var v={value:l,getSnapshot:a};return p.queue=v,yb(ib.bind(null,u,v,s),[s]),u.flags|=2048,sl(9,_d(),nb.bind(null,u,v,l,a),null),l},useId:function(){var s=zn(),a=vt.identifierPrefix;if(Je){var l=$s,u=Gs;l=(u&~(1<<32-Tn(u)-1)).toString(32)+l,a=""+a+"R"+l,l=yd++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=E4++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:eg,useFormState:db,useActionState:db,useOptimistic:function(s){var a=zn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tg.bind(null,Ve,!0,l),l.dispatch=a,[s,a]},useMemoCache:$p,useCacheRefresh:function(){return zn().memoizedState=I4.bind(null,Ve)}},Mb={readContext:En,use:vd,useCallback:Tb,useContext:En,useEffect:vb,useImperativeHandle:wb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Eb,useReducer:xd,useRef:gb,useState:function(){return xd(Ws)},useDebugValue:Qp,useDeferredValue:function(s,a){var l=Yt();return Sb(l,ut.memoizedState,s,a)},useTransition:function(){var s=xd(Ws)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:Kc(s),a]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:eg,useFormState:fb,useActionState:fb,useOptimistic:function(s,a){var l=Yt();return ab(l,ut,s,a)},useMemoCache:$p,useCacheRefresh:Nb},D4={readContext:En,use:vd,useCallback:Tb,useContext:En,useEffect:vb,useImperativeHandle:wb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Eb,useReducer:Kp,useRef:gb,useState:function(){return Kp(Ws)},useDebugValue:Qp,useDeferredValue:function(s,a){var l=Yt();return ut===null?Zp(l,s,a):Sb(l,ut.memoizedState,s,a)},useTransition:function(){var s=Kp(Ws)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:Kc(s),a]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:eg,useFormState:pb,useActionState:pb,useOptimistic:function(s,a){var l=Yt();return ut!==null?ab(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:Nb},rl=null,Qc=0;function Ed(s){var a=Qc;return Qc+=1,rl===null&&(rl=[]),$_(rl,s,a)}function Zc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Sd(s,a){throw a.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function jb(s){var a=s._init;return a(s._payload)}function Vb(s){function a(G,H){if(s){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function l(G,H){if(!s)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=qs(G,H),G.index=0,G.sibling=null,G}function v(G,H,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function C(G,H,K,se){return H===null||H.tag!==6?(H=wp(K,G.mode,se),H.return=G,H):(H=p(H,K),H.return=G,H)}function F(G,H,K,se){var ye=K.type;return ye===A?te(G,H,K.props.children,se,K.key):H!==null&&(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&jb(ye)===H.type)?(H=p(H,K.props),Zc(H,K),H.return=G,H):(H=od(K.type,K.key,K.props,null,G.mode,se),Zc(H,K),H.return=G,H)}function W(G,H,K,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Tp(K,G.mode,se),H.return=G,H):(H=p(H,K.children||[]),H.return=G,H)}function te(G,H,K,se,ye){return H===null||H.tag!==7?(H=qa(K,G.mode,se,ye),H.return=G,H):(H=p(H,K),H.return=G,H)}function re(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=wp(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return K=od(H.type,H.key,H.props,null,G.mode,K),Zc(K,H),K.return=G,K;case E:return H=Tp(H,G.mode,K),H.return=G,H;case R:var se=H._init;return H=se(H._payload),re(G,H,K)}if(he(H)||z(H))return H=qa(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return re(G,Ed(H),K);if(H.$$typeof===j)return re(G,hd(G,H),K);Sd(G,H)}return null}function X(G,H,K,se){var ye=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:C(G,H,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===ye?F(G,H,K,se):null;case E:return K.key===ye?W(G,H,K,se):null;case R:return ye=K._init,K=ye(K._payload),X(G,H,K,se)}if(he(K)||z(K))return ye!==null?null:te(G,H,K,se,null);if(typeof K.then=="function")return X(G,H,Ed(K),se);if(K.$$typeof===j)return X(G,H,hd(G,K),se);Sd(G,K)}return null}function Q(G,H,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,C(H,G,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return G=G.get(se.key===null?K:se.key)||null,F(H,G,se,ye);case E:return G=G.get(se.key===null?K:se.key)||null,W(H,G,se,ye);case R:var Ue=se._init;return se=Ue(se._payload),Q(G,H,K,se,ye)}if(he(se)||z(se))return G=G.get(K)||null,te(H,G,se,ye,null);if(typeof se.then=="function")return Q(G,H,K,Ed(se),ye);if(se.$$typeof===j)return Q(G,H,K,hd(H,se),ye);Sd(H,se)}return null}function Ie(G,H,K,se){for(var ye=null,Ue=null,_e=H,Ae=H=0,cn=null;_e!==null&&Ae<K.length;Ae++){_e.index>Ae?(cn=_e,_e=null):cn=_e.sibling;var Ze=X(G,_e,K[Ae],se);if(Ze===null){_e===null&&(_e=cn);break}s&&_e&&Ze.alternate===null&&a(G,_e),H=v(Ze,H,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze,_e=cn}if(Ae===K.length)return l(G,_e),Je&&$a(G,Ae),ye;if(_e===null){for(;Ae<K.length;Ae++)_e=re(G,K[Ae],se),_e!==null&&(H=v(_e,H,Ae),Ue===null?ye=_e:Ue.sibling=_e,Ue=_e);return Je&&$a(G,Ae),ye}for(_e=u(_e);Ae<K.length;Ae++)cn=Q(_e,G,Ae,K[Ae],se),cn!==null&&(s&&cn.alternate!==null&&_e.delete(cn.key===null?Ae:cn.key),H=v(cn,H,Ae),Ue===null?ye=cn:Ue.sibling=cn,Ue=cn);return s&&_e.forEach(function(Yr){return a(G,Yr)}),Je&&$a(G,Ae),ye}function Se(G,H,K,se){if(K==null)throw Error(i(151));for(var ye=null,Ue=null,_e=H,Ae=H=0,cn=null,Ze=K.next();_e!==null&&!Ze.done;Ae++,Ze=K.next()){_e.index>Ae?(cn=_e,_e=null):cn=_e.sibling;var Yr=X(G,_e,Ze.value,se);if(Yr===null){_e===null&&(_e=cn);break}s&&_e&&Yr.alternate===null&&a(G,_e),H=v(Yr,H,Ae),Ue===null?ye=Yr:Ue.sibling=Yr,Ue=Yr,_e=cn}if(Ze.done)return l(G,_e),Je&&$a(G,Ae),ye;if(_e===null){for(;!Ze.done;Ae++,Ze=K.next())Ze=re(G,Ze.value,se),Ze!==null&&(H=v(Ze,H,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze);return Je&&$a(G,Ae),ye}for(_e=u(_e);!Ze.done;Ae++,Ze=K.next())Ze=Q(_e,G,Ae,Ze.value,se),Ze!==null&&(s&&Ze.alternate!==null&&_e.delete(Ze.key===null?Ae:Ze.key),H=v(Ze,H,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze);return s&&_e.forEach(function(OD){return a(G,OD)}),Je&&$a(G,Ae),ye}function dt(G,H,K,se){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:e:{for(var ye=K.key;H!==null;){if(H.key===ye){if(ye=K.type,ye===A){if(H.tag===7){l(G,H.sibling),se=p(H,K.props.children),se.return=G,G=se;break e}}else if(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&jb(ye)===H.type){l(G,H.sibling),se=p(H,K.props),Zc(se,K),se.return=G,G=se;break e}l(G,H);break}else a(G,H);H=H.sibling}K.type===A?(se=qa(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=od(K.type,K.key,K.props,null,G.mode,se),Zc(se,K),se.return=G,G=se)}return T(G);case E:e:{for(ye=K.key;H!==null;){if(H.key===ye)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){l(G,H.sibling),se=p(H,K.children||[]),se.return=G,G=se;break e}else{l(G,H);break}else a(G,H);H=H.sibling}se=Tp(K,G.mode,se),se.return=G,G=se}return T(G);case R:return ye=K._init,K=ye(K._payload),dt(G,H,K,se)}if(he(K))return Ie(G,H,K,se);if(z(K)){if(ye=z(K),typeof ye!="function")throw Error(i(150));return K=ye.call(K),Se(G,H,K,se)}if(typeof K.then=="function")return dt(G,H,Ed(K),se);if(K.$$typeof===j)return dt(G,H,hd(G,K),se);Sd(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(l(G,H.sibling),se=p(H,K),se.return=G,G=se):(l(G,H),se=wp(K,G.mode,se),se.return=G,G=se),T(G)):l(G,H)}return function(G,H,K,se){try{Qc=0;var ye=dt(G,H,K,se);return rl=null,ye}catch(_e){if(_e===zc||_e===fd)throw _e;var Ue=ii(29,_e,null,G.mode);return Ue.lanes=se,Ue.return=G,Ue}finally{}}}var al=Vb(!0),Lb=Vb(!1),Ti=ee(null),ms=null;function Or(s){var a=s.alternate;le(tn,tn.current&1),le(Ti,s),ms===null&&(a===null||tl.current!==null||a.memoizedState!==null)&&(ms=s)}function Ub(s){if(s.tag===22){if(le(tn,tn.current),le(Ti,s),ms===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ms=s)}}else kr()}function kr(){le(tn,tn.current),le(Ti,Ti.current)}function Xs(s){ce(Ti),ms===s&&(ms=null),ce(tn)}var tn=ee(0);function Ad(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ng(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ig={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=oi(),p=Ir(u);p.payload=a,l!=null&&(p.callback=l),a=Nr(s,p,u),a!==null&&(li(a,s,u),qc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=oi(),p=Ir(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Nr(s,p,u),a!==null&&(li(a,s,u),qc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=oi(),u=Ir(l);u.tag=2,a!=null&&(u.callback=a),a=Nr(s,u,l),a!==null&&(li(a,s,l),qc(a,s,l))}};function Bb(s,a,l,u,p,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,T):a.prototype&&a.prototype.isPureReactComponent?!Pc(l,u)||!Pc(p,v):!0}function Fb(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&ig.enqueueReplaceState(a,a.state,null)}function Ja(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Rd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function zb(s){Rd(s)}function Hb(s){console.error(s)}function qb(s){Rd(s)}function Cd(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Gb(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sg(s,a,l){return l=Ir(l),l.tag=3,l.payload={element:null},l.callback=function(){Cd(s,a)},l}function $b(s){return s=Ir(s),s.tag=3,s}function Yb(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;s.payload=function(){return p(v)},s.callback=function(){Gb(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){Gb(a,l,u),typeof p!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function O4(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Uc(a,l,p,!0),l=Ti.current,l!==null){switch(l.tag){case 13:return ms===null?Cg():l.alternate===null&&kt===0&&(kt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===kp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ng(s,u,p)),!1;case 22:return l.flags|=65536,u===kp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ng(s,u,p)),!1}throw Error(i(435,l.tag))}return Ng(s,u,p),Cg(),!1}if(Je)return a=Ti.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==Ap&&(s=Error(i(422),{cause:u}),Lc(xi(s,l)))):(u!==Ap&&(a=Error(i(423),{cause:u}),Lc(xi(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=xi(u,l),p=sg(s.stateNode,u,p),jp(s,p),kt!==4&&(kt=2)),!1;var v=Error(i(520),{cause:u});if(v=xi(v,l),ru===null?ru=[v]:ru.push(v),kt!==4&&(kt=2),a===null)return!0;u=xi(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=sg(l.stateNode,u,s),jp(l,s),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ur===null||!Ur.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=$b(p),Yb(p,s,l,u),jp(l,p),!1}l=l.return}while(l!==null);return!1}var Kb=Error(i(461)),on=!1;function mn(s,a,l,u){a.child=s===null?Lb(a,null,l,u):al(a,s.child,l,u)}function Wb(s,a,l,u,p){l=l.render;var v=a.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Xa(a),u=Fp(s,a,l,T,v,p),C=zp(),s!==null&&!on?(Hp(s,a,p),Qs(s,a,p)):(Je&&C&&Ep(a),a.flags|=1,mn(s,a,u,p),a.child)}function Xb(s,a,l,u,p){if(s===null){var v=l.type;return typeof v=="function"&&!bp(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,Qb(s,a,v,u,p)):(s=od(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!dg(s,p)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(T,u)&&s.ref===a.ref)return Qs(s,a,p)}return a.flags|=1,s=qs(v,u),s.ref=a.ref,s.return=a,a.child=s}function Qb(s,a,l,u,p){if(s!==null){var v=s.memoizedProps;if(Pc(v,u)&&s.ref===a.ref)if(on=!1,a.pendingProps=u=v,dg(s,p))(s.flags&131072)!==0&&(on=!0);else return a.lanes=s.lanes,Qs(s,a,p)}return rg(s,a,l,u,p)}function Zb(s,a,l){var u=a.pendingProps,p=u.children,v=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,s!==null){for(p=a.child=s.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;a.childLanes=v&~u}else a.childLanes=0,a.child=null;return Jb(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&dd(a,v!==null?v.cachePool:null),v!==null?Q_(a,v):Lp(),Ub(a);else return a.lanes=a.childLanes=536870912,Jb(s,a,v!==null?v.baseLanes|l:l,l)}else v!==null?(dd(a,v.cachePool),Q_(a,v),kr(),a.memoizedState=null):(s!==null&&dd(a,null),Lp(),kr());return mn(s,a,p,l),a.child}function Jb(s,a,l,u){var p=Op();return p=p===null?null:{parent:en._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&dd(a,null),Lp(),Ub(a),s!==null&&Uc(s,a,u,!0),null}function Id(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function rg(s,a,l,u,p){return Xa(a),l=Fp(s,a,l,u,void 0,p),u=zp(),s!==null&&!on?(Hp(s,a,p),Qs(s,a,p)):(Je&&u&&Ep(a),a.flags|=1,mn(s,a,l,p),a.child)}function ew(s,a,l,u,p,v){return Xa(a),a.updateQueue=null,l=J_(a,u,l,p),Z_(s),u=zp(),s!==null&&!on?(Hp(s,a,v),Qs(s,a,v)):(Je&&u&&Ep(a),a.flags|=1,mn(s,a,l,v),a.child)}function tw(s,a,l,u,p){if(Xa(a),a.stateNode===null){var v=Xo,T=l.contextType;typeof T=="object"&&T!==null&&(v=En(T)),v=new l(u,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ig,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=u,v.state=a.memoizedState,v.refs={},Pp(a),T=l.contextType,v.context=typeof T=="object"&&T!==null?En(T):Xo,v.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(ng(a,l,T,u),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&ig.enqueueReplaceState(v,v.state,null),$c(a,u,v,p),Gc(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){v=a.stateNode;var C=a.memoizedProps,F=Ja(l,C);v.props=F;var W=v.context,te=l.contextType;T=Xo,typeof te=="object"&&te!==null&&(T=En(te));var re=l.getDerivedStateFromProps;te=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||W!==T)&&Fb(a,v,u,T),Cr=!1;var X=a.memoizedState;v.state=X,$c(a,u,v,p),Gc(),W=a.memoizedState,C||X!==W||Cr?(typeof re=="function"&&(ng(a,l,re,u),W=a.memoizedState),(F=Cr||Bb(a,l,F,u,X,W,T))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),v.props=u,v.state=W,v.context=T,u=F):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{v=a.stateNode,Mp(s,a),T=a.memoizedProps,te=Ja(l,T),v.props=te,re=a.pendingProps,X=v.context,W=l.contextType,F=Xo,typeof W=="object"&&W!==null&&(F=En(W)),C=l.getDerivedStateFromProps,(W=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==re||X!==F)&&Fb(a,v,u,F),Cr=!1,X=a.memoizedState,v.state=X,$c(a,u,v,p),Gc();var Q=a.memoizedState;T!==re||X!==Q||Cr||s!==null&&s.dependencies!==null&&ud(s.dependencies)?(typeof C=="function"&&(ng(a,l,C,u),Q=a.memoizedState),(te=Cr||Bb(a,l,te,u,X,Q,F)||s!==null&&s.dependencies!==null&&ud(s.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Q,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Q,F)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),v.props=u,v.state=Q,v.context=F,u=te):(typeof v.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),u=!1)}return v=u,Id(s,a),u=(a.flags&128)!==0,v||u?(v=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,s!==null&&u?(a.child=al(a,s.child,null,p),a.child=al(a,null,l,p)):mn(s,a,l,p),a.memoizedState=v.state,s=a.child):s=Qs(s,a,p),s}function nw(s,a,l,u){return Vc(),a.flags|=256,mn(s,a,l,u),a.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(s){return{baseLanes:s,cachePool:H_()}}function lg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ei),s}function iw(s,a,l){var u=a.pendingProps,p=!1,v=(a.flags&128)!==0,T;if((T=v)||(T=s!==null&&s.memoizedState===null?!1:(tn.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Je){if(p?Or(a):kr(),Je){var C=Ot,F;if(F=C){e:{for(F=C,C=fs;F.nodeType!==8;){if(!C){C=null;break e}if(F=Fi(F.nextSibling),F===null){C=null;break e}}C=F}C!==null?(a.memoizedState={dehydrated:C,treeContext:Ga!==null?{id:Gs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},F=ii(18,null,null,0),F.stateNode=C,F.return=a,a.child=F,Vn=a,Ot=null,F=!0):F=!1}F||Ka(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Gg(C)?a.lanes=32:a.lanes=536870912,null;Xs(a)}return C=u.children,u=u.fallback,p?(kr(),p=a.mode,C=Nd({mode:"hidden",children:C},p),u=qa(u,p,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,p=a.child,p.memoizedState=og(l),p.childLanes=lg(s,T,l),a.memoizedState=ag,u):(Or(a),cg(a,C))}if(F=s.memoizedState,F!==null&&(C=F.dehydrated,C!==null)){if(v)a.flags&256?(Or(a),a.flags&=-257,a=ug(s,a,l)):a.memoizedState!==null?(kr(),a.child=s.child,a.flags|=128,a=null):(kr(),p=u.fallback,C=a.mode,u=Nd({mode:"visible",children:u.children},C),p=qa(p,C,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,al(a,s.child,null,l),u=a.child,u.memoizedState=og(l),u.childLanes=lg(s,T,l),a.memoizedState=ag,a=p);else if(Or(a),Gg(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var W=T.dgst;T=W,u=Error(i(419)),u.stack="",u.digest=T,Lc({value:u,source:null,stack:null}),a=ug(s,a,l)}else if(on||Uc(s,a,l,!1),T=(l&s.childLanes)!==0,on||T){if(T=vt,T!==null&&(u=l&-l,u=(u&42)!==0?1:_r(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,Wo(s,u),li(T,s,u),Kb;C.data==="$?"||Cg(),a=ug(s,a,l)}else C.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=F.treeContext,Ot=Fi(C.nextSibling),Vn=a,Je=!0,Ya=null,fs=!1,s!==null&&(bi[wi++]=Gs,bi[wi++]=$s,bi[wi++]=Ga,Gs=s.id,$s=s.overflow,Ga=a),a=cg(a,u.children),a.flags|=4096);return a}return p?(kr(),p=u.fallback,C=a.mode,F=s.child,W=F.sibling,u=qs(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,W!==null?p=qs(W,p):(p=qa(p,C,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,C=s.child.memoizedState,C===null?C=og(l):(F=C.cachePool,F!==null?(W=en._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=H_(),C={baseLanes:C.baseLanes|l,cachePool:F}),p.memoizedState=C,p.childLanes=lg(s,T,l),a.memoizedState=ag,u):(Or(a),l=s.child,s=l.sibling,l=qs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function cg(s,a){return a=Nd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Nd(s,a){return s=ii(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ug(s,a,l){return al(a,s.child,null,l),s=cg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sw(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Cp(s.return,a,l)}function hg(s,a,l,u,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=p)}function rw(s,a,l){var u=a.pendingProps,p=u.revealOrder,v=u.tail;if(mn(s,a,u.children,l),u=tn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sw(s,l,a);else if(s.tag===19)sw(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(le(tn,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Ad(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),hg(a,!1,p,l,v);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Ad(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}hg(a,!0,l,null,v);break;case"together":hg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Lr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Uc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=qs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=qs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function dg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ud(s)))}function k4(s,a,l){switch(a.tag){case 3:Re(a,a.stateNode.containerInfo),Rr(a,en,s.memoizedState.cache),Vc();break;case 27:case 5:gt(a);break;case 4:Re(a,a.stateNode.containerInfo);break;case 10:Rr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Or(a),a.flags|=128,null):(l&a.child.childLanes)!==0?iw(s,a,l):(Or(a),s=Qs(s,a,l),s!==null?s.sibling:null);Or(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Uc(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return rw(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(tn,tn.current),u)break;return null;case 22:case 23:return a.lanes=0,Zb(s,a,l);case 24:Rr(a,en,s.memoizedState.cache)}return Qs(s,a,l)}function aw(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)on=!0;else{if(!dg(s,l)&&(a.flags&128)===0)return on=!1,k4(s,a,l);on=(s.flags&131072)!==0}else on=!1,Je&&(a.flags&1048576)!==0&&j_(a,cd,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")bp(u)?(s=Ja(u,s),a.tag=1,a=tw(null,a,u,s,l)):(a.tag=0,a=rg(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===q){a.tag=11,a=Wb(null,a,u,s,l);break e}else if(p===P){a.tag=14,a=Xb(null,a,u,s,l);break e}}throw a=Qe(u)||u,Error(i(306,a,""))}}return a;case 0:return rg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=Ja(u,a.pendingProps),tw(s,a,u,p,l);case 3:e:{if(Re(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var v=a.memoizedState;p=v.element,Mp(s,a),$c(a,u,null,l);var T=a.memoizedState;if(u=T.cache,Rr(a,en,u),u!==v.cache&&Ip(a,[en],l,!0),Gc(),u=T.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=nw(s,a,u,l);break e}else if(u!==p){p=xi(Error(i(424)),a),Lc(p),a=nw(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ot=Fi(s.firstChild),Vn=a,Je=!0,Ya=null,fs=!0,l=Lb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vc(),u===p){a=Qs(s,a,l);break e}mn(s,a,u,l)}a=a.child}return a;case 26:return Id(s,a),s===null?(l=uT(a.type,null,a.pendingProps,null))?a.memoizedState=l:Je||(l=a.type,s=a.pendingProps,u=qd(xe.current).createElement(l),u[Qt]=a,u[qt]=s,gn(u,l,s),Lt(u),a.stateNode=u):a.memoizedState=uT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return gt(a),s===null&&Je&&(u=a.stateNode=oT(a.type,a.pendingProps,xe.current),Vn=a,fs=!0,p=Ot,zr(a.type)?($g=p,Ot=Fi(u.firstChild)):Ot=p),mn(s,a,a.pendingProps.children,l),Id(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Je&&((p=u=Ot)&&(u=oD(u,a.type,a.pendingProps,fs),u!==null?(a.stateNode=u,Vn=a,Ot=Fi(u.firstChild),fs=!1,p=!0):p=!1),p||Ka(a)),gt(a),p=a.type,v=a.pendingProps,T=s!==null?s.memoizedProps:null,u=v.children,zg(p,v)?u=null:T!==null&&zg(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=Fp(s,a,S4,null,null,l),mu._currentValue=p),Id(s,a),mn(s,a,u,l),a.child;case 6:return s===null&&Je&&((s=l=Ot)&&(l=lD(l,a.pendingProps,fs),l!==null?(a.stateNode=l,Vn=a,Ot=null,s=!0):s=!1),s||Ka(a)),null;case 13:return iw(s,a,l);case 4:return Re(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=al(a,null,u,l):mn(s,a,u,l),a.child;case 11:return Wb(s,a,a.type,a.pendingProps,l);case 7:return mn(s,a,a.pendingProps,l),a.child;case 8:return mn(s,a,a.pendingProps.children,l),a.child;case 12:return mn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Rr(a,a.type,u.value),mn(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Xa(a),p=En(p),u=u(p),a.flags|=1,mn(s,a,u,l),a.child;case 14:return Xb(s,a,a.type,a.pendingProps,l);case 15:return Qb(s,a,a.type,a.pendingProps,l);case 19:return rw(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Nd(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=qs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Zb(s,a,l);case 24:return Xa(a),u=En(en),s===null?(p=Op(),p===null&&(p=vt,v=Np(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),a.memoizedState={parent:u,cache:p},Pp(a),Rr(a,en,p)):((s.lanes&l)!==0&&(Mp(s,a),$c(a,null,null,l),Gc()),p=s.memoizedState,v=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Rr(a,en,u)):(u=v.cache,Rr(a,en,u),u!==p.cache&&Ip(a,[en],l,!0))),mn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Zs(s){s.flags|=4}function ow(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pT(a)){if(a=Ti.current,a!==null&&((We&4194048)===We?ms!==null:(We&62914560)!==We&&(We&536870912)===0||a!==ms))throw Hc=kp,q_;s.flags|=8192}}function Dd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?gc():536870912,s.lanes|=a,ul|=a)}function Jc(s,a){if(!Je)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function It(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function P4(s,a,l){var u=a.pendingProps;switch(Sp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ks(en),pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(jc(a)?Zs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,U_())),It(a),null;case 26:return l=a.memoizedState,s===null?(Zs(a),l!==null?(It(a),ow(a,l)):(It(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Zs(a),It(a),ow(a,l)):(It(a),a.flags&=-16777217):(s.memoizedProps!==u&&Zs(a),It(a),a.flags&=-16777217),null;case 27:ft(a),l=xe.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Zs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}s=ue.current,jc(a)?V_(a):(s=oT(p,u,l),a.stateNode=s,Zs(a))}return It(a),null;case 5:if(ft(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Zs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return It(a),null}if(s=ue.current,jc(a))V_(a);else{switch(p=qd(xe.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[Qt]=a,s[qt]=u;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;e:switch(gn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Zs(a)}}return It(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Zs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=xe.current,jc(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=Vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Qt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||eT(s.nodeValue,l)),s||Ka(a)}else s=qd(s).createTextNode(u),s[Qt]=a,a.stateNode=s}return It(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=jc(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Qt]=a}else Vc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),p=!1}else p=U_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Xs(a),a):(Xs(a),null)}if(Xs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Dd(a,a.updateQueue),It(a),null;case 4:return pt(),s===null&&Vg(a.stateNode.containerInfo),It(a),null;case 10:return Ks(a.type),It(a),null;case 19:if(ce(tn),p=a.memoizedState,p===null)return It(a),null;if(u=(a.flags&128)!==0,v=p.rendering,v===null)if(u)Jc(p,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(v=Ad(s),v!==null){for(a.flags|=128,Jc(p,!1),s=v.updateQueue,a.updateQueue=s,Dd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)M_(l,s),l=l.sibling;return le(tn,tn.current&1|2),a.child}s=s.sibling}p.tail!==null&&wn()>Pd&&(a.flags|=128,u=!0,Jc(p,!1),a.lanes=4194304)}else{if(!u)if(s=Ad(v),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Dd(a,s),Jc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Je)return It(a),null}else 2*wn()-p.renderingStartTime>Pd&&l!==536870912&&(a.flags|=128,u=!0,Jc(p,!1),a.lanes=4194304);p.isBackwards?(v.sibling=a.child,a.child=v):(s=p.last,s!==null?s.sibling=v:a.child=v,p.last=v)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=wn(),a.sibling=null,s=tn.current,le(tn,u?s&1|2:s&1),a):(It(a),null);case 22:case 23:return Xs(a),Up(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),l=a.updateQueue,l!==null&&Dd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ce(Qa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ks(en),It(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function M4(s,a){switch(Sp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ks(en),pt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ft(a),null;case 13:if(Xs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Vc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ce(tn),null;case 4:return pt(),null;case 10:return Ks(a.type),null;case 22:case 23:return Xs(a),Up(),s!==null&&ce(Qa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ks(en),null;case 25:return null;default:return null}}function lw(s,a){switch(Sp(a),a.tag){case 3:Ks(en),pt();break;case 26:case 27:case 5:ft(a);break;case 4:pt();break;case 13:Xs(a);break;case 19:ce(tn);break;case 10:Ks(a.type);break;case 22:case 23:Xs(a),Up(),s!==null&&ce(Qa);break;case 24:Ks(en)}}function eu(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var v=l.create,T=l.inst;u=v(),T.destroy=u}l=l.next}while(l!==p)}}catch(C){mt(a,a.return,C)}}function Pr(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&s)===s){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,p=a;var F=l,W=C;try{W()}catch(te){mt(p,F,te)}}}u=u.next}while(u!==v)}}catch(te){mt(a,a.return,te)}}function cw(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{X_(a,l)}catch(u){mt(s,s.return,u)}}}function uw(s,a,l){l.props=Ja(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){mt(s,a,u)}}function tu(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){mt(s,a,p)}}function ps(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){mt(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){mt(s,a,p)}else l.current=null}function hw(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){mt(s,s.return,p)}}function fg(s,a,l){try{var u=s.stateNode;nD(u,s.type,l,a),u[qt]=a}catch(p){mt(s,s.return,p)}}function dw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zr(s.type)||s.tag===4}function mg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Hd));else if(u!==4&&(u===27&&zr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(pg(s,a,l),s=s.sibling;s!==null;)pg(s,a,l),s=s.sibling}function Od(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&zr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Od(s,a,l),s=s.sibling;s!==null;)Od(s,a,l),s=s.sibling}function fw(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);gn(a,u,l),a[Qt]=s,a[qt]=l}catch(v){mt(s,s.return,v)}}var Js=!1,Bt=!1,gg=!1,mw=typeof WeakSet=="function"?WeakSet:Set,ln=null;function j4(s,a){if(s=s.containerInfo,Bg=Xd,s=S_(s),mp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,C=-1,F=-1,W=0,te=0,re=s,X=null;t:for(;;){for(var Q;re!==l||p!==0&&re.nodeType!==3||(C=T+p),re!==v||u!==0&&re.nodeType!==3||(F=T+u),re.nodeType===3&&(T+=re.nodeValue.length),(Q=re.firstChild)!==null;)X=re,re=Q;for(;;){if(re===s)break t;if(X===l&&++W===p&&(C=T),X===v&&++te===u&&(F=T),(Q=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=Q}l=C===-1||F===-1?null:{start:C,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:s,selectionRange:l},Xd=!1,ln=a;ln!==null;)if(a=ln,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,ln=s;else for(;ln!==null;){switch(a=ln,v=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=a,p=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var Ie=Ja(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Ie,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(Se){mt(l,l.return,Se)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,ln=s;break}ln=a.return}}function pw(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Mr(s,l),u&4&&eu(5,l);break;case 1:if(Mr(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){mt(l,l.return,T)}else{var p=Ja(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){mt(l,l.return,T)}}u&64&&cw(l),u&512&&tu(l,l.return);break;case 3:if(Mr(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{X_(s,a)}catch(T){mt(l,l.return,T)}}break;case 27:a===null&&u&4&&fw(l);case 26:case 5:Mr(s,l),a===null&&u&4&&hw(l),u&512&&tu(l,l.return);break;case 12:Mr(s,l);break;case 13:Mr(s,l),u&4&&vw(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=G4.bind(null,l),cD(s,l))));break;case 22:if(u=l.memoizedState!==null||Js,!u){a=a!==null&&a.memoizedState!==null||Bt,p=Js;var v=Bt;Js=u,(Bt=a)&&!v?jr(s,l,(l.subtreeFlags&8772)!==0):Mr(s,l),Js=p,Bt=v}break;case 30:break;default:Mr(s,l)}}function gw(s){var a=s.alternate;a!==null&&(s.alternate=null,gw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Tr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,Hn=!1;function er(s,a,l){for(l=l.child;l!==null;)yw(s,a,l),l=l.sibling}function yw(s,a,l){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(lt,l)}catch{}switch(l.tag){case 26:Bt||ps(l,a),er(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||ps(l,a);var u=Tt,p=Hn;zr(l.type)&&(Tt=l.stateNode,Hn=!1),er(s,a,l),uu(l.stateNode),Tt=u,Hn=p;break;case 5:Bt||ps(l,a);case 6:if(u=Tt,p=Hn,Tt=null,er(s,a,l),Tt=u,Hn=p,Tt!==null)if(Hn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(v){mt(l,a,v)}else try{Tt.removeChild(l.stateNode)}catch(v){mt(l,a,v)}break;case 18:Tt!==null&&(Hn?(s=Tt,rT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),vu(s)):rT(Tt,l.stateNode));break;case 4:u=Tt,p=Hn,Tt=l.stateNode.containerInfo,Hn=!0,er(s,a,l),Tt=u,Hn=p;break;case 0:case 11:case 14:case 15:Bt||Pr(2,l,a),Bt||Pr(4,l,a),er(s,a,l);break;case 1:Bt||(ps(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&uw(l,a,u)),er(s,a,l);break;case 21:er(s,a,l);break;case 22:Bt=(u=Bt)||l.memoizedState!==null,er(s,a,l),Bt=u;break;default:er(s,a,l)}}function vw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vu(s)}catch(l){mt(a,a.return,l)}}function V4(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new mw),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new mw),a;default:throw Error(i(435,s.tag))}}function yg(s,a){var l=V4(s);a.forEach(function(u){var p=$4.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function si(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],v=s,T=a,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(zr(C.type)){Tt=C.stateNode,Hn=!1;break e}break;case 5:Tt=C.stateNode,Hn=!1;break e;case 3:case 4:Tt=C.stateNode.containerInfo,Hn=!0;break e}C=C.return}if(Tt===null)throw Error(i(160));yw(v,T,p),Tt=null,Hn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xw(a,s),a=a.sibling}var Bi=null;function xw(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:si(a,s),ri(s),u&4&&(Pr(3,s,s.return),eu(3,s),Pr(5,s,s.return));break;case 1:si(a,s),ri(s),u&512&&(Bt||l===null||ps(l,l.return)),u&64&&Js&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Bi;if(si(a,s),ri(s),u&512&&(Bt||l===null||ps(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ca]||v[Qt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),gn(v,u,l),v[Qt]=s,Lt(v),u=v;break e;case"link":var T=fT("link","href",p).get(u+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(v=T[C],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}v=p.createElement(u),gn(v,u,l),p.head.appendChild(v);break;case"meta":if(T=fT("meta","content",p).get(u+(l.content||""))){for(C=0;C<T.length;C++)if(v=T[C],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}v=p.createElement(u),gn(v,u,l),p.head.appendChild(v);break;default:throw Error(i(468,u))}v[Qt]=s,Lt(v),u=v}s.stateNode=u}else mT(p,s.type,s.stateNode);else s.stateNode=dT(p,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?mT(p,s.type,s.stateNode):dT(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&fg(s,s.memoizedProps,l.memoizedProps)}break;case 27:si(a,s),ri(s),u&512&&(Bt||l===null||ps(l,l.return)),l!==null&&u&4&&fg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(si(a,s),ri(s),u&512&&(Bt||l===null||ps(l,l.return)),s.flags&32){p=s.stateNode;try{pi(p,"")}catch(Q){mt(s,s.return,Q)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,fg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(gg=!0);break;case 6:if(si(a,s),ri(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Q){mt(s,s.return,Q)}}break;case 3:if(Yd=null,p=Bi,Bi=Gd(a.containerInfo),si(a,s),Bi=p,ri(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vu(a.containerInfo)}catch(Q){mt(s,s.return,Q)}gg&&(gg=!1,_w(s));break;case 4:u=Bi,Bi=Gd(s.stateNode.containerInfo),si(a,s),ri(s),Bi=u;break;case 12:si(a,s),ri(s);break;case 13:si(a,s),ri(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tg=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yg(s,u)));break;case 22:p=s.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,W=Js,te=Bt;if(Js=W||p,Bt=te||F,si(a,s),Bt=te,Js=W,ri(s),u&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||F||Js||Bt||eo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(v=F.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=F.stateNode;var re=F.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){mt(F,F.return,Q)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Q){mt(F,F.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yg(s,l))));break;case 19:si(a,s),ri(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,yg(s,u)));break;case 30:break;case 21:break;default:si(a,s),ri(s)}}function ri(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(dw(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,v=mg(s);Od(s,v,p);break;case 5:var T=l.stateNode;l.flags&32&&(pi(T,""),l.flags&=-33);var C=mg(s);Od(s,C,T);break;case 3:case 4:var F=l.stateNode.containerInfo,W=mg(s);pg(s,W,F);break;default:throw Error(i(161))}}catch(te){mt(s,s.return,te)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _w(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;_w(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Mr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pw(s,a.alternate,a),a=a.sibling}function eo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Pr(4,a,a.return),eo(a);break;case 1:ps(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&uw(a,a.return,l),eo(a);break;case 27:uu(a.stateNode);case 26:case 5:ps(a,a.return),eo(a);break;case 22:a.memoizedState===null&&eo(a);break;case 30:eo(a);break;default:eo(a)}s=s.sibling}}function jr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,v=a,T=v.flags;switch(v.tag){case 0:case 11:case 15:jr(p,v,l),eu(4,v);break;case 1:if(jr(p,v,l),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){mt(u,u.return,W)}if(u=v,p=u.updateQueue,p!==null){var C=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)W_(F[p],C)}catch(W){mt(u,u.return,W)}}l&&T&64&&cw(v),tu(v,v.return);break;case 27:fw(v);case 26:case 5:jr(p,v,l),l&&u===null&&T&4&&hw(v),tu(v,v.return);break;case 12:jr(p,v,l);break;case 13:jr(p,v,l),l&&T&4&&vw(p,v);break;case 22:v.memoizedState===null&&jr(p,v,l),tu(v,v.return);break;case 30:break;default:jr(p,v,l)}a=a.sibling}}function vg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bc(l))}function xg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bc(s))}function gs(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bw(s,a,l,u),a=a.sibling}function bw(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:gs(s,a,l,u),p&2048&&eu(9,a);break;case 1:gs(s,a,l,u);break;case 3:gs(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bc(s)));break;case 12:if(p&2048){gs(s,a,l,u),s=a.stateNode;try{var v=a.memoizedProps,T=v.id,C=v.onPostCommit;typeof C=="function"&&C(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){mt(a,a.return,F)}}else gs(s,a,l,u);break;case 13:gs(s,a,l,u);break;case 23:break;case 22:v=a.stateNode,T=a.alternate,a.memoizedState!==null?v._visibility&2?gs(s,a,l,u):nu(s,a):v._visibility&2?gs(s,a,l,u):(v._visibility|=2,ol(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&vg(T,a);break;case 24:gs(s,a,l,u),p&2048&&xg(a.alternate,a);break;default:gs(s,a,l,u)}}function ol(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=s,T=a,C=l,F=u,W=T.flags;switch(T.tag){case 0:case 11:case 15:ol(v,T,C,F,p),eu(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?ol(v,T,C,F,p):nu(v,T):(te._visibility|=2,ol(v,T,C,F,p)),p&&W&2048&&vg(T.alternate,T);break;case 24:ol(v,T,C,F,p),p&&W&2048&&xg(T.alternate,T);break;default:ol(v,T,C,F,p)}a=a.sibling}}function nu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:nu(l,u),p&2048&&vg(u.alternate,u);break;case 24:nu(l,u),p&2048&&xg(u.alternate,u);break;default:nu(l,u)}a=a.sibling}}var iu=8192;function ll(s){if(s.subtreeFlags&iu)for(s=s.child;s!==null;)ww(s),s=s.sibling}function ww(s){switch(s.tag){case 26:ll(s),s.flags&iu&&s.memoizedState!==null&&wD(Bi,s.memoizedState,s.memoizedProps);break;case 5:ll(s);break;case 3:case 4:var a=Bi;Bi=Gd(s.stateNode.containerInfo),ll(s),Bi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=iu,iu=16777216,ll(s),iu=a):ll(s));break;default:ll(s)}}function Tw(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function su(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ln=u,Sw(u,s)}Tw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ew(s),s=s.sibling}function Ew(s){switch(s.tag){case 0:case 11:case 15:su(s),s.flags&2048&&Pr(9,s,s.return);break;case 3:su(s);break;case 12:su(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,kd(s)):su(s);break;default:su(s)}}function kd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ln=u,Sw(u,s)}Tw(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Pr(8,a,a.return),kd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,kd(a));break;default:kd(a)}s=s.sibling}}function Sw(s,a){for(;ln!==null;){var l=ln;switch(l.tag){case 0:case 11:case 15:Pr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ln=u;else e:for(l=s;ln!==null;){u=ln;var p=u.sibling,v=u.return;if(gw(u),u===l){ln=null;break e}if(p!==null){p.return=v,ln=p;break e}ln=v}}}var L4={getCacheForType:function(s){var a=En(en),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},U4=typeof WeakMap=="function"?WeakMap:Map,st=0,vt=null,Fe=null,We=0,rt=0,ai=null,Vr=!1,cl=!1,_g=!1,tr=0,kt=0,Lr=0,to=0,bg=0,Ei=0,ul=0,ru=null,qn=null,wg=!1,Tg=0,Pd=1/0,Md=null,Ur=null,pn=0,Br=null,hl=null,dl=0,Eg=0,Sg=null,Aw=null,au=0,Ag=null;function oi(){if((st&2)!==0&&We!==0)return We&-We;if(Z.T!==null){var s=Jo;return s!==0?s:kg()}return br()}function Rw(){Ei===0&&(Ei=(We&536870912)===0||Je?pc():536870912);var s=Ti.current;return s!==null&&(s.flags|=32),Ei}function li(s,a,l){(s===vt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(fl(s,0),Fr(s,We,Ei,!1)),ks(s,l),((st&2)===0||s!==vt)&&(s===vt&&((st&2)===0&&(to|=l),kt===4&&Fr(s,We,Ei,!1)),ys(s))}function Cw(s,a,l){if((st&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Ra(s,a),p=u?z4(s,a):Ig(s,a,!0),v=u;do{if(p===0){cl&&!u&&Fr(s,a,0,!1);break}else{if(l=s.current.alternate,v&&!B4(l)){p=Ig(s,a,!1),v=!1;continue}if(p===2){if(v=a,s.errorRecoveryDisabledLanes&v)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var C=s;p=ru;var F=C.current.memoizedState.isDehydrated;if(F&&(fl(C,T).flags|=256),T=Ig(C,T,!1),T!==2){if(_g&&!F){C.errorRecoveryDisabledLanes|=v,to|=v,p=4;break e}v=qn,qn=p,v!==null&&(qn===null?qn=v:qn.push.apply(qn,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){fl(s,0),Fr(s,a,0,!0);break}e:{switch(u=s,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Fr(u,a,Ei,!Vr);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Tg+300-wn(),10<p)){if(Fr(u,a,Ei,!Vr),No(u,0,!0)!==0)break e;u.timeoutHandle=iT(Iw.bind(null,u,l,qn,Md,wg,a,Ei,to,ul,Vr,v,2,-0,0),p);break e}Iw(u,l,qn,Md,wg,a,Ei,to,ul,Vr,v,0,-0,0)}}break}while(!0);ys(s)}function Iw(s,a,l,u,p,v,T,C,F,W,te,re,X,Q){if(s.timeoutHandle=-1,re=a.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:bD},ww(a),re=TD(),re!==null)){s.cancelPendingCommit=re(jw.bind(null,s,a,v,l,u,p,T,C,F,te,1,X,Q)),Fr(s,v,T,!W);return}jw(s,a,v,l,u,p,T,C,F)}function B4(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],v=p.getSnapshot;p=p.value;try{if(!ni(v(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fr(s,a,l,u){a&=~bg,a&=~to,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var v=31-Tn(p),T=1<<v;u[v]=-1,p&=~T}l!==0&&ns(s,l,a)}function jd(){return(st&6)===0?(ou(0),!1):!0}function Rg(){if(Fe!==null){if(rt===0)var s=Fe.return;else s=Fe,Ys=Wa=null,qp(s),rl=null,Qc=0,s=Fe;for(;s!==null;)lw(s.alternate,s),s=s.return;Fe=null}}function fl(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,sD(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Rg(),vt=s,Fe=l=qs(s.current,null),We=a,rt=0,ai=null,Vr=!1,cl=Ra(s,a),_g=!1,ul=Ei=bg=to=Lr=kt=0,qn=ru=null,wg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-Tn(u),v=1<<p;a|=s[p],u&=~v}return tr=a,sd(),l}function Nw(s,a){Ve=null,Z.H=Td,a===zc||a===fd?(a=Y_(),rt=3):a===q_?(a=Y_(),rt=4):rt=a===Kb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ai=a,Fe===null&&(kt=1,Cd(s,xi(a,s.current)))}function Dw(){var s=Z.H;return Z.H=Td,s===null?Td:s}function Ow(){var s=Z.A;return Z.A=L4,s}function Cg(){kt=4,Vr||(We&4194048)!==We&&Ti.current!==null||(cl=!0),(Lr&134217727)===0&&(to&134217727)===0||vt===null||Fr(vt,We,Ei,!1)}function Ig(s,a,l){var u=st;st|=2;var p=Dw(),v=Ow();(vt!==s||We!==a)&&(Md=null,fl(s,a)),a=!1;var T=kt;e:do try{if(rt!==0&&Fe!==null){var C=Fe,F=ai;switch(rt){case 8:Rg(),T=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(a=!0);var W=rt;if(rt=0,ai=null,ml(s,C,F,W),l&&cl){T=0;break e}break;default:W=rt,rt=0,ai=null,ml(s,C,F,W)}}F4(),T=kt;break}catch(te){Nw(s,te)}while(!0);return a&&s.shellSuspendCounter++,Ys=Wa=null,st=u,Z.H=p,Z.A=v,Fe===null&&(vt=null,We=0,sd()),T}function F4(){for(;Fe!==null;)kw(Fe)}function z4(s,a){var l=st;st|=2;var u=Dw(),p=Ow();vt!==s||We!==a?(Md=null,Pd=wn()+500,fl(s,a)):cl=Ra(s,a);e:do try{if(rt!==0&&Fe!==null){a=Fe;var v=ai;t:switch(rt){case 1:rt=0,ai=null,ml(s,a,v,1);break;case 2:case 9:if(G_(v)){rt=0,ai=null,Pw(a);break}a=function(){rt!==2&&rt!==9||vt!==s||(rt=7),ys(s)},v.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:G_(v)?(rt=0,ai=null,Pw(a)):(rt=0,ai=null,ml(s,a,v,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var C=Fe;if(!T||pT(T)){rt=0,ai=null;var F=C.sibling;if(F!==null)Fe=F;else{var W=C.return;W!==null?(Fe=W,Vd(W)):Fe=null}break t}}rt=0,ai=null,ml(s,a,v,5);break;case 6:rt=0,ai=null,ml(s,a,v,6);break;case 8:Rg(),kt=6;break e;default:throw Error(i(462))}}H4();break}catch(te){Nw(s,te)}while(!0);return Ys=Wa=null,Z.H=u,Z.A=p,st=l,Fe!==null?0:(vt=null,We=0,sd(),kt)}function H4(){for(;Fe!==null&&!Fn();)kw(Fe)}function kw(s){var a=aw(s.alternate,s,tr);s.memoizedProps=s.pendingProps,a===null?Vd(s):Fe=a}function Pw(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=ew(l,a,a.pendingProps,a.type,void 0,We);break;case 11:a=ew(l,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:qp(a);default:lw(l,a),a=Fe=M_(a,tr),a=aw(l,a,tr)}s.memoizedProps=s.pendingProps,a===null?Vd(s):Fe=a}function ml(s,a,l,u){Ys=Wa=null,qp(a),rl=null,Qc=0;var p=a.return;try{if(O4(s,p,a,l,We)){kt=1,Cd(s,xi(l,s.current)),Fe=null;return}}catch(v){if(p!==null)throw Fe=p,v;kt=1,Cd(s,xi(l,s.current)),Fe=null;return}a.flags&32768?(Je||u===1?s=!0:cl||(We&536870912)!==0?s=!1:(Vr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Ti.current,u!==null&&u.tag===13&&(u.flags|=16384))),Mw(a,s)):Vd(a)}function Vd(s){var a=s;do{if((a.flags&32768)!==0){Mw(a,Vr);return}s=a.return;var l=P4(a.alternate,a,tr);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);kt===0&&(kt=5)}function Mw(s,a){do{var l=M4(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);kt=6,Fe=null}function jw(s,a,l,u,p,v,T,C,F){s.cancelPendingCommit=null;do Ld();while(pn!==0);if((st&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=xp,yc(s,l,v,T,C,F),s===vt&&(Fe=vt=null,We=0),hl=a,Br=s,dl=l,Eg=v,Sg=p,Aw=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Y4(Ee,function(){return Fw(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=oe.p,oe.p=2,T=st,st|=4;try{j4(s,a,l)}finally{st=T,oe.p=p,Z.T=u}}pn=1,Vw(),Lw(),Uw()}}function Vw(){if(pn===1){pn=0;var s=Br,a=hl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=oe.p;oe.p=2;var p=st;st|=4;try{xw(a,s);var v=Fg,T=S_(s.containerInfo),C=v.focusedElem,F=v.selectionRange;if(T!==C&&C&&C.ownerDocument&&E_(C.ownerDocument.documentElement,C)){if(F!==null&&mp(C)){var W=F.start,te=F.end;if(te===void 0&&(te=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(te,C.value.length);else{var re=C.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Ie=C.textContent.length,Se=Math.min(F.start,Ie),dt=F.end===void 0?Se:Math.min(F.end,Ie);!Q.extend&&Se>dt&&(T=dt,dt=Se,Se=T);var G=T_(C,Se),H=T_(C,dt);if(G&&H&&(Q.rangeCount!==1||Q.anchorNode!==G.node||Q.anchorOffset!==G.offset||Q.focusNode!==H.node||Q.focusOffset!==H.offset)){var K=re.createRange();K.setStart(G.node,G.offset),Q.removeAllRanges(),Se>dt?(Q.addRange(K),Q.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),Q.addRange(K))}}}}for(re=[],Q=C;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<re.length;C++){var se=re[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Xd=!!Bg,Fg=Bg=null}finally{st=p,oe.p=u,Z.T=l}}s.current=a,pn=2}}function Lw(){if(pn===2){pn=0;var s=Br,a=hl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=oe.p;oe.p=2;var p=st;st|=4;try{pw(s,a.alternate,a)}finally{st=p,oe.p=u,Z.T=l}}pn=3}}function Uw(){if(pn===4||pn===3){pn=0,Ds();var s=Br,a=hl,l=dl,u=Aw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,hl=Br=null,Bw(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ur=null),Do(l),a=a.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(lt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Z.T,p=oe.p,oe.p=2,Z.T=null;try{for(var v=s.onRecoverableError,T=0;T<u.length;T++){var C=u[T];v(C.value,{componentStack:C.stack})}}finally{Z.T=a,oe.p=p}}(dl&3)!==0&&Ld(),ys(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Ag?au++:(au=0,Ag=s):au=0,ou(0)}}function Bw(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Bc(a)))}function Ld(s){return Vw(),Lw(),Uw(),Fw()}function Fw(){if(pn!==5)return!1;var s=Br,a=Eg;Eg=0;var l=Do(dl),u=Z.T,p=oe.p;try{oe.p=32>l?32:l,Z.T=null,l=Sg,Sg=null;var v=Br,T=dl;if(pn=0,hl=Br=null,dl=0,(st&6)!==0)throw Error(i(331));var C=st;if(st|=4,Ew(v.current),bw(v,v.current,T,l),st=C,ou(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(lt,v)}catch{}return!0}finally{oe.p=p,Z.T=u,Bw(s,a)}}function zw(s,a,l){a=xi(l,a),a=sg(s.stateNode,a,2),s=Nr(s,a,2),s!==null&&(ks(s,2),ys(s))}function mt(s,a,l){if(s.tag===3)zw(s,s,l);else for(;a!==null;){if(a.tag===3){zw(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ur===null||!Ur.has(u))){s=xi(l,s),l=$b(2),u=Nr(a,l,2),u!==null&&(Yb(l,u,a,s),ks(u,2),ys(u));break}}a=a.return}}function Ng(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new U4;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(_g=!0,p.add(l),s=q4.bind(null,s,a,l),a.then(s,s))}function q4(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(We&l)===l&&(kt===4||kt===3&&(We&62914560)===We&&300>wn()-Tg?(st&2)===0&&fl(s,0):bg|=l,ul===We&&(ul=0)),ys(s)}function Hw(s,a){a===0&&(a=gc()),s=Wo(s,a),s!==null&&(ks(s,a),ys(s))}function G4(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Hw(s,l)}function $4(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Hw(s,l)}function Y4(s,a){return De(s,a)}var Ud=null,pl=null,Dg=!1,Bd=!1,Og=!1,no=0;function ys(s){s!==pl&&s.next===null&&(pl===null?Ud=pl=s:pl=pl.next=s),Bd=!0,Dg||(Dg=!0,W4())}function ou(s,a){if(!Og&&Bd){Og=!0;do for(var l=!1,u=Ud;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var T=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-Tn(42|s)+1)-1,v&=p&~(T&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Yw(u,v))}else v=We,v=No(u,u===vt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ra(u,v)||(l=!0,Yw(u,v));u=u.next}while(l);Og=!1}}function K4(){qw()}function qw(){Bd=Dg=!1;var s=0;no!==0&&(iD()&&(s=no),no=0);for(var a=wn(),l=null,u=Ud;u!==null;){var p=u.next,v=Gw(u,a);v===0?(u.next=null,l===null?Ud=p:l.next=p,p===null&&(pl=l)):(l=u,(s!==0||(v&3)!==0)&&(Bd=!0)),u=p}ou(s)}function Gw(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var T=31-Tn(v),C=1<<T,F=p[T];F===-1?((C&l)===0||(C&u)!==0)&&(p[T]=mc(C,a)):F<=a&&(s.expiredLanes|=C),v&=~C}if(a=vt,l=We,l=No(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Ct(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ra(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Ct(u),Do(l)){case 2:case 8:l=ts;break;case 32:l=Ee;break;case 268435456:l=yt;break;default:l=Ee}return u=$w.bind(null,s),l=De(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Ct(u),s.callbackPriority=2,s.callbackNode=null,2}function $w(s,a){if(pn!==0&&pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ld()&&s.callbackNode!==l)return null;var u=We;return u=No(s,s===vt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Cw(s,u,a),Gw(s,wn()),s.callbackNode!=null&&s.callbackNode===l?$w.bind(null,s):null)}function Yw(s,a){if(Ld())return null;Cw(s,a,!0)}function W4(){rD(function(){(st&6)!==0?De(es,K4):qw()})}function kg(){return no===0&&(no=pc()),no}function Kw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Vo(""+s)}function Ww(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function X4(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var v=Kw((p[qt]||null).action),T=u.submitter;T&&(a=(a=T[qt]||null)?Kw(a.formAction):T.getAttribute("formAction"),a!==null&&(v=a,T=null));var C=new Lo("action","action",null,u,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(no!==0){var F=T?Ww(p,T):new FormData(p);Jp(l,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(C.preventDefault(),F=T?Ww(p,T):new FormData(p),Jp(l,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var Pg=0;Pg<vp.length;Pg++){var Mg=vp[Pg],Q4=Mg.toLowerCase(),Z4=Mg[0].toUpperCase()+Mg.slice(1);Ui(Q4,"on"+Z4)}Ui(C_,"onAnimationEnd"),Ui(I_,"onAnimationIteration"),Ui(N_,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(p4,"onTransitionRun"),Ui(g4,"onTransitionStart"),Ui(y4,"onTransitionCancel"),Ui(D_,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function Xw(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var v=void 0;if(a)for(var T=u.length-1;0<=T;T--){var C=u[T],F=C.instance,W=C.currentTarget;if(C=C.listener,F!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=W;try{v(p)}catch(te){Rd(te)}p.currentTarget=null,v=F}else for(T=0;T<u.length;T++){if(C=u[T],F=C.instance,W=C.currentTarget,C=C.listener,F!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=W;try{v(p)}catch(te){Rd(te)}p.currentTarget=null,v=F}}}}function ze(s,a){var l=a[xc];l===void 0&&(l=a[xc]=new Set);var u=s+"__bubble";l.has(u)||(Qw(a,s,2,!1),l.add(u))}function jg(s,a,l){var u=0;a&&(u|=4),Qw(l,s,u,a)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Vg(s){if(!s[Fd]){s[Fd]=!0,_c.forEach(function(l){l!=="selectionchange"&&(J4.has(l)||jg(l,!1,s),jg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Fd]||(a[Fd]=!0,jg("selectionchange",!1,a))}}function Qw(s,a,l,u){switch(bT(a)){case 2:var p=AD;break;case 8:p=RD;break;default:p=Qg}l=p.bind(null,a,l,s),p=void 0,!yi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Lg(s,a,l,u,p){var v=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===p)break;if(T===4)for(T=u.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;C!==null;){if(T=Ps(C),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){u=v=T;continue e}C=C.parentNode}}u=u.return}Hh(function(){var W=v,te=gi(l),re=[];e:{var X=O_.get(s);if(X!==void 0){var Q=Lo,Ie=s;switch(s){case"keypress":if(ls(l)===0)break e;case"keydown":case"keyup":Q=qo;break;case"focusin":Ie="focus",Q=Fo;break;case"focusout":Ie="blur",Q=Fo;break;case"beforeblur":case"afterblur":Q=Fo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Qh;break;case C_:case I_:case N_:Q=zo;break;case D_:Q=Jh;break;case"scroll":case"scrollend":Q=qh;break;case"wheel":Q=Go;break;case"copy":case"cut":case"paste":Q=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Oc;break;case"toggle":case"beforetoggle":Q=td}var Se=(a&4)!==0,dt=!Se&&(s==="scroll"||s==="scrollend"),G=Se?X!==null?X+"Capture":null:X;Se=[];for(var H=W,K;H!==null;){var se=H;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=Ma(H,G),se!=null&&Se.push(cu(H,se,K))),dt)break;H=H.return}0<Se.length&&(X=new Q(X,Ie,null,l,te),re.push({event:X,listeners:Se}))}}if((a&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",X&&l!==Ls&&(Ie=l.relatedTarget||l.fromElement)&&(Ps(Ie)||Ie[mi]))break e;if((Q||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Ie=l.relatedTarget||l.toElement,Q=W,Ie=Ie?Ps(Ie):null,Ie!==null&&(dt=o(Ie),Se=Ie.tag,Ie!==dt||Se!==5&&Se!==27&&Se!==6)&&(Ie=null)):(Q=null,Ie=W),Q!==Ie)){if(Se=vi,se="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Se=Oc,se="onPointerLeave",G="onPointerEnter",H="pointer"),dt=Q==null?X:ss(Q),K=Ie==null?X:ss(Ie),X=new Se(se,H+"leave",Q,l,te),X.target=dt,X.relatedTarget=K,se=null,Ps(te)===W&&(Se=new Se(G,H+"enter",Ie,l,te),Se.target=K,Se.relatedTarget=dt,se=Se),dt=se,Q&&Ie)t:{for(Se=Q,G=Ie,H=0,K=Se;K;K=gl(K))H++;for(K=0,se=G;se;se=gl(se))K++;for(;0<H-K;)Se=gl(Se),H--;for(;0<K-H;)G=gl(G),K--;for(;H--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=gl(Se),G=gl(G)}Se=null}else Se=null;Q!==null&&Zw(re,X,Q,Se,!1),Ie!==null&&dt!==null&&Zw(re,dt,Ie,Se,!0)}}e:{if(X=W?ss(W):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var ye=y_;else if(Jt(X))if(v_)ye=d4;else{ye=u4;var Ue=c4}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Sc(W.elementType)&&(ye=y_):ye=h4;if(ye&&(ye=ye(s,W))){Hs(re,ye,l,te);break e}Ue&&Ue(s,X,W),s==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Sr(X,"number",X.value)}switch(Ue=W?ss(W):window,s){case"focusin":(Jt(Ue)||Ue.contentEditable==="true")&&($o=Ue,pp=W,Mc=null);break;case"focusout":Mc=pp=$o=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,A_(re,l,te);break;case"selectionchange":if(m4)break;case"keydown":case"keyup":A_(re,l,te)}var _e;if(hs)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ye?J(s,l)&&(Ae="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(w&&l.locale!=="ko"&&(Ye||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ye&&(_e=Rc()):(os=te,Ar="value"in os?os.value:os.textContent,Ye=!0)),Ue=zd(W,Ae),0<Ue.length&&(Ae=new Nc(Ae,s,null,l,te),re.push({event:Ae,listeners:Ue}),_e?Ae.data=_e:(_e=de(l),_e!==null&&(Ae.data=_e)))),(_e=b?Zt(s,l):Ke(s,l))&&(Ae=zd(W,"onBeforeInput"),0<Ae.length&&(Ue=new Nc("onBeforeInput","beforeinput",null,l,te),re.push({event:Ue,listeners:Ae}),Ue.data=_e)),X4(re,s,W,l,te)}Xw(re,a)})}function cu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function zd(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ma(s,l),p!=null&&u.unshift(cu(s,p,v)),p=Ma(s,a),p!=null&&u.push(cu(s,p,v))),s.tag===3)return u;s=s.return}return[]}function gl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zw(s,a,l,u,p){for(var v=a._reactName,T=[];l!==null&&l!==u;){var C=l,F=C.alternate,W=C.stateNode;if(C=C.tag,F!==null&&F===u)break;C!==5&&C!==26&&C!==27||W===null||(F=W,p?(W=Ma(l,v),W!=null&&T.unshift(cu(l,W,F))):p||(W=Ma(l,v),W!=null&&T.push(cu(l,W,F)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var eD=/\r\n?/g,tD=/\u0000|\uFFFD/g;function Jw(s){return(typeof s=="string"?s:""+s).replace(eD,`
`).replace(tD,"")}function eT(s,a){return a=Jw(a),Jw(s)===a}function Hd(){}function ht(s,a,l,u,p,v){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pi(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pi(s,""+u);break;case"className":rs(s,"class",u);break;case"tabIndex":rs(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(s,l,u);break;case"style":Ec(s,u,v);break;case"data":if(a!=="object"){rs(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Vo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&ht(s,a,"name",p.name,p,null),ht(s,a,"formEncType",p.formEncType,p,null),ht(s,a,"formMethod",p.formMethod,p,null),ht(s,a,"formTarget",p.formTarget,p,null)):(ht(s,a,"encType",p.encType,p,null),ht(s,a,"method",p.method,p,null),ht(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Vo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Hd);break;case"onScroll":u!=null&&ze("scroll",s);break;case"onScrollEnd":u!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Vo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Er(s,"popover",u);break;case"xlinkActuate":dn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Er(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=lp.get(l)||l,Er(s,l,u))}}function Ug(s,a,l,u,p,v){switch(l){case"style":Ec(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?pi(s,u):(typeof u=="number"||typeof u=="bigint")&&pi(s,""+u);break;case"onScroll":u!=null&&ze("scroll",s);break;case"onScrollEnd":u!=null&&ze("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),v=s[qt]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(a,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Er(s,l,u)}}}function gn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var u=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var T=l[v];if(T!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ht(s,a,v,T,l,null)}}p&&ht(s,a,"srcSet",l.srcSet,l,null),u&&ht(s,a,"src",l.src,l,null);return;case"input":ze("invalid",s);var C=v=T=p=null,F=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":p=te;break;case"type":T=te;break;case"checked":F=te;break;case"defaultChecked":W=te;break;case"value":v=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:ht(s,a,u,te,l,null)}}Oa(s,v,C,F,W,T,p,!1),jo(s);return;case"select":ze("invalid",s),u=T=v=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":v=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:ht(s,a,p,C,l,null)}a=v,l=T,s.multiple=!!u,a!=null?Vs(s,!!u,a,!1):l!=null&&Vs(s,!!u,l,!0);return;case"textarea":ze("invalid",s),v=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":p=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ht(s,a,T,C,l,null)}ka(s,u,p,v),jo(s);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,a,F,u,l,null)}return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(u=0;u<lu.length;u++)ze(lu[u],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ht(s,a,W,u,l,null)}return;default:if(Sc(a)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&Ug(s,a,te,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&ht(s,a,C,u,l,null))}function nD(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,C=null,F=null,W=null,te=null;for(Q in l){var re=l[Q];if(l.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":F=re;default:u.hasOwnProperty(Q)||ht(s,a,Q,null,u,re)}}for(var X in u){var Q=u[X];if(re=l[X],u.hasOwnProperty(X)&&(Q!=null||re!=null))switch(X){case"type":v=Q;break;case"name":p=Q;break;case"checked":W=Q;break;case"defaultChecked":te=Q;break;case"value":T=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==re&&ht(s,a,X,Q,u,re)}}ti(s,T,C,F,W,te,v,p);return;case"select":Q=T=C=X=null;for(v in l)if(F=l[v],l.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":Q=F;default:u.hasOwnProperty(v)||ht(s,a,v,null,u,F)}for(p in u)if(v=u[p],F=l[p],u.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":X=v;break;case"defaultValue":C=v;break;case"multiple":T=v;default:v!==F&&ht(s,a,p,v,u,F)}a=C,l=T,u=Q,X!=null?Vs(s,!!l,X,!1):!!u!=!!l&&(a!=null?Vs(s,!!l,a,!0):Vs(s,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ht(s,a,C,null,u,p)}for(T in u)if(p=u[T],v=l[T],u.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":X=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&ht(s,a,T,p,u,v)}ct(s,X,Q);return;case"option":for(var Ie in l)if(X=l[Ie],l.hasOwnProperty(Ie)&&X!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ht(s,a,Ie,null,u,X)}for(F in u)if(X=u[F],Q=l[F],u.hasOwnProperty(F)&&X!==Q&&(X!=null||Q!=null))switch(F){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ht(s,a,F,X,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)X=l[Se],l.hasOwnProperty(Se)&&X!=null&&!u.hasOwnProperty(Se)&&ht(s,a,Se,null,u,X);for(W in u)if(X=u[W],Q=l[W],u.hasOwnProperty(W)&&X!==Q&&(X!=null||Q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ht(s,a,W,X,u,Q)}return;default:if(Sc(a)){for(var dt in l)X=l[dt],l.hasOwnProperty(dt)&&X!==void 0&&!u.hasOwnProperty(dt)&&Ug(s,a,dt,void 0,u,X);for(te in u)X=u[te],Q=l[te],!u.hasOwnProperty(te)||X===Q||X===void 0&&Q===void 0||Ug(s,a,te,X,u,Q);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&ht(s,a,G,null,u,X);for(re in u)X=u[re],Q=l[re],!u.hasOwnProperty(re)||X===Q||X==null&&Q==null||ht(s,a,re,X,u,Q)}var Bg=null,Fg=null;function qd(s){return s.nodeType===9?s:s.ownerDocument}function tT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function zg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hg=null;function iD(){var s=window.event;return s&&s.type==="popstate"?s===Hg?!1:(Hg=s,!0):(Hg=null,!1)}var iT=typeof setTimeout=="function"?setTimeout:void 0,sD=typeof clearTimeout=="function"?clearTimeout:void 0,sT=typeof Promise=="function"?Promise:void 0,rD=typeof queueMicrotask=="function"?queueMicrotask:typeof sT<"u"?function(s){return sT.resolve(null).then(s).catch(aD)}:iT;function aD(s){setTimeout(function(){throw s})}function zr(s){return s==="head"}function rT(s,a){var l=a,u=0,p=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var T=s.ownerDocument;if(l&1&&uu(T.documentElement),l&2&&uu(T.body),l&4)for(l=T.head,uu(l),T=l.firstChild;T;){var C=T.nextSibling,F=T.nodeName;T[Ca]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=C}}if(p===0){s.removeChild(v),vu(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);vu(a)}function qg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Tr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function oD(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ca])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Fi(s.nextSibling),s===null)break}return null}function lD(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Fi(s.nextSibling),s===null))return null;return s}function Gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function cD(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Fi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var $g=null;function aT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function oT(s,a,l){switch(a=qd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function uu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Tr(s)}var Si=new Map,lT=new Set;function Gd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var nr=oe.d;oe.d={f:uD,r:hD,D:dD,C:fD,L:mD,m:pD,X:yD,S:gD,M:vD};function uD(){var s=nr.f(),a=jd();return s||a}function hD(s){var a=is(s);a!==null&&a.tag===5&&a.type==="form"?Cb(a):nr.r(s)}var yl=typeof document>"u"?null:document;function cT(s,a,l){var u=yl;if(u&&typeof a=="string"&&a){var p=Gt(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),lT.has(p)||(lT.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),gn(a,"link",s),Lt(a),u.head.appendChild(a)))}}function dD(s){nr.D(s),cT("dns-prefetch",s,null)}function fD(s,a){nr.C(s,a),cT("preconnect",s,a)}function mD(s,a,l){nr.L(s,a,l);var u=yl;if(u&&s&&a){var p='link[rel="preload"][as="'+Gt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Gt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Gt(l.imageSizes)+'"]')):p+='[href="'+Gt(s)+'"]';var v=p;switch(a){case"style":v=vl(s);break;case"script":v=xl(s)}Si.has(v)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Si.set(v,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(hu(v))||a==="script"&&u.querySelector(du(v))||(a=u.createElement("link"),gn(a,"link",s),Lt(a),u.head.appendChild(a)))}}function pD(s,a){nr.m(s,a);var l=yl;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(s)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=xl(s)}if(!Si.has(v)&&(s=y({rel:"modulepreload",href:s},a),Si.set(v,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(du(v)))return}u=l.createElement("link"),gn(u,"link",s),Lt(u),l.head.appendChild(u)}}}function gD(s,a,l){nr.S(s,a,l);var u=yl;if(u&&s){var p=Pn(u).hoistableStyles,v=vl(s);a=a||"default";var T=p.get(v);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(hu(v)))C.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Si.get(v))&&Yg(s,l);var F=T=u.createElement("link");Lt(F),gn(F,"link",s),F._p=new Promise(function(W,te){F.onload=W,F.onerror=te}),F.addEventListener("load",function(){C.loading|=1}),F.addEventListener("error",function(){C.loading|=2}),C.loading|=4,$d(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:C},p.set(v,T)}}}function yD(s,a){nr.X(s,a);var l=yl;if(l&&s){var u=Pn(l).hoistableScripts,p=xl(s),v=u.get(p);v||(v=l.querySelector(du(p)),v||(s=y({src:s,async:!0},a),(a=Si.get(p))&&Kg(s,a),v=l.createElement("script"),Lt(v),gn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function vD(s,a){nr.M(s,a);var l=yl;if(l&&s){var u=Pn(l).hoistableScripts,p=xl(s),v=u.get(p);v||(v=l.querySelector(du(p)),v||(s=y({src:s,async:!0,type:"module"},a),(a=Si.get(p))&&Kg(s,a),v=l.createElement("script"),Lt(v),gn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function uT(s,a,l,u){var p=(p=xe.current)?Gd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=vl(l.href),l=Pn(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vl(l.href);var v=Pn(p).hoistableStyles,T=v.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,T),(v=p.querySelector(hu(s)))&&!v._p&&(T.instance=v,T.state.loading=5),Si.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Si.set(s,l),v||xD(p,s,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=xl(l),l=Pn(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function vl(s){return'href="'+Gt(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function hT(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function xD(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),gn(a,"link",l),Lt(a),s.head.appendChild(a))}function xl(s){return'[src="'+Gt(s)+'"]'}function du(s){return"script[async]"+s}function dT(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Gt(l.href)+'"]');if(u)return a.instance=u,Lt(u),u;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Lt(u),gn(u,"style",p),$d(u,l.precedence,s),a.instance=u;case"stylesheet":p=vl(l.href);var v=s.querySelector(hu(p));if(v)return a.state.loading|=4,a.instance=v,Lt(v),v;u=hT(l),(p=Si.get(p))&&Yg(u,p),v=(s.ownerDocument||s).createElement("link"),Lt(v);var T=v;return T._p=new Promise(function(C,F){T.onload=C,T.onerror=F}),gn(v,"link",u),a.state.loading|=4,$d(v,l.precedence,s),a.instance=v;case"script":return v=xl(l.src),(p=s.querySelector(du(v)))?(a.instance=p,Lt(p),p):(u=l,(p=Si.get(v))&&(u=y({},l),Kg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Lt(p),gn(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,$d(u,l.precedence,s));return a.instance}function $d(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===a)v=C;else if(v!==p)break}v?v.parentNode.insertBefore(s,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Yg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Kg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Yd=null;function fT(s,a,l){if(Yd===null){var u=new Map,p=Yd=new Map;p.set(l,u)}else p=Yd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var v=l[p];if(!(v[Ca]||v[Qt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(a)||"";T=s+T;var C=u.get(T);C?C.push(v):u.set(T,[v])}}return u}function mT(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function _D(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function pT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var fu=null;function bD(){}function wD(s,a,l){if(fu===null)throw Error(i(475));var u=fu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=vl(l.href),v=s.querySelector(hu(p));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Kd.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=v,Lt(v);return}v=s.ownerDocument||s,l=hT(l),(p=Si.get(p))&&Yg(l,p),v=v.createElement("link"),Lt(v);var T=v;T._p=new Promise(function(C,F){T.onload=C,T.onerror=F}),gn(v,"link",l),a.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Kd.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function TD(){if(fu===null)throw Error(i(475));var s=fu;return s.stylesheets&&s.count===0&&Wg(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Wg(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Kd(){if(this.count--,this.count===0){if(this.stylesheets)Wg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wd=null;function Wg(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wd=new Map,a.forEach(ED,s),Wd=null,Kd.call(s))}function ED(s,a){if(!(a.state.loading&4)){var l=Wd.get(s);if(l)var u=l.get(null);else{l=new Map,Wd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=a.instance,T=p.getAttribute("data-precedence"),v=l.get(T)||u,v===u&&l.set(null,p),l.set(T,p),this.count++,u=Kd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var mu={$$typeof:j,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function SD(s,a,l,u,p,v,T,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function gT(s,a,l,u,p,v,T,C,F,W,te,re){return s=new SD(s,a,l,T,C,F,W,re),a=1,v===!0&&(a|=24),v=ii(3,null,null,a),s.current=v,v.stateNode=s,a=Np(),a.refCount++,s.pooledCache=a,a.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:a},Pp(v),s}function yT(s){return s?(s=Xo,s):Xo}function vT(s,a,l,u,p,v){p=yT(p),u.context===null?u.context=p:u.pendingContext=p,u=Ir(a),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Nr(s,u,a),l!==null&&(li(l,s,a),qc(l,s,a))}function xT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Xg(s,a){xT(s,a),(s=s.alternate)&&xT(s,a)}function _T(s){if(s.tag===13){var a=Wo(s,67108864);a!==null&&li(a,s,67108864),Xg(s,67108864)}}var Xd=!0;function AD(s,a,l,u){var p=Z.T;Z.T=null;var v=oe.p;try{oe.p=2,Qg(s,a,l,u)}finally{oe.p=v,Z.T=p}}function RD(s,a,l,u){var p=Z.T;Z.T=null;var v=oe.p;try{oe.p=8,Qg(s,a,l,u)}finally{oe.p=v,Z.T=p}}function Qg(s,a,l,u){if(Xd){var p=Zg(u);if(p===null)Lg(s,a,u,Qd,l),wT(s,u);else if(ID(p,s,a,l,u))u.stopPropagation();else if(wT(s,u),a&4&&-1<CD.indexOf(s)){for(;p!==null;){var v=is(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=ji(v.pendingLanes);if(T!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var F=1<<31-Tn(T);C.entanglements[1]|=F,T&=~F}ys(v),(st&6)===0&&(Pd=wn()+500,ou(0))}}break;case 13:C=Wo(v,2),C!==null&&li(C,v,2),jd(),Xg(v,2)}if(v=Zg(u),v===null&&Lg(s,a,u,Qd,l),v===p)break;p=v}p!==null&&u.stopPropagation()}else Lg(s,a,u,null,l)}}function Zg(s){return s=gi(s),Jg(s)}var Qd=null;function Jg(s){if(Qd=null,s=Ps(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Qd=s,null}function bT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case es:return 2;case ts:return 8;case Ee:case He:return 32;case yt:return 268435456;default:return 32}default:return 32}}var ey=!1,Hr=null,qr=null,Gr=null,pu=new Map,gu=new Map,$r=[],CD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wT(s,a){switch(s){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(a.pointerId)}}function yu(s,a,l,u,p,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},a!==null&&(a=is(a),a!==null&&_T(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function ID(s,a,l,u,p){switch(a){case"focusin":return Hr=yu(Hr,s,a,l,u,p),!0;case"dragenter":return qr=yu(qr,s,a,l,u,p),!0;case"mouseover":return Gr=yu(Gr,s,a,l,u,p),!0;case"pointerover":var v=p.pointerId;return pu.set(v,yu(pu.get(v)||null,s,a,l,u,p)),!0;case"gotpointercapture":return v=p.pointerId,gu.set(v,yu(gu.get(v)||null,s,a,l,u,p)),!0}return!1}function TT(s){var a=Ps(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,jh(s.priority,function(){if(l.tag===13){var u=oi();u=_r(u);var p=Wo(l,u);p!==null&&li(p,l,u),Xg(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ls=u,l.target.dispatchEvent(u),Ls=null}else return a=is(l),a!==null&&_T(a),s.blockedOn=l,!1;a.shift()}return!0}function ET(s,a,l){Zd(s)&&l.delete(a)}function ND(){ey=!1,Hr!==null&&Zd(Hr)&&(Hr=null),qr!==null&&Zd(qr)&&(qr=null),Gr!==null&&Zd(Gr)&&(Gr=null),pu.forEach(ET),gu.forEach(ET)}function Jd(s,a){s.blockedOn===a&&(s.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ND)))}var ef=null;function ST(s){ef!==s&&(ef=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===s&&(ef=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(Jg(u||l)===null)continue;break}var v=is(l);v!==null&&(s.splice(a,3),a-=3,Jp(v,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function vu(s){function a(F){return Jd(F,s)}Hr!==null&&Jd(Hr,s),qr!==null&&Jd(qr,s),Gr!==null&&Jd(Gr,s),pu.forEach(a),gu.forEach(a);for(var l=0;l<$r.length;l++){var u=$r[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<$r.length&&(l=$r[0],l.blockedOn===null);)TT(l),l.blockedOn===null&&$r.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],v=l[u+1],T=p[qt]||null;if(typeof v=="function")T||ST(l);else if(T){var C=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[qt]||null)C=T.formAction;else if(Jg(p)!==null)continue}else C=T.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),ST(l)}}}function ty(s){this._internalRoot=s}tf.prototype.render=ty.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=oi();vT(l,u,s,a,null,null)},tf.prototype.unmount=ty.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;vT(s.current,2,null,s,null,null),jd(),a[mi]=null}};function tf(s){this._internalRoot=s}tf.prototype.unstable_scheduleHydration=function(s){if(s){var a=br();s={blockedOn:null,target:s,priority:a};for(var l=0;l<$r.length&&a!==0&&a<$r[l].priority;l++);$r.splice(l,0,s),l===0&&TT(s)}};var AT=e.version;if(AT!=="19.1.0")throw Error(i(527,AT,"19.1.0"));oe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var DD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{lt=nf.inject(DD),Be=nf}catch{}}return _u.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=zb,v=Hb,T=qb,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=gT(s,1,!1,null,null,l,u,p,v,T,C,null),s[mi]=a.current,Vg(s),new ty(a)},_u.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",v=zb,T=Hb,C=qb,F=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=gT(s,1,!0,a,l??null,u,p,v,T,C,F,W),a.context=yT(null),l=a.current,u=oi(),u=_r(u),p=Ir(u),p.callback=null,Nr(l,p,u),l=u,a.current.lanes=l,ks(a,l),ys(a),s[mi]=a.current,Vg(s),new tf(a)},_u.version="19.1.0",_u}var jT;function FD(){if(jT)return sy.exports;jT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=BD(),sy.exports}var zD=FD(),bu={},VT;function HD(){if(VT)return bu;VT=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=c,bu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,E){const A=new o,N=_.length;if(N<2)return A;const I=E?.decode||y;let D=0;do{const U=_.indexOf("=",D);if(U===-1)break;const j=_.indexOf(";",D),q=j===-1?N:j;if(U>q){D=_.lastIndexOf(";",U-1)+1;continue}const Y=h(_,D,U),ne=d(_,U,Y),P=_.slice(Y,ne);if(A[P]===void 0){let R=h(_,U+1,q),O=d(_,q,R);const M=I(_.slice(R,O));A[P]=M}D=q+1}while(D<N);return A}function h(_,E,A){do{const N=_.charCodeAt(E);if(N!==32&&N!==9)return E}while(++E<A);return A}function d(_,E,A){for(;E>A;){const N=_.charCodeAt(--E);if(N!==32&&N!==9)return E+1}return A}function m(_,E,A){const N=A?.encode||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=N(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let D=_+"="+I;if(!A)return D;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);D+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);D+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);D+="; Path="+A.path}if(A.expires){if(!x(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);D+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(D+="; HttpOnly"),A.secure&&(D+="; Secure"),A.partitioned&&(D+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return D}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function x(_){return r.call(_)==="[object Date]"}return bu}HD();var LT="popstate";function qD(t={}){function e(i,r){let{pathname:o,search:c,hash:h}=i.location;return t0("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Xu(r)}return $D(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GD(){return Math.random().toString(36).substring(2,10)}function UT(t,e){return{usr:t.state,key:t.key,idx:e}}function t0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:n,key:e&&e.key||i||GD()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function $D(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function x(){h="POP";let I=y(),D=I==null?null:I-m;m=I,d&&d({action:h,location:N.location,delta:D})}function _(I,D){h="PUSH";let U=t0(N.location,I,D);m=y()+1;let j=UT(U,m),q=N.createHref(U);try{c.pushState(j,"",q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(q)}o&&d&&d({action:h,location:N.location,delta:1})}function E(I,D){h="REPLACE";let U=t0(N.location,I,D);m=y();let j=UT(U,m),q=N.createHref(U);c.replaceState(j,"",q),o&&d&&d({action:h,location:N.location,delta:0})}function A(I){return YD(I)}let N={get action(){return h},get location(){return t(r,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(LT,x),d=I,()=>{r.removeEventListener(LT,x),d=null}},createHref(I){return e(r,I)},createURL:A,encodeLocation(I){let D=A(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:E,go(I){return c.go(I)}};return N}function YD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Xu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function MA(t,e,n="/"){return KD(t,e,n,!1)}function KD(t,e,n,i){let r=typeof e=="string"?Jl(e):e,o=hr(r.pathname||"/",n);if(o==null)return null;let c=jA(t);WD(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=aO(o);h=sO(c[d],m,i)}return h}function jA(t,e=[],n=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(Rt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=or([i,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jA(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:nO(m,o.index),routesMeta:y})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let h of VA(o.path))r(o,c,h)}),e}function VA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=VA(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function WD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var XD=/^:[\w-]+$/,QD=3,ZD=2,JD=1,eO=10,tO=-2,BT=t=>t==="*";function nO(t,e){let n=t.split("/"),i=n.length;return n.some(BT)&&(i+=tO),e&&(i+=ZD),n.filter(r=>!BT(r)).reduce((r,o)=>r+(XD.test(o)?QD:o===""?JD:eO),i)}function iO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function sO(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=Mf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),_=d.route;if(!x&&m&&n&&!i[i.length-1].route.index&&(x=Mf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!x)return null;Object.assign(r,x.params),c.push({params:r,pathname:or([o,x.pathname]),pathnameBase:uO(or([o,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(o=or([o,x.pathnameBase]))}return c}function Mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:x},_)=>{if(y==="*"){let A=h[_]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const E=h[_];return x&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function rO(t,e=!1,n=!0){Oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function aO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function oO(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:lO(n,e):e,search:hO(i),hash:dO(r)}}function lO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ly(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function av(t){let e=cO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ov(t,e,n,i=!1){let r;typeof t=="string"?r=Jl(t):(r={...t},Rt(!r.pathname||!r.pathname.includes("?"),ly("?","pathname","search",r)),Rt(!r.pathname||!r.pathname.includes("#"),ly("#","pathname","hash",r)),Rt(!r.search||!r.search.includes("#"),ly("#","search","hash",r)));let o=t===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=n;else{let x=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),x-=1;r.pathname=_.join("/")}h=x>=0?e[x]:"/"}let d=oO(r,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var or=t=>t.join("/").replace(/\/\/+/g,"/"),uO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var LA=["POST","PUT","PATCH","DELETE"];new Set(LA);var mO=["GET",...LA];new Set(mO);var ec=S.createContext(null);ec.displayName="DataRouter";var vm=S.createContext(null);vm.displayName="DataRouterState";var UA=S.createContext({isTransitioning:!1});UA.displayName="ViewTransition";var pO=S.createContext(new Map);pO.displayName="Fetchers";var gO=S.createContext(null);gO.displayName="Await";var Xi=S.createContext(null);Xi.displayName="Navigation";var gh=S.createContext(null);gh.displayName="Location";var Qi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var lv=S.createContext(null);lv.displayName="RouteError";function yO(t,{relative:e}={}){Rt(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(Xi),{hash:r,pathname:o,search:c}=yh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:or([n,o])),i.createHref({pathname:h,search:c,hash:r})}function tc(){return S.useContext(gh)!=null}function Pi(){return Rt(tc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(gh).location}var BA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FA(t){S.useContext(Xi).static||S.useLayoutEffect(t)}function jt(){let{isDataRoute:t}=S.useContext(Qi);return t?DO():vO()}function vO(){Rt(tc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(ec),{basename:e,navigator:n}=S.useContext(Xi),{matches:i}=S.useContext(Qi),{pathname:r}=Pi(),o=JSON.stringify(av(i)),c=S.useRef(!1);return FA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(Oi(c.current,BA),!c.current)return;if(typeof d=="number"){n.go(d);return}let y=ov(d,JSON.parse(o),r,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:or([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,r,t])}S.createContext(null);function xO(){let{matches:t}=S.useContext(Qi),e=t[t.length-1];return e?e.params:{}}function yh(t,{relative:e}={}){let{matches:n}=S.useContext(Qi),{pathname:i}=Pi(),r=JSON.stringify(av(n));return S.useMemo(()=>ov(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function _O(t,e){return zA(t,e)}function zA(t,e,n,i){Rt(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=S.useContext(Xi),{matches:o}=S.useContext(Qi),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";HA(d,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=Pi(),_;if(e){let D=typeof e=="string"?Jl(e):e;Rt(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=x;let E=_.pathname||"/",A=E;if(m!=="/"){let D=m.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=MA(t,{pathname:A});Oi(y||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=SO(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:or([m,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:or([m,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,i);return e&&I?S.createElement(gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function bO(){let t=NO(),e=fO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,c)}var wO=S.createElement(bO,null),TO=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(Qi.Provider,{value:this.props.routeContext},S.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EO({routeContext:t,match:e,children:n}){let i=S.useContext(ec);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Qi.Provider,{value:t},n)}function SO(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n?.errors;if(o!=null){let d=r.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<r.length;d++){let m=r[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:x}=n,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||_){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,m,y)=>{let x,_=!1,E=null,A=null;n&&(x=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||wO,c&&(h<0&&y===0?(HA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):h===y&&(_=!0,A=m.route.hydrateFallbackElement||null)));let N=e.concat(r.slice(0,y+1)),I=()=>{let D;return x?D=E:_?D=A:m.route.Component?D=S.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=d,S.createElement(EO,{match:m,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:D})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(TO,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AO(t){let e=S.useContext(ec);return Rt(e,cv(t)),e}function RO(t){let e=S.useContext(vm);return Rt(e,cv(t)),e}function CO(t){let e=S.useContext(Qi);return Rt(e,cv(t)),e}function uv(t){let e=CO(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IO(){return uv("useRouteId")}function NO(){let t=S.useContext(lv),e=RO("useRouteError"),n=uv("useRouteError");return t!==void 0?t:e.errors?.[n]}function DO(){let{router:t}=AO("useNavigate"),e=uv("useNavigate"),n=S.useRef(!1);return FA(()=>{n.current=!0}),S.useCallback(async(r,o={})=>{Oi(n.current,BA),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var FT={};function HA(t,e,n){!e&&!FT[t]&&(FT[t]=!0,Oi(!1,n))}S.memo(OO);function OO({routes:t,future:e,state:n}){return zA(t,void 0,n,e)}function hv({to:t,replace:e,state:n,relative:i}){Rt(tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=S.useContext(Xi);Oi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(Qi),{pathname:c}=Pi(),h=jt(),d=ov(t,av(o),c,i==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function yn(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kO({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){Rt(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof n=="string"&&(n=Jl(n));let{pathname:d="/",search:m="",hash:y="",state:x=null,key:_="default"}=n,E=S.useMemo(()=>{let A=hr(d,c);return A==null?null:{location:{pathname:A,search:m,hash:y,state:x,key:_},navigationType:i}},[c,d,m,y,x,_,i]);return Oi(E!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:S.createElement(Xi.Provider,{value:h},S.createElement(gh.Provider,{children:e,value:E}))}function PO({children:t,location:e}){return _O(n0(t),e)}function n0(t,e=[]){let n=[];return S.Children.forEach(t,(i,r)=>{if(!S.isValidElement(i))return;let o=[...e,r];if(i.type===S.Fragment){n.push.apply(n,n0(i.props.children,o));return}Rt(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=n0(i.props.children,o)),n.push(c)}),n}var vf="get",xf="application/x-www-form-urlencoded";function xm(t){return t!=null&&typeof t.tagName=="string"}function MO(t){return xm(t)&&t.tagName.toLowerCase()==="button"}function jO(t){return xm(t)&&t.tagName.toLowerCase()==="form"}function VO(t){return xm(t)&&t.tagName.toLowerCase()==="input"}function LO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UO(t,e){return t.button===0&&(!e||e==="_self")&&!LO(t)}function i0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function BO(t,e){let n=i0(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)})}),n}var sf=null;function FO(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var zO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cy(t){return t!=null&&!zO.has(t)?(Oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):t}function HO(t,e){let n,i,r,o,c;if(jO(t)){let h=t.getAttribute("action");i=h?hr(h,e):null,n=t.getAttribute("method")||vf,r=cy(t.getAttribute("enctype"))||xf,o=new FormData(t)}else if(MO(t)||VO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?hr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||vf,r=cy(t.getAttribute("formenctype"))||cy(h.getAttribute("enctype"))||xf,o=new FormData(h,t),!FO()){let{name:m,type:y,value:x}=t;if(y==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,x)}}else{if(xm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vf,i=null,r=xf,c=t}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:c}}function dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function qO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $O(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await qO(o,n);return c.links?c.links():[]}return[]}));return XO(i.flat(1).filter(GO).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zT(t,e,n,i,r,o){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function YO(t,e,{includeHydrateFallback:n}={}){return KO(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function KO(t){return[...new Set(t)]}function WO(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function XO(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(WO(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QO=new Set([100,101,204,205]);function ZO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function qA(){let t=S.useContext(ec);return dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JO(){let t=S.useContext(vm);return dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fv=S.createContext(void 0);fv.displayName="FrameworkContext";function GA(){let t=S.useContext(fv);return dv(t,"You must render this element inside a <HydratedRouter> element"),t}function ek(t,e){let n=S.useContext(fv),[i,r]=S.useState(!1),[o,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=D=>{D.forEach(U=>{c(U.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let E=()=>{r(!0)},A=()=>{r(!1),c(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:wu(h,E),onBlur:wu(d,A),onMouseEnter:wu(m,E),onMouseLeave:wu(y,A),onTouchStart:wu(x,E)}]:[!1,_,{}]}function wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tk({page:t,...e}){let{router:n}=qA(),i=S.useMemo(()=>MA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?S.createElement(ik,{page:t,matches:i,...e}):null}function nk(t){let{manifest:e,routeModules:n}=GA(),[i,r]=S.useState([]);return S.useEffect(()=>{let o=!1;return $O(t,e,n).then(c=>{o||r(c)}),()=>{o=!0}},[t,e,n]),i}function ik({page:t,matches:e,...n}){let i=Pi(),{manifest:r,routeModules:o}=GA(),{basename:c}=qA(),{loaderData:h,matches:d}=JO(),m=S.useMemo(()=>zT(t,e,d,r,i,"data"),[t,e,d,r,i]),y=S.useMemo(()=>zT(t,e,d,r,i,"assets"),[t,e,d,r,i]),x=S.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,N=!1;if(e.forEach(D=>{let U=r.routes[D.route.id];!U||!U.hasLoader||(!m.some(j=>j.route.id===D.route.id)&&D.route.id in h&&o[D.route.id]?.shouldRevalidate||U.hasClientLoader?N=!0:A.add(D.route.id))}),A.size===0)return[];let I=ZO(t,c);return N&&A.size>0&&I.searchParams.set("_routes",e.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[c,h,i,r,m,e,t,o]),_=S.useMemo(()=>YO(y,r),[y,r]),E=nk(y);return S.createElement(S.Fragment,null,x.map(A=>S.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>S.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),E.map(({key:A,link:N})=>S.createElement("link",{key:A,...N})))}function sk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.6.3")}catch{}function rk({basename:t,children:e,window:n}){let i=S.useRef();i.current==null&&(i.current=qD({window:n,v5Compat:!0}));let r=i.current,[o,c]=S.useState({action:r.action,location:r.location}),h=S.useCallback(d=>{S.startTransition(()=>c(d))},[c]);return S.useLayoutEffect(()=>r.listen(h),[r,h]),S.createElement(kO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KA=S.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:m,preventScrollReset:y,viewTransition:x,..._},E){let{basename:A}=S.useContext(Xi),N=typeof m=="string"&&YA.test(m),I,D=!1;if(typeof m=="string"&&N&&(I=m,$A))try{let O=new URL(window.location.href),M=m.startsWith("//")?new URL(O.protocol+m):new URL(m),B=hr(M.pathname,A);M.origin===O.origin&&B!=null?m=B+M.search+M.hash:D=!0}catch{Oi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=yO(m,{relative:r}),[j,q,Y]=ek(i,_),ne=ck(m,{replace:c,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:x});function P(O){e&&e(O),O.defaultPrevented||ne(O)}let R=S.createElement("a",{..._,...Y,href:I||U,onClick:D||o?e:P,ref:sk(E,q),target:d,"data-discover":!N&&n==="render"?"true":void 0});return j&&!N?S.createElement(S.Fragment,null,R,S.createElement(tk,{page:U})):R});KA.displayName="Link";var ak=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...m},y){let x=yh(c,{relative:m.relative}),_=Pi(),E=S.useContext(vm),{navigator:A,basename:N}=S.useContext(Xi),I=E!=null&&pk(x)&&h===!0,D=A.encodeLocation?A.encodeLocation(x).pathname:x.pathname,U=_.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(U=U.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&N&&(j=hr(j,N)||j);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Y=U===D||!r&&U.startsWith(D)&&U.charAt(q)==="/",ne=j!=null&&(j===D||!r&&j.startsWith(D)&&j.charAt(D.length)==="/"),P={isActive:Y,isPending:ne,isTransitioning:I},R=Y?e:void 0,O;typeof i=="function"?O=i(P):O=[i,Y?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(P):o;return S.createElement(KA,{...m,"aria-current":R,className:O,ref:y,style:M,to:c,viewTransition:h},typeof d=="function"?d(P):d)});ak.displayName="NavLink";var ok=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:c=vf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:x,..._},E)=>{let A=fk(),N=mk(h,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&YA.test(h),U=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,Y=q?.getAttribute("formmethod")||c;A(q||j.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:x})};return S.createElement("form",{ref:E,method:I,action:N,onSubmit:i?d:U,..._,"data-discover":!D&&t==="render"?"true":void 0})});ok.displayName="Form";function lk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(t){let e=S.useContext(ec);return Rt(e,lk(t)),e}function ck(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=jt(),d=Pi(),m=yh(t,{relative:o});return S.useCallback(y=>{if(UO(y,e)){y.preventDefault();let x=n!==void 0?n:Xu(d)===Xu(m);h(t,{replace:x,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,m,n,i,e,t,r,o,c])}function uk(t){Oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(i0(t)),n=S.useRef(!1),i=Pi(),r=S.useMemo(()=>BO(i.search,n.current?null:e.current),[i.search]),o=jt(),c=S.useCallback((h,d)=>{const m=i0(typeof h=="function"?h(r):h);n.current=!0,o("?"+m,d)},[o,r]);return[r,c]}var hk=0,dk=()=>`__${String(++hk)}__`;function fk(){let{router:t}=WA("useSubmit"),{basename:e}=S.useContext(Xi),n=IO();return S.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:m}=HO(i,e);if(r.navigate===!1){let y=r.fetcherKey||dk();await t.fetch(y,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function mk(t,{relative:e}={}){let{basename:n}=S.useContext(Xi),i=S.useContext(Qi);Rt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...yh(t||".",{relative:e})},c=Pi();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:or([n,o.pathname])),Xu(o)}function pk(t,e={}){let n=S.useContext(UA);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=WA("useViewTransitionState"),r=yh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=hr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=hr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Mf(r.pathname,c)!=null||Mf(r.pathname,o)!=null}[...QO];const vh="/xstream-frontend/assets/logo-CkceWX_i.png",gk=({onDone:t})=>(S.useEffect(()=>{const e=setTimeout(t,3e3);return()=>clearTimeout(e)},[t]),g.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black text-white z-[2000] p-6 overflow-hidden",children:[g.jsx("img",{src:vh,alt:"XStream Secrets Logo",className:"w-56 md:w-72 rounded-3xl shadow-[0_0_25px_rgba(255,255,255,0.1)] mb-8 select-none animate-fade-in"}),g.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-red-500 tracking-wide mb-3 animate-slide-down",children:"XStream (18+)"}),g.jsxs("p",{className:"text-gray-300 text-base sm:text-lg mb-2 animate-fade-in",children:["Welcome to ",g.jsx("span",{className:"text-white font-semibold",children:"XStream"}),", the adult video embed platform."]}),g.jsxs("p",{className:"text-red-400 text-sm sm:text-base mt-4 text-center animate-fade-in",children:[" ",g.jsx("strong",{children:"Warning:"})," This platform is for adults (18+) only."]}),g.jsx("div",{className:"w-44 sm:w-56 h-3 bg-gray-800 rounded-full mt-10 overflow-hidden shadow-inner animate-fade-in",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-pink-500 rounded-full animate-loading-bar"})}),g.jsx("style",{children:`
          @keyframes fade-in {
            0% { opacity: 0; transform: scale(0.98); }
            100% { opacity: 1; transform: scale(1); }
          }
          @keyframes slide-down {
            0% { opacity: 0; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
          }
          @keyframes loading-bar {
            0% { width: 0%; }
            100% { width: 100%; }
          }

          .animate-fade-in {
            animation: fade-in 1s ease-in-out forwards;
          }

          .animate-slide-down {
            animation: slide-down 0.8s ease-out forwards;
          }

          .animate-loading-bar {
            animation: loading-bar 2s linear forwards;
          }
        `})]})),yk=({onEnter:t,onExit:e})=>g.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black text-white min-h-screen w-full px-4",children:g.jsxs("div",{className:"bg-black/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-800 max-w-lg w-full p-6 sm:p-8 md:p-10 text-center flex flex-col items-center",children:[g.jsx("img",{src:vh,alt:"XStream Secrets Logo",className:"w-48 sm:w-56 md:w-64 mb-6 rounded-2xl shadow-[0_0_25px_rgba(255,255,255,0.08)] select-none"}),g.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-4 text-red-500 tracking-wide",children:"Age Verification"}),g.jsxs("p",{className:"text-gray-300 text-sm sm:text-base md:text-lg leading-relaxed mb-8 sm:mb-10 text-justify",children:["This website contains age-restricted materials including nudity and explicit depictions of sexual activity. By entering, you affirm that you are at least"," ",g.jsx("strong",{children:"18 years of age"})," (or the age of majority in your jurisdiction) and consent to viewing sexually explicit content."]}),g.jsxs("div",{className:"flex flex-row items-center justify-center gap-3 sm:gap-5 w-full flex-nowrap",children:[g.jsx("button",{onClick:t,className:`bg-red-600 hover:bg-red-700 transition-all duration-300 text-white font-semibold rounded-xl \r
                       text-sm sm:text-base md:text-lg \r
                       px-4 sm:px-6 md:px-10 py-2 sm:py-3 \r
                       shadow-lg hover:scale-105 active:scale-95`,children:" I am 18 or older  Enter"}),g.jsx("button",{onClick:e,className:`border-2 border-gray-300 hover:border-red-500 hover:text-red-400 transition-all duration-300 text-white font-semibold rounded-xl \r
                       text-sm sm:text-base md:text-lg \r
                       px-4 sm:px-6 md:px-10 py-2 sm:py-3 \r
                       shadow-lg hover:scale-105 active:scale-95`,children:" I am under 18  Exit"})]}),g.jsx("p",{className:"mt-8 text-red-500 font-semibold text-xs sm:text-sm uppercase tracking-wider",children:" This platform is for adults (18+) only."})]})}),vk=()=>{};var HT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},QA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,m=d?t[r+2]:0,y=o>>2,x=(o&3)<<4|h>>4;let _=(h&15)<<2|m>>6,E=m&63;d||(E=64,c||(_=64)),i.push(n[y],n[x],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const m=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||m==null||x==null)throw new _k;const _=o<<2|h>>4;if(i.push(_),m!==64){const E=h<<4&240|m>>2;if(i.push(E),x!==64){const A=m<<6&192|x;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bk=function(t){const e=XA(t);return QA.encodeByteArray(e,!0)},jf=function(t){return bk(t).replace(/\./g,"")},ZA=function(t){try{return QA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=()=>wk().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof HT>"u")return;const t=HT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZA(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return vk()||Tk()||Ek()||Sk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JA=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e2=t=>{const e=JA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},t2=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config},n2=t=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){return t.endsWith(".cloudworkstations.dev")}async function mv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(c)),""].join(".")}const Lu={};function Rk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function Ck(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qT=!1;function pv(t,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||Lu[t]===e||Lu[t]||qT)return;Lu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=Rk().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{qT=!0,c()},_}function y(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function x(){const _=Ck(i),E=n("text"),A=document.getElementById(E)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),D=n("preprendIcon"),U=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;h(j),y(I,N);const q=m();d(U,D),j.append(U,A,I,q),document.body.appendChild(j)}o?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ik(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function Nk(){var t;const e=(t=_m())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kk(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pk(){return!Nk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yv(){try{return typeof indexedDB=="object"}catch{return!1}}function vv(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function s2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="FirebaseError";class Mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Mk,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eo.prototype.create)}}class Eo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?jk(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Mi(r,h,i)}}function jk(t,e){return t.replace(Vk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Vk=/\{\$([^}]+)}/g;function Lk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],c=e[r];if(GT(o)&&GT(c)){if(!dr(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function GT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Ou(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Uk(t,e){const n=new Bk(t,e);return n.subscribe.bind(n)}class Bk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Fk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=uy),r.error===void 0&&(r.error=uy),r.complete===void 0&&(r.complete=uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=1e3,Hk=2,qk=4*60*60*1e3,Gk=.5;function $T(t,e=zk,n=Hk){const i=e*Math.pow(n,t),r=Math.round(Gk*i*(Math.random()-.5)*2);return Math.min(qk,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ak;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Yk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yk(t){return t===so?void 0:t}function Kk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $k(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const Xk={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Qk=Ge.INFO,Zk={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Jk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Zk[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=Qk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const eP=(t,e)=>e.some(n=>t instanceof n);let YT,KT;function tP(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nP(){return KT||(KT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r2=new WeakMap,s0=new WeakMap,a2=new WeakMap,hy=new WeakMap,xv=new WeakMap;function iP(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ia(t.result)),r()},c=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&r2.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function sP(t){if(s0.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});s0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return s0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rP(t){r0=t(r0)}function aP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(dy(this),e,...n);return a2.set(i,e.sort?e.sort():[e]),ia(i)}:nP().includes(t)?function(...e){return t.apply(dy(this),e),ia(r2.get(this))}:function(...e){return ia(t.apply(dy(this),e))}}function oP(t){return typeof t=="function"?aP(t):(t instanceof IDBTransaction&&sP(t),eP(t,tP())?new Proxy(t,r0):t)}function ia(t){if(t instanceof IDBRequest)return iP(t);if(hy.has(t))return hy.get(t);const e=oP(t);return e!==t&&(hy.set(t,e),xv.set(e,t)),e}const dy=t=>xv.get(t);function o2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(t,e),h=ia(c);return i&&c.addEventListener("upgradeneeded",d=>{i(ia(c.result),d.oldVersion,d.newVersion,ia(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const lP=["get","getKey","getAll","getAllKeys","count"],cP=["put","add","delete","clear"],fy=new Map;function WT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=cP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||lP.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),r&&d.done]))[0]};return fy.set(e,o),o}rP(t=>({...t,get:(e,n,i)=>WT(e,n)||t.get(e,n,i),has:(e,n)=>!!WT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hP(t){const e=t.getComponent();return e?.type==="VERSION"}const a0="@firebase/app",XT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new bm("@firebase/app"),dP="@firebase/app-compat",fP="@firebase/analytics-compat",mP="@firebase/analytics",pP="@firebase/app-check-compat",gP="@firebase/app-check",yP="@firebase/auth",vP="@firebase/auth-compat",xP="@firebase/database",_P="@firebase/data-connect",bP="@firebase/database-compat",wP="@firebase/functions",TP="@firebase/functions-compat",EP="@firebase/installations",SP="@firebase/installations-compat",AP="@firebase/messaging",RP="@firebase/messaging-compat",CP="@firebase/performance",IP="@firebase/performance-compat",NP="@firebase/remote-config",DP="@firebase/remote-config-compat",OP="@firebase/storage",kP="@firebase/storage-compat",PP="@firebase/firestore",MP="@firebase/ai",jP="@firebase/firestore-compat",VP="firebase",LP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="[DEFAULT]",UP={[a0]:"fire-core",[dP]:"fire-core-compat",[mP]:"fire-analytics",[fP]:"fire-analytics-compat",[gP]:"fire-app-check",[pP]:"fire-app-check-compat",[yP]:"fire-auth",[vP]:"fire-auth-compat",[xP]:"fire-rtdb",[_P]:"fire-data-connect",[bP]:"fire-rtdb-compat",[wP]:"fire-fn",[TP]:"fire-fn-compat",[EP]:"fire-iid",[SP]:"fire-iid-compat",[AP]:"fire-fcm",[RP]:"fire-fcm-compat",[CP]:"fire-perf",[IP]:"fire-perf-compat",[NP]:"fire-rc",[DP]:"fire-rc-compat",[OP]:"fire-gcs",[kP]:"fire-gcs-compat",[PP]:"fire-fst",[jP]:"fire-fst-compat",[MP]:"fire-vertex","fire-js":"fire-js",[VP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,BP=new Map,l0=new Map;function QT(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(l0.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;l0.set(e,t);for(const n of Vf.values())QT(n,t);for(const n of BP.values())QT(n,t);return!0}function xa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new Eo("app","Firebase",FP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=LP;function _v(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:o0,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw sa.create("bad-app-name",{appName:String(r)});if(n||(n=t2()),!n)throw sa.create("no-options");const o=Vf.get(r);if(o){if(dr(n,o.options)&&dr(i,o.config))return o;throw sa.create("duplicate-app",{appName:r})}const c=new Wk(r);for(const d of l0.values())c.addComponent(d);const h=new zP(n,i,c);return Vf.set(r,h),h}function wm(t=o0){const e=Vf.get(t);if(!e&&t===o0&&t2())return _v();if(!e)throw sa.create("no-app",{appName:t});return e}function Xn(t,e,n){var i;let r=(i=UP[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(h.join(" "));return}Ki(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",qP=1,Qu="firebase-heartbeat-store";let my=null;function l2(){return my||(my=o2(HP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw sa.create("idb-open",{originalErrorMessage:t.message})})),my}async function GP(t){try{const n=(await l2()).transaction(Qu),i=await n.objectStore(Qu).get(c2(t));return await n.done,i}catch(e){if(e instanceof Mi)fr.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function ZT(t,e){try{const i=(await l2()).transaction(Qu,"readwrite");await i.objectStore(Qu).put(e,c2(t)),await i.done}catch(n){if(n instanceof Mi)fr.warn(n.message);else{const i=sa.create("idb-set",{originalErrorMessage:n?.message});fr.warn(i.message)}}}function c2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=1024,YP=30;class KP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=JT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>YP){const c=QP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=JT(),{heartbeatsToSend:i,unsentEntries:r}=WP(this._heartbeatsCache.heartbeats),o=jf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fr.warn(n),""}}}function JT(){return new Date().toISOString().substring(0,10)}function WP(t,e=$P){const n=[];let i=t.slice();for(const r of t){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),e1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),e1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class XP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yv()?vv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ZT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ZT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e1(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}function QP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){Ki(new ki("platform-logger",e=>new uP(e),"PRIVATE")),Ki(new ki("heartbeat",e=>new KP(e),"PRIVATE")),Xn(a0,XT,t),Xn(a0,XT,"esm2017"),Xn("fire-js","")}ZP("");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,u2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function O(){}O.prototype=R.prototype,P.D=R.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function(M,B,z){for(var L=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)L[Qe-2]=arguments[Qe];return R.prototype[B].apply(M,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,R,O){O||(O=0);var M=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)M[B]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(B=0;16>B;++B)M[B]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=P.g[0],O=P.g[1],B=P.g[2];var z=P.g[3],L=R+(z^O&(B^z))+M[0]+3614090360&4294967295;R=O+(L<<7&4294967295|L>>>25),L=z+(B^R&(O^B))+M[1]+3905402710&4294967295,z=R+(L<<12&4294967295|L>>>20),L=B+(O^z&(R^O))+M[2]+606105819&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(R^B&(z^R))+M[3]+3250441966&4294967295,O=B+(L<<22&4294967295|L>>>10),L=R+(z^O&(B^z))+M[4]+4118548399&4294967295,R=O+(L<<7&4294967295|L>>>25),L=z+(B^R&(O^B))+M[5]+1200080426&4294967295,z=R+(L<<12&4294967295|L>>>20),L=B+(O^z&(R^O))+M[6]+2821735955&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(R^B&(z^R))+M[7]+4249261313&4294967295,O=B+(L<<22&4294967295|L>>>10),L=R+(z^O&(B^z))+M[8]+1770035416&4294967295,R=O+(L<<7&4294967295|L>>>25),L=z+(B^R&(O^B))+M[9]+2336552879&4294967295,z=R+(L<<12&4294967295|L>>>20),L=B+(O^z&(R^O))+M[10]+4294925233&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(R^B&(z^R))+M[11]+2304563134&4294967295,O=B+(L<<22&4294967295|L>>>10),L=R+(z^O&(B^z))+M[12]+1804603682&4294967295,R=O+(L<<7&4294967295|L>>>25),L=z+(B^R&(O^B))+M[13]+4254626195&4294967295,z=R+(L<<12&4294967295|L>>>20),L=B+(O^z&(R^O))+M[14]+2792965006&4294967295,B=z+(L<<17&4294967295|L>>>15),L=O+(R^B&(z^R))+M[15]+1236535329&4294967295,O=B+(L<<22&4294967295|L>>>10),L=R+(B^z&(O^B))+M[1]+4129170786&4294967295,R=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(R^O))+M[6]+3225465664&4294967295,z=R+(L<<9&4294967295|L>>>23),L=B+(R^O&(z^R))+M[11]+643717713&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^R&(B^z))+M[0]+3921069994&4294967295,O=B+(L<<20&4294967295|L>>>12),L=R+(B^z&(O^B))+M[5]+3593408605&4294967295,R=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(R^O))+M[10]+38016083&4294967295,z=R+(L<<9&4294967295|L>>>23),L=B+(R^O&(z^R))+M[15]+3634488961&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^R&(B^z))+M[4]+3889429448&4294967295,O=B+(L<<20&4294967295|L>>>12),L=R+(B^z&(O^B))+M[9]+568446438&4294967295,R=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(R^O))+M[14]+3275163606&4294967295,z=R+(L<<9&4294967295|L>>>23),L=B+(R^O&(z^R))+M[3]+4107603335&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^R&(B^z))+M[8]+1163531501&4294967295,O=B+(L<<20&4294967295|L>>>12),L=R+(B^z&(O^B))+M[13]+2850285829&4294967295,R=O+(L<<5&4294967295|L>>>27),L=z+(O^B&(R^O))+M[2]+4243563512&4294967295,z=R+(L<<9&4294967295|L>>>23),L=B+(R^O&(z^R))+M[7]+1735328473&4294967295,B=z+(L<<14&4294967295|L>>>18),L=O+(z^R&(B^z))+M[12]+2368359562&4294967295,O=B+(L<<20&4294967295|L>>>12),L=R+(O^B^z)+M[5]+4294588738&4294967295,R=O+(L<<4&4294967295|L>>>28),L=z+(R^O^B)+M[8]+2272392833&4294967295,z=R+(L<<11&4294967295|L>>>21),L=B+(z^R^O)+M[11]+1839030562&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^R)+M[14]+4259657740&4294967295,O=B+(L<<23&4294967295|L>>>9),L=R+(O^B^z)+M[1]+2763975236&4294967295,R=O+(L<<4&4294967295|L>>>28),L=z+(R^O^B)+M[4]+1272893353&4294967295,z=R+(L<<11&4294967295|L>>>21),L=B+(z^R^O)+M[7]+4139469664&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^R)+M[10]+3200236656&4294967295,O=B+(L<<23&4294967295|L>>>9),L=R+(O^B^z)+M[13]+681279174&4294967295,R=O+(L<<4&4294967295|L>>>28),L=z+(R^O^B)+M[0]+3936430074&4294967295,z=R+(L<<11&4294967295|L>>>21),L=B+(z^R^O)+M[3]+3572445317&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^R)+M[6]+76029189&4294967295,O=B+(L<<23&4294967295|L>>>9),L=R+(O^B^z)+M[9]+3654602809&4294967295,R=O+(L<<4&4294967295|L>>>28),L=z+(R^O^B)+M[12]+3873151461&4294967295,z=R+(L<<11&4294967295|L>>>21),L=B+(z^R^O)+M[15]+530742520&4294967295,B=z+(L<<16&4294967295|L>>>16),L=O+(B^z^R)+M[2]+3299628645&4294967295,O=B+(L<<23&4294967295|L>>>9),L=R+(B^(O|~z))+M[0]+4096336452&4294967295,R=O+(L<<6&4294967295|L>>>26),L=z+(O^(R|~B))+M[7]+1126891415&4294967295,z=R+(L<<10&4294967295|L>>>22),L=B+(R^(z|~O))+M[14]+2878612391&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~R))+M[5]+4237533241&4294967295,O=B+(L<<21&4294967295|L>>>11),L=R+(B^(O|~z))+M[12]+1700485571&4294967295,R=O+(L<<6&4294967295|L>>>26),L=z+(O^(R|~B))+M[3]+2399980690&4294967295,z=R+(L<<10&4294967295|L>>>22),L=B+(R^(z|~O))+M[10]+4293915773&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~R))+M[1]+2240044497&4294967295,O=B+(L<<21&4294967295|L>>>11),L=R+(B^(O|~z))+M[8]+1873313359&4294967295,R=O+(L<<6&4294967295|L>>>26),L=z+(O^(R|~B))+M[15]+4264355552&4294967295,z=R+(L<<10&4294967295|L>>>22),L=B+(R^(z|~O))+M[6]+2734768916&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~R))+M[13]+1309151649&4294967295,O=B+(L<<21&4294967295|L>>>11),L=R+(B^(O|~z))+M[4]+4149444226&4294967295,R=O+(L<<6&4294967295|L>>>26),L=z+(O^(R|~B))+M[11]+3174756917&4294967295,z=R+(L<<10&4294967295|L>>>22),L=B+(R^(z|~O))+M[2]+718787259&4294967295,B=z+(L<<15&4294967295|L>>>17),L=O+(z^(B|~R))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+z&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var O=R-this.blockSize,M=this.B,B=this.h,z=0;z<R;){if(B==0)for(;z<=O;)r(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<R;)if(M[B++]=P.charCodeAt(z++),B==this.blockSize){r(this,M),B=0;break}}else for(;z<R;)if(M[B++]=P[z++],B==this.blockSize){r(this,M),B=0;break}}this.h=B,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var O=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=O&255,O/=256;for(this.u(P),P=Array(16),R=O=0;4>R;++R)for(var M=0;32>M;M+=8)P[O++]=this.g[R]>>>M&255;return P};function o(P,R){var O=h;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=R(P)}function c(P,R){this.h=R;for(var O=[],M=!0,B=P.length-1;0<=B;B--){var z=P[B]|0;M&&z==R||(O[B]=z,M=!1)}this.g=O}var h={};function d(P){return-128<=P&&128>P?o(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return x;if(0>P)return I(m(-P));for(var R=[],O=1,M=0;P>=O;M++)R[M]=P/O|0,O*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return I(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(R,8)),M=x,B=0;B<P.length;B+=8){var z=Math.min(8,P.length-B),L=parseInt(P.substring(B,B+z),R);8>z?(z=m(Math.pow(R,z)),M=M.j(z).add(m(L))):(M=M.j(O),M=M.add(m(L)))}return M}var x=d(0),_=d(1),E=d(16777216);t=c.prototype,t.m=function(){if(N(this))return-I(this).m();for(var P=0,R=1,O=0;O<this.g.length;O++){var M=this.i(O);P+=(0<=M?M:4294967296+M)*R,R*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(N(this))return"-"+I(this).toString(P);for(var R=m(Math.pow(P,6)),O=this,M="";;){var B=q(O,R).g;O=D(O,B.j(R));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=B,A(O))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function N(P){return P.h==-1}t.l=function(P){return P=D(this,P),N(P)?-1:A(P)?0:1};function I(P){for(var R=P.g.length,O=[],M=0;M<R;M++)O[M]=~P.g[M];return new c(O,~P.h).add(_)}t.abs=function(){return N(this)?I(this):this},t.add=function(P){for(var R=Math.max(this.g.length,P.g.length),O=[],M=0,B=0;B<=R;B++){var z=M+(this.i(B)&65535)+(P.i(B)&65535),L=(z>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);M=L>>>16,z&=65535,L&=65535,O[B]=L<<16|z}return new c(O,O[O.length-1]&-2147483648?-1:0)};function D(P,R){return P.add(I(R))}t.j=function(P){if(A(this)||A(P))return x;if(N(this))return N(P)?I(this).j(I(P)):I(I(this).j(P));if(N(P))return I(this.j(I(P)));if(0>this.l(E)&&0>P.l(E))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,O=[],M=0;M<2*R;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<P.g.length;B++){var z=this.i(M)>>>16,L=this.i(M)&65535,Qe=P.i(B)>>>16,he=P.i(B)&65535;O[2*M+2*B]+=L*he,U(O,2*M+2*B),O[2*M+2*B+1]+=z*he,U(O,2*M+2*B+1),O[2*M+2*B+1]+=L*Qe,U(O,2*M+2*B+1),O[2*M+2*B+2]+=z*Qe,U(O,2*M+2*B+2)}for(M=0;M<R;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=R;M<2*R;M++)O[M]=0;return new c(O,0)};function U(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function j(P,R){this.g=P,this.h=R}function q(P,R){if(A(R))throw Error("division by zero");if(A(P))return new j(x,x);if(N(P))return R=q(I(P),R),new j(I(R.g),I(R.h));if(N(R))return R=q(P,I(R)),new j(I(R.g),R.h);if(30<P.g.length){if(N(P)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var O=_,M=R;0>=M.l(P);)O=Y(O),M=Y(M);var B=ne(O,1),z=ne(M,1);for(M=ne(M,2),O=ne(O,2);!A(M);){var L=z.add(M);0>=L.l(P)&&(B=B.add(O),z=L),M=ne(M,1),O=ne(O,1)}return R=D(P,B.j(R)),new j(B,R)}for(B=x;0<=P.l(R);){for(O=Math.max(1,Math.floor(P.m()/R.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(O),L=z.j(R);N(L)||0<L.l(P);)O-=M,z=m(O),L=z.j(R);A(z)&&(z=_),B=B.add(z),P=D(P,L)}return new j(B,P)}t.A=function(P){return q(this,P).h},t.and=function(P){for(var R=Math.max(this.g.length,P.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)&P.i(M);return new c(O,this.h&P.h)},t.or=function(P){for(var R=Math.max(this.g.length,P.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)|P.i(M);return new c(O,this.h|P.h)},t.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),O=[],M=0;M<R;M++)O[M]=this.i(M)^P.i(M);return new c(O,this.h^P.h)};function Y(P){for(var R=P.g.length+1,O=[],M=0;M<R;M++)O[M]=P.i(M)<<1|P.i(M-1)>>>31;return new c(O,P.h)}function ne(P,R){var O=R>>5;R%=32;for(var M=P.g.length-O,B=[],z=0;z<M;z++)B[z]=0<R?P.i(z+O)>>>R|P.i(z+O+1)<<32-R:P.i(z+O);return new c(B,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,u2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,ra=c}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h2,ku,d2,_f,c0,f2,m2,p2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,w){return f==Array.prototype||f==Object.prototype||(f[b]=w.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function r(f,b){if(b)e:{var w=i;f=f.split(".");for(var k=0;k<f.length-1;k++){var $=f[k];if(!($ in w))break e;w=w[$]}f=f[f.length-1],k=w[f],b=b(k),b!=k&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}function o(f,b){f instanceof String&&(f+="");var w=0,k=!1,$={next:function(){if(!k&&w<f.length){var J=w++;return{value:b(J,f[J]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(f){return f||function(){return o(this,function(b,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function m(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function y(f,b,w){return f.call.apply(f.bind,arguments)}function x(f,b,w){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),f.apply(b,$)}}return function(){return f.apply(b,arguments)}}function _(f,b,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,_.apply(null,arguments)}function E(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function A(f,b){function w(){}w.prototype=b.prototype,f.aa=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(k,$,J){for(var de=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];return b.prototype[$].apply(k,de)}}function N(f){const b=f.length;if(0<b){const w=Array(b);for(let k=0;k<b;k++)w[k]=f[k];return w}return[]}function I(f,b){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(d(k)){const $=f.length||0,J=k.length||0;f.length=$+J;for(let de=0;de<J;de++)f[$+de]=k[de]}else f.push(k)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function U(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var Y=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ne(f,b,w){for(const k in f)b.call(w,f[k],k,f)}function P(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function R(f){const b={};for(const w in f)b[w]=f[w];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,b){let w,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(w in k)f[w]=k[w];for(let J=0;J<O.length;J++)w=O[J],Object.prototype.hasOwnProperty.call(k,w)&&(f[w]=k[w])}}function B(f){var b=1;f=f.split(":");const w=[];for(;0<b&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function z(f){h.setTimeout(()=>{throw f},0)}function L(){var f=ve;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Qe{constructor(){this.h=this.g=null}add(b,w){const k=he.get();k.set(b,w),this.h?this.h.next=k:this.g=k,this.h=k}}var he=new D(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ve=new Qe,V=()=>{const f=h.Promise.resolve(void 0);oe=()=>{f.then(ee)}};var ee=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(w){z(w)}var b=he;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,b),h.removeEventListener("test",w,b)}catch{}return f}();function we(f,b){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(Y){e:{try{q(b.nodeName);var $=!0;break e}catch{}$=!1}$||(b=null)}}else w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&we.aa.h.call(this)}}A(we,le);var xe={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Re=0;function pt(f,b,w,k,$){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!k,this.ha=$,this.key=++Re,this.da=this.fa=!1}function gt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,b,w,k,$){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var de=De(f,b,k,$);return-1<de?(b=f[de],w||(b.fa=!1)):(b=new pt(b,this.src,J,!!k,$),b.fa=w,f.push(b)),b};function kn(f,b){var w=b.type;if(w in f.g){var k=f.g[w],$=Array.prototype.indexOf.call(k,b,void 0),J;(J=0<=$)&&Array.prototype.splice.call(k,$,1),J&&(gt(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function De(f,b,w,k){for(var $=0;$<f.length;++$){var J=f[$];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==k)return $}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Fn={};function Ds(f,b,w,k,$){if(Array.isArray(b)){for(var J=0;J<b.length;J++)Ds(f,b[J],w,k,$);return null}return w=tt(w),f&&f[fe]?f.K(b,w,m(k)?!!k.capture:!1,$):wn(f,b,w,!1,k,$)}function wn(f,b,w,k,$,J){if(!b)throw Error("Invalid event type");var de=m($)?!!$.capture:!!$,Ye=yt(f);if(Ye||(f[Ct]=Ye=new ft(f)),w=Ye.add(b,w,k,de,J),w.proxy)return w;if(k=Ta(),w.proxy=k,k.src=f,k.listener=w,f.addEventListener)ue||($=de),$===void 0&&($=!1),f.addEventListener(b.toString(),k,$);else if(f.attachEvent)f.attachEvent(Ee(b.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ta(){function f(w){return b.call(f.src,f.listener,w)}const b=He;return f}function es(f,b,w,k,$){if(Array.isArray(b))for(var J=0;J<b.length;J++)es(f,b[J],w,k,$);else k=m(k)?!!k.capture:!!k,w=tt(w),f&&f[fe]?(f=f.i,b=String(b).toString(),b in f.g&&(J=f.g[b],w=De(J,w,k,$),-1<w&&(gt(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[b],f.h--)))):f&&(f=yt(f))&&(b=f.g[b.toString()],f=-1,b&&(f=De(b,w,k,$)),(w=-1<f?b[f]:null)&&ts(w))}function ts(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[fe])kn(b.i,f);else{var w=f.type,k=f.proxy;b.removeEventListener?b.removeEventListener(w,k,f.capture):b.detachEvent?b.detachEvent(Ee(w),k):b.addListener&&b.removeListener&&b.removeListener(k),(w=yt(b))?(kn(w,f),w.h==0&&(w.src=null,b[Ct]=null)):gt(f)}}}function Ee(f){return f in Fn?Fn[f]:Fn[f]="on"+f}function He(f,b){if(f.da)f=!0;else{b=new we(b,this);var w=f.listener,k=f.ha||f.src;f.fa&&ts(f),f=w.call(k,b)}return f}function yt(f){return f=f[Ct],f instanceof ft?f:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function tt(f){return typeof f=="function"?f:(f[qe]||(f[qe]=function(b){return f.handleEvent(b)}),f[qe])}function lt(){ce.call(this),this.i=new ft(this),this.M=this,this.F=null}A(lt,ce),lt.prototype[fe]=!0,lt.prototype.removeEventListener=function(f,b,w,k){es(this,f,b,w,k)};function Be(f,b){var w,k=f.F;if(k)for(w=[];k;k=k.F)w.push(k);if(f=f.M,k=b.type||b,typeof b=="string")b=new le(b,f);else if(b instanceof le)b.target=b.target||f;else{var $=b;b=new le(k,f),M(b,$)}if($=!0,w)for(var J=w.length-1;0<=J;J--){var de=b.g=w[J];$=ei(de,k,!0,b)&&$}if(de=b.g=f,$=ei(de,k,!0,b)&&$,$=ei(de,k,!1,b)&&$,w)for(J=0;J<w.length;J++)de=b.g=w[J],$=ei(de,k,!1,b)&&$}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var w=f.g[b],k=0;k<w.length;k++)gt(w[k]);delete f.g[b],f.h--}}this.F=null},lt.prototype.K=function(f,b,w,k){return this.i.add(String(f),b,!1,w,k)},lt.prototype.L=function(f,b,w,k){return this.i.add(String(f),b,!0,w,k)};function ei(f,b,w,k){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var $=!0,J=0;J<b.length;++J){var de=b[J];if(de&&!de.da&&de.capture==w){var Ye=de.listener,Zt=de.ha||de.src;de.fa&&kn(f.i,de),$=Ye.call(Zt,k)!==!1&&$}}return $&&!k.defaultPrevented}function Tn(f,b,w){if(typeof f=="function")w&&(f=_(f,w));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(f,b||0)}function Mh(f){f.g=Tn(()=>{f.g=null,f.i&&(f.i=!1,Mh(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class sp extends ce{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Mh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(f){ce.call(this),this.h=f,this.g={}}A(Ea,ce);var Sa=[];function Aa(f){ne(f.g,function(b,w){this.g.hasOwnProperty(w)&&ts(b)},f),f.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),Aa(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=h.JSON.stringify,No=h.JSON.parse,Ra=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function mc(){}mc.prototype.h=null;function pc(f){return f.h||(f.h=f.i())}function gc(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ks(){le.call(this,"d")}A(ks,le);function yc(){le.call(this,"c")}A(yc,le);var ns={},vc=null;function _r(){return vc=vc||new lt}ns.La="serverreachability";function Do(f){le.call(this,ns.La,f)}A(Do,le);function br(f){const b=_r();Be(b,new Do(b))}ns.STAT_EVENT="statevent";function jh(f,b){le.call(this,ns.STAT_EVENT,f),this.stat=b}A(jh,le);function wt(f){const b=_r();Be(b,new jh(b,f))}ns.Ma="timingevent";function Qt(f,b){le.call(this,ns.Ma,f),this.size=b}A(Qt,le);function qt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function xc(f,b,w,k,$,J){f.info(function(){if(f.g)if(J)for(var de="",Ye=J.split("&"),Zt=0;Zt<Ye.length;Zt++){var Ke=Ye[Zt].split("=");if(1<Ke.length){var an=Ke[0];Ke=Ke[1];var Jt=an.split("_");de=2<=Jt.length&&Jt[1]=="type"?de+(an+"="+Ke+"&"):de+(an+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+b+`
`+w+`
`+de})}function rp(f,b,w,k,$,J,de){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+b+`
`+w+`
`+J+" "+de})}function wr(f,b,w,k){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ca(f,w)+(k?" "+k:"")})}function Vh(f,b){f.info(function(){return"TIMEOUT: "+b})}mi.prototype.info=function(){};function Ca(f,b){if(!f.g)return b;if(!b)return null;try{var w=JSON.parse(b);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var k=w[f];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<$.length;de++)$[de]=""}}}}return ji(w)}catch{return b}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ps={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function ss(){}A(ss,mc),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},is=new ss;function Pn(f,b,w,k){this.j=f,this.i=b,this.l=w,this.R=k||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var _c={},Oo={};function Vi(f,b,w){f.L=1,f.v=ka(ti(b)),f.m=w,f.P=!0,Ms(f,null)}function Ms(f,b){f.F=Date.now(),Ia(f),f.A=ti(f.v);var w=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),Ac(w.i,"t",k),f.C=0,w=f.j.J,f.h=new Lt,f.g=Jh(f.j,w?b:null,!f.m),0<f.O&&(f.M=new sp(_(f.Y,f,f.g),f.O)),b=f.U,w=f.g,k=f.ca;var $="readystatechange";Array.isArray($)||($&&(Sa[0]=$.toString()),$=Sa);for(var J=0;J<$.length;J++){var de=Ds(w,$[J],k||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),br(),xc(f.i,f.u,f.A,f.l,f.R,f.m)}Pn.prototype.ca=function(f){f=f.target;const b=this.M;b&&vi(f)==3?b.j():this.Y(f)},Pn.prototype.Y=function(f){try{if(f==this.g)e:{const Jt=vi(this.g);var b=this.g.Ba();const Hs=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Gh(this.g)))){this.J||Jt!=4||b==7||(b==8||0>=Hs?br(3):br(2)),Er(this);var w=this.g.Z();this.X=w;t:if(Lh(this)){var k=Gh(this.g);f="";var $=k.length,J=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),rs(this);var de="";break t}this.h.i=new h.TextDecoder}for(b=0;b<$;b++)this.h.h=!0,f+=this.h.i.decode(k[b],{stream:!(J&&b==$-1)});k.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=w==200,rp(this.i,this.u,this.A,this.l,this.R,Jt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Zt=this.g;if((Ye=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ye)){var Ke=Ye;break t}}Ke=null}if(w=Ke)wr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,w);else{this.o=!1,this.s=3,wt(12),dn(this),rs(this);break e}}if(this.P){w=!0;let fn;for(;!this.J&&this.C<de.length;)if(fn=Uh(this,de),fn==Oo){Jt==4&&(this.s=4,wt(14),w=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==_c){this.s=4,wt(15),wr(this.i,this.l,de,"[Invalid Chunk]"),w=!1;break}else wr(this.i,this.l,fn,null),Na(this,fn);if(Lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||de.length!=0||this.h.h||(this.s=1,wt(16),w=!1),this.o=this.o&&w,!w)wr(this.i,this.l,de,"[Invalid Chunked Response]"),dn(this),rs(this);else if(0<de.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Fa(an),an.M=!0,wt(11))}}else wr(this.i,this.l,de,null),Na(this,de);Jt==4&&dn(this),this.o&&!this.J&&(Jt==4?Xh(this.j,this):(this.o=!1,Ia(this)))}else up(this.g),w==400&&0<de.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),dn(this),rs(this)}}}catch{}finally{}};function Lh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Uh(f,b){var w=f.C,k=b.indexOf(`
`,w);return k==-1?Oo:(w=Number(b.substring(w,k)),isNaN(w)?_c:(k+=1,k+w>b.length?Oo:(b=b.slice(k,k+w),f.C=k+w,b)))}Pn.prototype.cancel=function(){this.J=!0,dn(this)};function Ia(f){f.S=Date.now()+f.I,Bh(f,f.I)}function Bh(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qt(_(f.ba,f),b)}function Er(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Pn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Vh(this.i,this.A),this.L!=2&&(br(),wt(17)),dn(this),this.s=2,rs(this)):Bh(this,this.S-f)};function rs(f){f.j.G==0||f.J||Xh(f.j,f)}function dn(f){Er(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Aa(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Na(f,b){try{var w=f.j;if(w.G!=0&&(w.g==f||bc(w.h,f))){if(!f.K&&bc(w.h,f)&&w.G==3){try{var k=w.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)qo(w),zo(w);else break e;Dc(w),wt(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=qt(_(w.Za,w),6e3));if(1>=Po(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else zs(w,11)}else if((f.K||w.g==f)&&qo(w),!U(b))for($=w.Da.g.parse(b),b=0;b<$.length;b++){let Ke=$[b];if(w.T=Ke[0],Ke=Ke[1],w.G==2)if(Ke[0]=="c"){w.K=Ke[1],w.ia=Ke[2];const an=Ke[3];an!=null&&(w.la=an,w.j.info("VER="+w.la));const Jt=Ke[4];Jt!=null&&(w.Aa=Jt,w.j.info("SVER="+w.Aa));const Hs=Ke[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(k=1.5*Hs,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const fn=f.g;if(fn){const ds=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var J=k.h;J.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Mo(J,J.h),J.h=null))}if(k.D){const kc=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&(k.ya=kc,ct(k.I,k.D,kc))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var de=f;if(k.qa=Zh(k,k.J?k.ia:null,k.W),de.K){Mn(k.h,de);var Ye=de,Zt=k.L;Zt&&(Ye.I=Zt),Ye.B&&(Er(Ye),Ia(Ye)),k.g=de}else Kh(k);0<w.i.length&&Ho(w)}else Ke[0]!="stop"&&Ke[0]!="close"||zs(w,7);else w.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?zs(w,7):Ic(w):Ke[0]!="noop"&&w.l&&w.l.ta(Ke),w.v=0)}}br(4)}catch{}}var Fh=class{constructor(f,b){this.g=f,this.map=b}};function js(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Po(f){return f.h?1:f.g?f.g.size:0}function bc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Mo(f,b){f.g?f.g.add(b):f.h=b}function Mn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}js.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function wc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.D);return b}return N(f.i)}function ap(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var b=[],w=f.length,k=0;k<w;k++)b.push(f[k]);return b}b=[],w=0;for(k in f)b[w++]=f[k];return b}function jo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var b=[];f=f.length;for(var w=0;w<f;w++)b.push(w);return b}b=[],w=0;for(const k in f)b[w++]=k;return b}}}function Tc(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var w=jo(f),k=ap(f),$=k.length,J=0;J<$;J++)b.call(void 0,k[J],w&&w[J],f)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function op(f,b){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var k=f[w].indexOf("="),$=null;if(0<=k){var J=f[w].substring(0,k);$=f[w].substring(k+1)}else J=f[w];b(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Gt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Gt){this.h=f.h,Oa(this,f.j),this.o=f.o,this.g=f.g,Sr(this,f.s),this.l=f.l;var b=f.i,w=new Ls;w.i=b.i,b.g&&(w.g=new Map(b.g),w.h=b.h),Vs(this,w),this.m=f.m}else f&&(b=String(f).match(Da))?(this.h=!1,Oa(this,b[1]||"",!0),this.o=pi(b[2]||""),this.g=pi(b[3]||"",!0),Sr(this,b[4]),this.l=pi(b[5]||"",!0),Vs(this,b[6]||"",!0),this.m=pi(b[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Gt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Pa(b,Ec,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Pa(b,Ec,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Pa(w,w.charAt(0)=="/"?lp:Sc,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Pa(w,Vo)),f.join("")};function ti(f){return new Gt(f)}function Oa(f,b,w){f.j=w?pi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Sr(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Vs(f,b,w){b instanceof Ls?(f.i=b,Hh(f.i,f.h)):(w||(b=Pa(b,cp)),f.i=new Ls(b,f.h))}function ct(f,b,w){f.i.set(b,w)}function ka(f){return ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function pi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pa(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,zh),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ec=/[#\/\?@]/g,Sc=/[#\?:]/g,lp=/[#\?]/g,cp=/[#\?@]/g,Vo=/#/g;function Ls(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function gi(f){f.g||(f.g=new Map,f.h=0,f.i&&op(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=Ls.prototype,t.add=function(f,b){gi(this),this.i=null,f=as(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function Us(f,b){gi(f),b=as(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Bs(f,b){return gi(f),b=as(f,b),f.g.has(b)}t.forEach=function(f,b){gi(this),this.g.forEach(function(w,k){w.forEach(function($){f.call(b,$,k,this)},this)},this)},t.na=function(){gi(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),w=[];for(let k=0;k<b.length;k++){const $=f[k];for(let J=0;J<$.length;J++)w.push(b[k])}return w},t.V=function(f){gi(this);let b=[];if(typeof f=="string")Bs(this,f)&&(b=b.concat(this.g.get(as(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)b=b.concat(f[w])}return b},t.set=function(f,b){return gi(this),this.i=null,f=as(this,f),Bs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Ac(f,b,w){Us(f,b),0<w.length&&(f.i=null,f.g.set(as(f,b),N(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var w=0;w<b.length;w++){var k=b[w];const J=encodeURIComponent(String(k)),de=this.V(k);for(k=0;k<de.length;k++){var $=J;de[k]!==""&&($+="="+encodeURIComponent(String(de[k]))),f.push($)}}return this.i=f.join("&")};function as(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Hh(f,b){b&&!f.j&&(gi(f),f.i=null,f.g.forEach(function(w,k){var $=k.toLowerCase();k!=$&&(Us(this,k),Ac(this,$,w))},f)),f.j=b}function Ma(f,b){const w=new mi;if(h.Image){const k=new Image;k.onload=E(yi,w,"TestLoadImage: loaded",!0,b,k),k.onerror=E(yi,w,"TestLoadImage: error",!1,b,k),k.onabort=E(yi,w,"TestLoadImage: abort",!1,b,k),k.ontimeout=E(yi,w,"TestLoadImage: timeout",!1,b,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else b(!1)}function Li(f,b){const w=new mi,k=new AbortController,$=setTimeout(()=>{k.abort(),yi(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:k.signal}).then(J=>{clearTimeout($),J.ok?yi(w,"TestPingServer: ok",!0,b):yi(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),yi(w,"TestPingServer: error",!1,b)})}function yi(f,b,w,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(w)}catch{}}function ja(){this.g=new Ra}function os(f,b,w){const k=w||"";try{Tc(f,function($,J){let de=$;m($)&&(de=ji($)),b.push(k+J+"="+encodeURIComponent(de))})}catch($){throw b.push(k+"type="+encodeURIComponent("_badmap")),$}}function Ar(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Ar,mc),Ar.prototype.g=function(){return new Fs(this.l,this.j)},Ar.prototype.i=function(f){return function(){return f}}({});function Fs(f,b){lt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Fs,lt),t=Fs.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,cs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ls(this):cs(this),this.readyState==3&&Rc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ls(this))},t.Qa=function(f){this.g&&(this.response=f,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.v=null,cs(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function cs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Cc(f){let b="";return ne(f,function(w,k){b+=k,b+=":",b+=w,b+=`\r
`}),b}function rn(f,b,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Cc(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):ct(f,b,w))}function nt(f){lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(nt,lt);var Lo=/^https?$/i,Va=["POST","PUT"];t=nt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?pc(this.o):pc(is),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){qh(this,J);return}if(f=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)w.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())w.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),$=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Va,b,void 0))||k||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of w)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){qh(this,J)}};function qh(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Uo(f),us(f)}function Uo(f){f.A||(f.A=!0,Be(f,"complete"),Be(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Be(this,"complete"),Be(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},t.bb=function(){Bo(this)};function Bo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||vi(f)!=4||f.Z()!=2)){if(f.u&&vi(f)==4)Tn(f.Ea,0,f);else if(Be(f,"readystatechange"),vi(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var k;if(k=de===0){var $=String(f.D).match(Da)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),k=!Lo.test($?$.toLowerCase():"")}w=k}if(w)Be(f,"complete"),Be(f,"success");else{f.m=6;try{var J=2<vi(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Uo(f)}}finally{us(f)}}}}function us(f,b){if(f.g){La(f);const w=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Be(f,"ready");try{w.onreadystatechange=k}catch{}}}function La(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function vi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),No(b)}};function Gh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function up(f){const b={};f=(f.g&&2<=vi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(U(f[k]))continue;var w=B(f[k]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[$]||[];b[$]=J,J.push(w)}P(b,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function Fo(f){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,f),this.cb=Ua("retryDelaySeedMs",1e4,f),this.Wa=Ua("forwardChannelMaxRetries",2,f),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new js(f&&f.concurrentRequestLimit),this.Da=new ja,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fo.prototype,t.la=8,t.G=1,t.connect=function(f,b,w,k){wt(0),this.W=f,this.H=b||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=Zh(this,null,this.W),Ho(this)};function Ic(f){if($h(f),f.G==3){var b=f.U++,w=ti(f.I);if(ct(w,"SID",f.K),ct(w,"RID",b),ct(w,"TYPE","terminate"),Ba(f,w),b=new Pn(f,f.j,b),b.L=2,b.v=ka(ti(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=b.v,w=!0),w||(b.g=Jh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ia(b)}Qh(f)}function zo(f){f.g&&(Fa(f),f.g.cancel(),f.g=null)}function $h(f){zo(f),f.u&&(h.clearTimeout(f.u),f.u=null),qo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ho(f){if(!ko(f.h)&&!f.s){f.s=!0;var b=f.Ga;oe||V(),me||(oe(),me=!0),ve.add(b,f),f.B=0}}function hp(f,b){return Po(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qt(_(f.Ga,f,b),Oc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Pn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),M(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Yh(this,$,b),w=ti(this.I),ct(w,"RID",f),ct(w,"CVER",22),this.D&&ct(w,"X-HTTP-Session-Id",this.D),Ba(this,w),J&&(this.O?b="headers="+encodeURIComponent(String(Cc(J)))+"&"+b:this.m&&rn(w,this.m,J)),Mo(this.h,$),this.Ua&&ct(w,"TYPE","init"),this.P?(ct(w,"$req",b),ct(w,"SID","null"),$.T=!0,Vi($,w,null)):Vi($,w,b),this.G=2}}else this.G==3&&(f?Nc(this,f):this.i.length==0||ko(this.h)||Nc(this))};function Nc(f,b){var w;b?w=b.l:w=f.U++;const k=ti(f.I);ct(k,"SID",f.K),ct(k,"RID",w),ct(k,"AID",f.T),Ba(f,k),f.m&&f.o&&rn(k,f.m,f.o),w=new Pn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Yh(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Mo(f.h,w),Vi(w,k,b)}function Ba(f,b){f.H&&ne(f.H,function(w,k){ct(b,k,w)}),f.l&&Tc({},function(w,k){ct(b,k,w)})}function Yh(f,b,w){w=Math.min(f.i.length,w);var k=f.l?_(f.l.Na,f.l,f):null;e:{var $=f.i;let J=-1;for(;;){const de=["count="+w];J==-1?0<w?(J=$[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Ye=!0;for(let Zt=0;Zt<w;Zt++){let Ke=$[Zt].g;const an=$[Zt].map;if(Ke-=J,0>Ke)J=Math.max(0,$[Zt].g-100),Ye=!1;else try{os(an,de,"req"+Ke+"_")}catch{k&&k(an)}}if(Ye){k=de.join("&");break e}}}return f=f.i.splice(0,w),b.D=f,k}function Kh(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;oe||V(),me||(oe(),me=!0),ve.add(b,f),f.v=0}}function Dc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qt(_(f.Fa,f),Oc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Wh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qt(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),zo(this),Wh(this))};function Fa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Wh(f){f.g=new Pn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=ti(f.qa);ct(b,"RID","rpc"),ct(b,"SID",f.K),ct(b,"AID",f.T),ct(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ct(b,"TO",f.ja),ct(b,"TYPE","xmlhttp"),Ba(f,b),f.m&&f.o&&rn(b,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=ka(ti(b)),w.m=null,w.P=!0,Ms(w,f)}t.Za=function(){this.C!=null&&(this.C=null,zo(this),Dc(this),wt(19))};function qo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Xh(f,b){var w=null;if(f.g==b){qo(f),Fa(f),f.g=null;var k=2}else if(bc(f.h,b))w=b.D,Mn(f.h,b),k=1;else return;if(f.G!=0){if(b.o)if(k==1){w=b.m?b.m.length:0,b=Date.now()-b.F;var $=f.B;k=_r(),Be(k,new Qt(k,w)),Ho(f)}else Kh(f);else if($=b.s,$==3||$==0&&0<b.X||!(k==1&&hp(f,b)||k==2&&Dc(f)))switch(w&&0<w.length&&(b=f.h,b.i=b.i.concat(w)),$){case 1:zs(f,5);break;case 4:zs(f,10);break;case 3:zs(f,6);break;default:zs(f,2)}}}function Oc(f,b){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*b}function zs(f,b){if(f.j.info("Error code "+b),b==2){var w=_(f.fb,f),k=f.Xa;const $=!k;k=new Gt(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Oa(k,"https"),ka(k),$?Ma(k.toString(),w):Li(k.toString(),w)}else wt(2);f.G=0,f.l&&f.l.sa(b),Qh(f),$h(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Qh(f){if(f.G=0,f.ka=[],f.l){const b=wc(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ka,b),I(f.ka,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.ra()}}function Zh(f,b,w){var k=w instanceof Gt?ti(w):new Gt(w);if(k.g!="")b&&(k.g=b+"."+k.g),Sr(k,k.s);else{var $=h.location;k=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;var J=new Gt(null);k&&Oa(J,k),b&&(J.g=b),$&&Sr(J,$),w&&(J.l=w),k=J}return w=f.D,b=f.ya,w&&b&&ct(k,w,b),ct(k,"VER",f.la),Ba(f,k),k}function Jh(f,b,w){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new nt(new Ar({eb:w})):new nt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}t=ed.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Go(){}Go.prototype.g=function(f,b){return new jn(f,b)};function jn(f,b){lt.call(this),this.g=new Fo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!U(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!U(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new hs(this)}A(jn,lt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Ic(this.g)},jn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=ji(f),f=w);b.i.push(new Fh(b.Ya++,f)),b.G==3&&Ho(b)},jn.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,jn.aa.N.call(this)};function td(f){ks.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}A(td,ks);function nd(){yc.call(this),this.status=1}A(nd,yc);function hs(f){this.g=f}A(hs,ed),hs.prototype.ua=function(){Be(this.g,"a")},hs.prototype.ta=function(f){Be(this.g,new td(f))},hs.prototype.sa=function(f){Be(this.g,new nd)},hs.prototype.ra=function(){Be(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,p2=function(){return new Go},m2=function(){return _r()},f2=ns,c0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,_f=Tr,Ps.COMPLETE="complete",d2=Ps,gc.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ku=gc,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,h2=nt}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",i1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new bm("@firebase/firestore");function wl(){return yo.logLevel}function ge(t,...e){if(yo.logLevel<=Ge.DEBUG){const n=e.map(bv);yo.debug(`Firestore (${nc}): ${t}`,...n)}}function mr(t,...e){if(yo.logLevel<=Ge.ERROR){const n=e.map(bv);yo.error(`Firestore (${nc}): ${t}`,...n)}}function Ul(t,...e){if(yo.logLevel<=Ge.WARN){const n=e.map(bv);yo.warn(`Firestore (${nc}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,g2(t,i,n)}function g2(t,e,n){let i=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw mr(i),new Error(i)}function it(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||g2(e,r,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class eM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new y2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class nM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new nM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=rM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function u0(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return Le(i,r);{const o=v2(),c=aM(o.encode(r1(t,n)),o.encode(r1(e,n)));return c!==0?c:Le(i,r)}}n+=i>65535?2:1}return Le(t.length,e.length)}function r1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Bl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-62135596800,o1=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*o1);return new bt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a1)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o1}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-a1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new bt(0,0))}static max(){return new Oe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="__name__";class vs{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=vs.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Le(e.length,n.length)}static compareSegments(e,n){const i=vs.isNumericId(e),r=vs.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?vs.extractNumericId(e).compare(vs.extractNumericId(n)):u0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class xt extends vs{construct(e,n,i){return new xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const oM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends vs{construct(e,n,i){return new _n(e,n,i)}static isValidIdentifier(e){return oM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l1}static keyField(){return new _n([l1])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(xt.fromString(e))}static fromName(e){return new be(xt.fromString(e).popFirst(5))}static empty(){return new be(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function lM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(i===1e9?new bt(n+1,0):new bt(n,i));return new ca(r,be.empty(),e)}function cM(t){return new ca(t.readTime,t.key,Zu)}class ca{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ca(Oe.min(),be.empty(),Zu)}static max(){return new ca(Oe.max(),be.empty(),Zu)}}function uM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==hM)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,i)=>{n(e)})}static reject(e){return new ae((n,i)=>{i(e)})}static waitFor(e){return new ae((n,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&n()},d=>i(d))}),c=!0,o===r&&n()})}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next(r=>r?ae.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new ae((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(y=>{c[m]=y,++h,h===o&&i(c)},y=>r(y))}})}static doWhile(e,n){return new ae((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function fM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-1;function Em(t){return t==null}function Lf(t){return t===0&&1/t==-1/0}function mM(t){return typeof t=="number"&&Number.isInteger(t)&&!Lf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="";function pM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c1(e)),e=gM(t.get(n),e);return c1(e)}function gM(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case _2:n+="";break;default:n+=o}}return n}function c1(t){return t+_2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??xn.RED,this.left=r??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new xn(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new ci([])}unionWith(e){let n=new nn(_n.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new w2("Invalid base64 string: "+o):o}}(e);return new bn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const yM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=yM.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="server_timestamp",E2="__type__",S2="__previous_value__",A2="__local_write_time__";function Sm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[E2])===null||n===void 0?void 0:n.stringValue)===T2}function Am(t){const e=t.mapValue.fields[S2];return Sm(e)?Am(e):e}function Ju(t){const e=ua(t.mapValue.fields[A2].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,i,r,o,c,h,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const Uf="(default)";class eh{constructor(e,n){this.projectId=e,this.database=n||Uf}static empty(){return new eh("","")}get isDefaultDatabase(){return this.database===Uf}isEqual(e){return e instanceof eh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__type__",xM="__max__",of={mapValue:{}},C2="__vector__",Bf="value";function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sm(t)?4:bM(t)?9007199254740991:_M(t)?10:11:Ce(28295,{value:t})}function Ss(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=ua(r.timestampValue),h=ua(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return ha(r.bytesValue).isEqual(ha(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return zt(r.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return zt(r.integerValue)===zt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=zt(r.doubleValue),h=zt(o.doubleValue);return c===h?Lf(c)===Lf(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(u1(c)!==u1(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Ss(c[d],h[d])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function th(t,e){return(t.values||[]).find(n=>Ss(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=da(t),i=da(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(o,c){const h=zt(o.integerValue||o.doubleValue),d=zt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return d1(t.timestampValue,e.timestampValue);case 4:return d1(Ju(t),Ju(e));case 5:return u0(t.stringValue,e.stringValue);case 6:return function(o,c){const h=ha(o),d=ha(c);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Le(h[m],d[m]);if(y!==0)return y}return Le(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Le(zt(o.latitude),zt(c.latitude));return h!==0?h:Le(zt(o.longitude),zt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f1(t.arrayValue,e.arrayValue);case 10:return function(o,c){var h,d,m,y;const x=o.fields||{},_=c.fields||{},E=(h=x[Bf])===null||h===void 0?void 0:h.arrayValue,A=(d=_[Bf])===null||d===void 0?void 0:d.arrayValue,N=Le(((m=E?.values)===null||m===void 0?void 0:m.length)||0,((y=A?.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:f1(E,A)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===of.mapValue&&c===of.mapValue)return 0;if(o===of.mapValue)return 1;if(c===of.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let x=0;x<d.length&&x<y.length;++x){const _=u0(d[x],y[x]);if(_!==0)return _;const E=Fl(h[d[x]],m[y[x]]);if(E!==0)return E}return Le(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{Pe:n})}}function d1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ua(t),i=ua(e),r=Le(n.seconds,i.seconds);return r!==0?r:Le(n.nanos,i.nanos)}function f1(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Fl(n[r],i[r]);if(o)return o}return Le(n.length,i.length)}function zl(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ua(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=h0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${h0(n.fields[c])}`;return r+"}"}(t.mapValue):Ce(61005,{value:t})}function bf(t){switch(da(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(t);return e?16+bf(e):16;case 5:return 2*t.stringValue.length;case 6:return ha(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+bf(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return _a(i.fields,(o,c)=>{r+=o.length+bf(c)}),r}(t.mapValue);default:throw Ce(13486,{value:t})}}function Ff(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function m1(t){return!!t&&"nullValue"in t}function p1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function _M(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[R2])===null||n===void 0?void 0:n.stringValue)===C2}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Uu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=_n.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}c?i[h.lastSegment()]=Uu(c):r.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];wf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_a(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Kn(Uu(this.value))}}function I2(t){const e=[];return _a(t.fields,(n,i)=>{const r=new _n([n]);if(wf(i)){const o=I2(i.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,i,r,o,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Oe.min(),Oe.min(),Oe.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,r){return new Cn(e,1,n,Oe.min(),i,r,0)}static newNoDocument(e,n){return new Cn(e,2,n,Oe.min(),Oe.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Oe.min(),Oe.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function g1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],c=t.position[r];if(o.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),n.key):i=Fl(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function wM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{}class Xt extends N2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new EM(e,n,i):n==="array-contains"?new RM(e,i):n==="in"?new CM(e,i):n==="not-in"?new IM(e,i):n==="array-contains-any"?new NM(e,i):new Xt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new SM(e,i):new AM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends N2{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Wi(e,n)}matches(e){return D2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function D2(t){return t.op==="and"}function O2(t){return TM(t)&&D2(t)}function TM(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function f0(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(O2(t))return t.filters.map(e=>f0(e)).join(",");{const e=t.filters.map(n=>f0(n)).join(",");return`${t.op}(${e})`}}function k2(t,e){return t instanceof Xt?function(i,r){return r instanceof Xt&&i.op===r.op&&i.field.isEqual(r.field)&&Ss(i.value,r.value)}(t,e):t instanceof Wi?function(i,r){return r instanceof Wi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&k2(c,r.filters[h]),!0):!1}(t,e):void Ce(19439)}function P2(t){return t instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof Wi?function(n){return n.op.toString()+" {"+n.getFilters().map(P2).join(" ,")+"}"}(t):"Filter"}class EM extends Xt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class SM extends Xt{constructor(e,n){super(e,"in",n),this.keys=M2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AM extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=M2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>be.fromName(i.referenceValue))}class RM extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tv(n)&&th(n.arrayValue,this.value)}}class CM extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class IM extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!th(this.value.arrayValue,n)}}class NM extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>th(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function v1(t,e=null,n=[],i=[],r=null,o=null,c=null){return new DM(t,e,n,i,r,o,c)}function Ev(t){const e=ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>f0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zl(i)).join(",")),e.Ie=n}return e.Ie}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y1(t.startAt,e.startAt)&&y1(t.endAt,e.endAt)}function m0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OM(t,e,n,i,r,o,c,h){return new Ao(t,e,n,i,r,o,c,h)}function Rm(t){return new Ao(t)}function x1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Av(t){return t.collectionGroup!==null}function Ol(t){const e=ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new nn(_n.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new nh(o,i))}),n.has(_n.keyField().canonicalString())||e.Ee.push(new nh(_n.keyField(),i))}return e.Ee}function _s(t){const e=ke(t);return e.de||(e.de=kM(e,Ol(t))),e.de}function kM(t,e){if(t.limitType==="F")return v1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new nh(r.field,o)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return v1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function p0(t,e){const n=t.filters.concat([e]);return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zf(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cm(t,e){return Sv(_s(t),_s(e))&&t.limitType===e.limitType}function j2(t){return`${Ev(_s(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>P2(r)).join(", ")}]`),Em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zl(r)).join(",")),`Target(${i})`}(_s(t))}; limitType=${t.limitType})`}function Im(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):be.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Ol(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(c,h,d){const m=g1(c,h,d);return c.inclusive?m<=0:m<0}(i.startAt,Ol(i),r)||i.endAt&&!function(c,h,d){const m=g1(c,h,d);return c.inclusive?m>=0:m>0}(i.endAt,Ol(i),r))}(t,e)}function PM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V2(t){return(e,n)=>{let i=!1;for(const r of Ol(t)){const o=MM(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function MM(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Fl(d,m):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return b2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new Dt(be.comparator);function pr(){return jM}const L2=new Dt(be.comparator);function Pu(...t){let e=L2;for(const n of t)e=e.insert(n.key,n);return e}function U2(t){let e=L2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function oo(){return Bu()}function B2(){return Bu()}function Bu(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const VM=new Dt(be.comparator),LM=new nn(be.comparator);function $e(...t){let e=LM;for(const n of t)e=e.add(n);return e}const UM=new nn(Le);function BM(){return UM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function F2(t){return{integerValue:""+t}}function z2(t,e){return mM(e)?F2(e):Rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function FM(t,e,n){return t instanceof ih?function(r,o){const c={fields:{[E2]:{stringValue:T2},[A2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Sm(o)&&(o=Am(o)),o&&(c.fields[S2]=o),{mapValue:c}}(n,e):t instanceof ql?q2(t,e):t instanceof sh?G2(t,e):function(r,o){const c=H2(r,o),h=_1(c)+_1(r.Re);return d0(c)&&d0(r.Re)?F2(h):Rv(r.serializer,h)}(t,e)}function zM(t,e,n){return t instanceof ql?q2(t,e):t instanceof sh?G2(t,e):n}function H2(t,e){return t instanceof rh?function(i){return d0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class ih extends Nm{}class ql extends Nm{constructor(e){super(),this.elements=e}}function q2(t,e){const n=$2(e);for(const i of t.elements)n.some(r=>Ss(r,i))||n.push(i);return{arrayValue:{values:n}}}class sh extends Nm{constructor(e){super(),this.elements=e}}function G2(t,e){let n=$2(e);for(const i of t.elements)n=n.filter(r=>!Ss(r,i));return{arrayValue:{values:n}}}class rh extends Nm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function _1(t){return zt(t.integerValue||t.doubleValue)}function $2(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.field=e,this.transform=n}}function HM(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ql&&r instanceof ql||i instanceof sh&&r instanceof sh?Bl(i.elements,r.elements,Ss):i instanceof rh&&r instanceof rh?Ss(i.Re,r.Re):i instanceof ih&&r instanceof ih}(t.transform,e.transform)}class qM{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dm{}function Y2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iv(t.key,Ii.none()):new _h(t.key,t.data,Ii.none());{const n=t.data,i=Kn.empty();let r=new nn(_n.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new ba(t.key,i,new ci(r.toArray()),Ii.none())}}function GM(t,e,n){t instanceof _h?function(r,o,c){const h=r.value.clone(),d=w1(r.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ba?function(r,o,c){if(!Tf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=w1(r.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(K2(r)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Fu(t,e,n,i){return t instanceof _h?function(o,c,h,d){if(!Tf(o.precondition,c))return h;const m=o.value.clone(),y=T1(o.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof ba?function(o,c,h,d){if(!Tf(o.precondition,c))return h;const m=T1(o.fieldTransforms,d,c),y=c.data;return y.setAll(K2(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(t,e,n,i):function(o,c,h){return Tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function $M(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=H2(i.transform,r||null);o!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,o))}return n||null}function b1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bl(i,r,(o,c)=>HM(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _h extends Dm{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ba extends Dm{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function w1(t,e,n){const i=new Map;it(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const o=t[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,zM(c,h,n[r]))}return i}function T1(t,e,n){const i=new Map;for(const r of t){const o=r.transform,c=n.data.field(r.field);i.set(r.field,FM(o,c,e))}return i}class Iv extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YM extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&GM(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=B2();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(r.key)?null:h;const d=Y2(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,i)=>b1(n,i))&&Bl(this.baseMutations,e.baseMutations,(n,i)=>b1(n,i))}}class Nv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){it(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return VM}();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Nv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Xe;function QM(t){switch(t){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function W2(t){if(t===void 0)return mr("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Kt.OK:return ie.OK;case Kt.CANCELLED:return ie.CANCELLED;case Kt.UNKNOWN:return ie.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ie.INTERNAL;case Kt.UNAVAILABLE:return ie.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ie.NOT_FOUND;case Kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Kt.ABORTED:return ie.ABORTED;case Kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Kt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:t})}}(Xe=Kt||(Kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new ra([4294967295,4294967295],0);function E1(t){const e=v2().encode(t),n=new u2;return n.update(e),new Uint8Array(n.digest())}function S1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ra([n,i],0),new ra([r,o],0)]}class Dv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(i<0)throw new Mu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ra.fromNumber(this.pe)}we(e,n,i){let r=e.add(n.multiply(ra.fromNumber(i)));return r.compare(ZM)===1&&(r=new ra([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=E1(e),[i,r]=S1(n);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);if(!this.be(c))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Dv(o,r,n);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const n=E1(e),[i,r]=S1(n);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Om(Oe.min(),r,new Dt(Le),pr(),$e())}}class bh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new bh(i,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,i,r){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=r}}class X2{constructor(e,n){this.targetId=e,this.Ce=n}}class Q2{constructor(e,n,i=bn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class A1{constructor(){this.Fe=0,this.Me=R1(),this.xe=bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),n=$e(),i=$e();return this.Me.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ce(38017,{changeType:o})}}),new bh(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=R1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class JM{constructor(e){this.ze=e,this.je=new Map,this.He=pr(),this.Je=lf(),this.Ye=lf(),this.Ze=new Dt(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,i=e.Ce.count,r=this._t(n);if(r){const o=r.target;if(m0(o))if(i===0){const c=new be(o.path);this.tt(n,c,Cn.newNoDocument(c,Oe.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this.ut(n);if(c!==i){const h=this.ct(e),d=h?this.lt(h,e,c):1;if(d!==0){this.st(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let c,h;try{c=ha(i).toUint8Array()}catch(d){if(d instanceof w2)return Ul("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Dv(c,r,o)}catch(d){return Ul(d instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,o,null),r++)}),r}It(e){const n=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&m0(h.target)){const d=new be(h.target.path);this.Et(d).has(c)||this.dt(c,d)||this.tt(c,d,Cn.newNoDocument(d,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let i=$e();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const r=new Om(e,n,this.Ze,this.He,i);return this.He=pr(),this.Je=lf(),this.Ye=lf(),this.Ze=new Dt(Le),r}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new A1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new nn(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new nn(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new A1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function lf(){return new Dt(be.comparator)}function R1(){return new Dt(be.comparator)}const e3={asc:"ASCENDING",desc:"DESCENDING"},t3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n3={and:"AND",or:"OR"};class i3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g0(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s3(t,e){return Hf(t,e.toTimestamp())}function bs(t){return it(!!t,49232),Oe.fromTimestamp(function(n){const i=ua(n);return new bt(i.seconds,i.nanos)}(t))}function Ov(t,e){return y0(t,e).canonicalString()}function y0(t,e){const n=function(r){return new xt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J2(t){const e=xt.fromString(t);return it(sR(e),10190,{key:e.toString()}),e}function v0(t,e){return Ov(t.databaseId,e.path)}function py(t,e){const n=J2(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(tR(n))}function eR(t,e){return Ov(t.databaseId,e)}function r3(t){const e=J2(t);return e.length===4?xt.emptyPath():tR(e)}function x0(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tR(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function C1(t,e,n){return{name:v0(t,e),fields:n.value.mapValue.fields}}function a3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string",58123),bn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),bn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=m.code===void 0?ie.UNKNOWN:W2(m.code);return new pe(y,m.message||"")}(c);n=new Q2(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=py(t,i.document.name),o=bs(i.document.updateTime),c=i.document.createTime?bs(i.document.createTime):Oe.min(),h=new Kn({mapValue:{fields:i.document.fields}}),d=Cn.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Ef(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=py(t,i.document),o=i.readTime?bs(i.readTime):Oe.min(),c=Cn.newNoDocument(r,o),h=i.removedTargetIds||[];n=new Ef([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=py(t,i.document),o=i.removedTargetIds||[];n=new Ef([],o,r,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new XM(r,o),h=i.targetId;n=new X2(h,c)}}return n}function o3(t,e){let n;if(e instanceof _h)n={update:C1(t,e.key,e.value)};else if(e instanceof Iv)n={delete:v0(t,e.key)};else if(e instanceof ba)n={update:C1(t,e.key,e.data),updateMask:g3(e.fieldMask)};else{if(!(e instanceof YM))return Ce(16599,{ft:e.type});n={verify:v0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rh)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ce(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:s3(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce(27497)}(t,e.precondition)),n}function l3(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map(n=>function(r,o){let c=r.updateTime?bs(r.updateTime):bs(o);return c.isEqual(Oe.min())&&(c=bs(o)),new qM(c,r.transformResults||[])}(n,e))):[]}function c3(t,e){return{documents:[eR(t,e.path)]}}function u3(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=eR(t,r);const o=function(m){if(m.length!==0)return iR(Wi.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(_){return{field:El(_.field),direction:f3(_.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=g0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:r}}function h3(t){let e=r3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){it(i===1,65062);const y=n.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(x){const _=nR(x);return _ instanceof Wi&&O2(_)?_.getFilters():[_]}(n.where));let c=[];n.orderBy&&(c=function(x){return x.map(_=>function(A){return new nh(Sl(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let h=null;n.limit&&(h=function(x){let _;return _=typeof x=="object"?x.value:x,Em(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(x){const _=!!x.before,E=x.values||[];return new Hl(E,_)}(n.startAt));let m=null;return n.endAt&&(m=function(x){const _=!x.before,E=x.values||[];return new Hl(E,_)}(n.endAt)),OM(e,r,c,o,h,"F",d,m)}function d3(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Sl(n.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Sl(n.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xt.create(Sl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wi.create(n.compositeFilter.filters.map(i=>nR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function f3(t){return e3[t]}function m3(t){return t3[t]}function p3(t){return n3[t]}function El(t){return{fieldPath:t.canonicalString()}}function Sl(t){return _n.fromServerFormat(t.fieldPath)}function iR(t){return t instanceof Xt?function(n){if(n.op==="=="){if(p1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(m1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(m1(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:m3(n.op),value:n.value}}}(t):t instanceof Wi?function(n){const i=n.getFilters().map(r=>iR(r));return i.length===1?i[0]:{compositeFilter:{op:p3(n.op),filters:i}}}(t):Ce(54877,{filter:t})}function g3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,i,r,o=Oe.min(),c=Oe.min(),h=bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.wt=e}}function v3(t){const e=h3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.Cn=new _3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ca.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class _3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new nn(xt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rR=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(rR,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Gl(0)}static lr(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="LruGarbageCollector",b3=1048576;function D1([t,e],[n,i]){const r=Le(t,n);return r===0?Le(e,i):r}class w3{constructor(e){this.Er=e,this.buffer=new nn(D1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();D1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(N1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?ge(N1,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.mr(3e5)})}}class E3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Tm.le);const i=new w3(n);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(I1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,r,o,c,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,h=Date.now(),this.removeTargets(e,i,n))).next(x=>(o=x,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(m=Date.now(),wl()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${x} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:x})))}}function S3(t,e){return new E3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Fu(i.mutation,r,ci.empty(),bt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,n,i=$e()){const r=oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let c=Pu();return o.forEach((h,d)=>{c=c.insert(h,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,$e()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,i,r){let o=pr();const c=Bu(),h=function(){return Bu()}();return n.forEach((d,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof ba)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Fu(y.mutation,m,y.mutation.getFieldMask(),bt.now())):c.set(m.key,ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var x;return h.set(m,new R3(y,(x=c.get(m))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,n){const i=Bu();let r=new Dt((c,h)=>c-h),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||ci.empty();y=h.applyToLocalView(m,y),i.set(d,y);const x=(r.get(h.batchId)||$e()).add(d);r=r.insert(h.batchId,x)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,x=B2();y.forEach(_=>{if(!o.has(_)){const E=Y2(n.get(_),i.get(_));E!==null&&x.set(_,E),o=o.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Av(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):ae.resolve(oo());let h=Zu,d=o;return c.next(m=>ae.forEach(m,(y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{d=d.insert(y,_)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,$e())).next(y=>({batchId:h,changes:U2(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(i=>{let r=Pu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(e,o).next(h=>ae.forEach(h,d=>{const m=function(x,_){return new Ao(_,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(y=>{y.forEach((x,_)=>{c=c.insert(x,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(c=>{o.forEach((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Cn.newInvalidDocument(y)))});let h=Pu();return c.forEach((d,m)=>{const y=o.get(d);y!==void 0&&Fu(y.mutation,m,ci.empty(),bt.now()),Im(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:bs(r.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:v3(r.bundledQuery),readTime:bs(r.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.overlays=new Dt(be.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=oo();return ae.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.St(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const r=oo(),o=n.length+1,c=new be(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Dt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=oo(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=oo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=r)););return ae.resolve(h)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new WM(n,i));let o=this.Qr.get(n);o===void 0&&(o=$e(),this.Qr.set(n,o)),this.Qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.$r=new nn(un.Ur),this.Kr=new nn(un.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new un(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new un(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new be(new xt([])),i=new un(n,e),r=new un(n,e+1),o=[];return this.Kr.forEachInRange([i,r],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new be(new xt([])),i=new un(n,e),r=new un(n,e+1);let o=$e();return this.Kr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new un(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return be.comparator(e.key,n.key)||Le(e.Zr,n.Zr)}static Wr(e,n){return Le(e.Zr,n.Zr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new nn(un.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KM(o,n,i,r);this.mutationQueue.push(c);for(const h of r)this.Xr=this.Xr.add(new un(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ti(i),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?wv:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),r=new un(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,r],c=>{const h=this.ei(c.Zr);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn(Le);return n.forEach(r=>{const o=new un(r,0),c=new un(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],h=>{i=i.add(h.Zr)})}),ae.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;be.isDocumentKey(o)||(o=o.child(""));const c=new un(new be(o),0);let h=new nn(Le);return this.Xr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(d.Zr)),!0)},c),ae.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){it(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ae.forEach(n.mutations,r=>{const o=new un(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new un(n,0),r=this.Xr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ii=e,this.docs=function(){return new Dt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,c=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let i=pr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Cn.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=pr();const c=n.path,h=new be(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||uM(cM(y),i)<=0||(r.has(y.key)||Im(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ce(9500)}si(e,n){return ae.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new P3(this)}getSize(e){return ae.resolve(this.size)}}class P3 extends A3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.persistence=e,this.oi=new Ro(n=>Ev(n),Sv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new kv,this.targetCount=0,this.ui=Gl.cr()}forEachTarget(e,n){return this.oi.forEach((i,r)=>n(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.ci={},this.overlays={},this.li=new Tm(0),this.hi=!1,this.hi=!0,this.Pi=new D3,this.referenceDelegate=e(this),this.Ti=new M3(this),this.indexManager=new x3,this.remoteDocumentCache=function(r){return new k3(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new y3(n),this.Ei=new I3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new O3(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const r=new j3(this.li.next());return this.referenceDelegate.di(),i(r).next(o=>this.referenceDelegate.Ai(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ri(e,n){return ae.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class j3 extends dM{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Vi=new kv,this.mi=null}static fi(e){return new Pv(e)}get gi(){if(this.mi)return this.mi;throw Ce(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,i=>{const r=be.fromPath(i);return this.pi(e,r).next(o=>{o||n.removeEntry(r,Oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class qf{constructor(e,n){this.persistence=e,this.yi=new Ro(i=>pM(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=S3(this,n)}static fi(e,n){return new qf(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(o=>o?ae.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.si(e,c=>this.Dr(e,c,n).next(h=>{h||(i++,o.removeEntry(c,Oe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bf(e.data.value)),n}Dr(e,n,i){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return ae.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ds=i,this.As=r}static Rs(e,n){let i=$e(),r=$e();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Mv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Pk()?8:fM(Dn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,n,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new V3;return this.Ss(e,n,c).next(h=>{if(o.result=h,this.fs)return this.Ds(e,n,c,h.size)})}).next(()=>o.result)}Ds(e,n,i,r){return i.documentReadCount<this.gs?(wl()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(wl()<=Ge.DEBUG&&ge("QueryEngine","Query:",Tl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(wl()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):ae.resolve())}ws(e,n){if(x1(n))return ae.resolve(null);let i=_s(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=zf(n,null,"F"),i=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=$e(...o);return this.ys.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.vs(n,h);return this.Cs(n,m,c,d.readTime)?this.ws(e,zf(n,null,"F")):this.Fs(e,m,n,d)}))})))}bs(e,n,i,r){return x1(n)||r.isEqual(Oe.min())?ae.resolve(null):this.ys.getDocuments(e,i).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,i,r)?ae.resolve(null):(wl()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tl(n)),this.Fs(e,c,n,lM(r,Zu)).next(h=>h))})}vs(e,n){let i=new nn(V2(e));return n.forEach((r,o)=>{Im(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,i){return wl()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ys.getDocumentsMatchingQuery(e,n,ca.min(),i)}Fs(e,n,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",U3=3e8;class B3{constructor(e,n,i,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new Dt(Le),this.Os=new Ro(o=>Ev(o),Sv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function F3(t,e,n,i){return new B3(t,e,n,i)}async function oR(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let d=$e();for(const m of r){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:h}))})})}function z3(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const x=m.batch,_=x.keys();let E=ae.resolve();return _.forEach(A=>{E=E.next(()=>y.getEntry(d,A)).next(N=>{const I=m.docVersions.get(A);it(I!==null,48541),N.version.compareTo(I)<0&&(x.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))})}),E.next(()=>h.mutationQueue.removeMutationBatch(d,x))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=$e();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function lR(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function H3(t,e){const n=ke(t),i=e.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const h=[];e.targetChanges.forEach((y,x)=>{const _=r.get(x);if(!_)return;h.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,x).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,x)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),r=r.insert(x,E),function(N,I,D){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=U3?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,E,y)&&h.push(n.Ti.updateTargetData(o,E))});let d=pr(),m=$e();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(q3(o,c,e.documentUpdates).next(y=>{d=y.qs,m=y.Qs})),!i.isEqual(Oe.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(x=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return ae.waitFor(h).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.xs=r,o))}function q3(t,e,n){let i=$e(),r=$e();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let c=pr();return n.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Oe.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):ge(jv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{qs:c,Qs:r}})}function G3(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=wv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $3(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,e).next(o=>o?(r=o,ae.resolve(r)):n.Ti.allocateTargetId(i).next(c=>(r=new ta(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function _0(t,e,n){const i=ke(t),r=i.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!sc(c))throw c;ge(jv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function O1(t,e,n){const i=ke(t);let r=Oe.min(),o=$e();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,m,y){const x=ke(d),_=x.Os.get(y);return _!==void 0?ae.resolve(x.xs.get(_)):x.Ti.getTargetData(m,y)}(i,c,_s(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,h.targetId).next(d=>{o=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,n?r:Oe.min(),n?o:$e())).next(h=>(Y3(i,PM(e),h),{documents:h,$s:o})))}function Y3(t,e,n){let i=t.Ns.get(e)||Oe.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Ns.set(e,i)}class k1{constructor(){this.activeTargetIds=BM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K3{constructor(){this.xo=new k1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new k1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="ConnectivityMonitor";class M1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(P1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(P1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function b0(){return cf===null?cf=function(){return 268435456+Math.round(2147483648*Math.random())}():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="RestConnection",X3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Uf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,n,i,r,o){const c=b0(),h=this.jo(e,n.toUriEncodedString());ge(gy,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,r,o);const{host:m}=new URL(h),y=va(m);return this.Jo(e,h,d,i,y).then(x=>(ge(gy,`Received RPC '${e}' ${c}: `,x),x),x=>{throw Ul(gy,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",i),x})}Yo(e,n,i,r,o,c){return this.zo(e,n,i,r,o)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}jo(e,n){const i=X3[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class J3 extends Q3{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,o){const c=b0();return new Promise((h,d)=>{const m=new h2;m.setWithCredentials(!0),m.listenOnce(d2.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case _f.NO_ERROR:const x=m.getResponseJson();ge(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case _f.TIMEOUT:ge(An,`RPC '${e}' ${c} timed out`),d(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const _=m.getStatus();if(ge(An,`RPC '${e}' ${c} failed with status:`,_,"response text:",m.getResponseText()),_>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const N=function(D){const U=D.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(U)>=0?U:ie.UNKNOWN}(A.status);d(new pe(N,A.message))}else d(new pe(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{ge(An,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(r);ge(An,`RPC '${e}' ${c} sending request:`,r),m.send(n,"POST",y,i,15)})}I_(e,n,i){const r=b0(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=p2(),h=m2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=o.join("");ge(An,`Creating RPC '${e}' stream ${r}: ${y}`,d);const x=c.createWebChannel(y,d);this.E_(x);let _=!1,E=!1;const A=new Z3({Zo:I=>{E?ge(An,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(_||(ge(An,`Opening RPC '${e}' stream ${r} transport.`),x.open(),_=!0),ge(An,`RPC '${e}' stream ${r} sending:`,I),x.send(I))},Xo:()=>x.close()}),N=(I,D,U)=>{I.listen(D,j=>{try{U(j)}catch(q){setTimeout(()=>{throw q},0)}})};return N(x,ku.EventType.OPEN,()=>{E||(ge(An,`RPC '${e}' stream ${r} transport opened.`),A.__())}),N(x,ku.EventType.CLOSE,()=>{E||(E=!0,ge(An,`RPC '${e}' stream ${r} transport closed`),A.u_(),this.d_(x))}),N(x,ku.EventType.ERROR,I=>{E||(E=!0,Ul(An,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),A.u_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),N(x,ku.EventType.MESSAGE,I=>{var D;if(!E){const U=I.data[0];it(!!U,16349);const j=U,q=j?.error||((D=j[0])===null||D===void 0?void 0:D.error);if(q){ge(An,`RPC '${e}' stream ${r} received error:`,q);const Y=q.status;let ne=function(O){const M=Kt[O];if(M!==void 0)return W2(M)}(Y),P=q.message;ne===void 0&&(ne=ie.INTERNAL,P="Unknown error status: "+Y+" with message "+q.message),E=!0,A.u_(new pe(ne,P)),x.close()}else ge(An,`RPC '${e}' stream ${r} received:`,U),A.c_(U)}}),N(h,f2.STAT_EVENT,I=>{I.stat===c0.PROXY?ge(An,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===c0.NOPROXY&&ge(An,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new i3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,i=1e3,r=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=r,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="PersistentStream";class uR{constructor(e,n,i,r,o,c,h,d){this.xi=e,this.S_=i,this.D_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cR(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{e(()=>{const r=new pe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(j1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ge(j1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e6 extends uR{constructor(e,n,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=a3(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?bs(c.readTime):Oe.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=x0(this.serializer),n.addTarget=function(o,c){let h;const d=c.target;if(h=m0(d)?{documents:c3(o,d)}:{query:u3(o,d).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Z2(o,c.resumeToken);const m=g0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Oe.min())>0){h.readTime=Hf(o,c.snapshotVersion.toTimestamp());const m=g0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=d3(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.Q_(n)}}class t6 extends uR{constructor(e,n,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=l3(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=x0(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>o3(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{}class i6 extends n6{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,y0(n,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())})}Yo(e,n,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(e,y0(n,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ie.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class s6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mr(n),this.ua=!1):ge("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class r6{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Co(this)&&(ge(vo,"Restarting streams for network reachability change."),await async function(d){const m=ke(d);m.da.add(4),await wh(m),m.Va.set("Unknown"),m.da.delete(4),await Pm(m)}(this))})}),this.Va=new s6(i,r)}}async function Pm(t){if(Co(t))for(const e of t.Aa)await e(!0)}async function wh(t){for(const e of t.Aa)await e(!1)}function hR(t,e){const n=ke(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Bv(n)?Uv(n):rc(n).N_()&&Lv(n,e))}function Vv(t,e){const n=ke(t),i=rc(n);n.Ea.delete(e),i.N_()&&dR(n,e),n.Ea.size===0&&(i.N_()?i.k_():Co(n)&&n.Va.set("Unknown"))}function Lv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rc(t).Z_(e)}function dR(t,e){t.ma.Ke(e),rc(t).X_(e)}function Uv(t){t.ma=new JM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),rc(t).start(),t.Va.ca()}function Bv(t){return Co(t)&&!rc(t).O_()&&t.Ea.size>0}function Co(t){return ke(t).da.size===0}function fR(t){t.ma=void 0}async function a6(t){t.Va.set("Online")}async function o6(t){t.Ea.forEach((e,n)=>{Lv(t,e)})}async function l6(t,e){fR(t),Bv(t)?(t.Va.Pa(e),Uv(t)):t.Va.set("Unknown")}async function c6(t,e,n){if(t.Va.set("Online"),e instanceof Q2&&e.state===2&&e.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ea.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ea.delete(h),r.ma.removeTarget(h))}(t,e)}catch(i){ge(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gf(t,i)}else if(e instanceof Ef?t.ma.Xe(e):e instanceof X2?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Oe.min()))try{const i=await lR(t.localStore);n.compareTo(i)>=0&&await function(o,c){const h=o.ma.It(c);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(m);y&&o.Ea.set(m,y.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach((d,m)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(bn.EMPTY_BYTE_STRING,y.snapshotVersion)),dR(o,d);const x=new ta(y.target,d,m,y.sequenceNumber);Lv(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ge(vo,"Failed to raise snapshot:",i),await Gf(t,i)}}async function Gf(t,e,n){if(!sc(e))throw e;t.da.add(1),await wh(t),t.Va.set("Offline"),n||(n=()=>lR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(vo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Pm(t)})}function mR(t,e){return e().catch(n=>Gf(t,n,e))}async function Mm(t){const e=ke(t),n=fa(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:wv;for(;u6(e);)try{const r=await G3(e.localStore,i);if(r===null){e.Ia.length===0&&n.k_();break}i=r.batchId,h6(e,r)}catch(r){await Gf(e,r)}pR(e)&&gR(e)}function u6(t){return Co(t)&&t.Ia.length<10}function h6(t,e){t.Ia.push(e);const n=fa(t);n.N_()&&n.ea&&n.ta(e.mutations)}function pR(t){return Co(t)&&!fa(t).O_()&&t.Ia.length>0}function gR(t){fa(t).start()}async function d6(t){fa(t).ia()}async function f6(t){const e=fa(t);for(const n of t.Ia)e.ta(n.mutations)}async function m6(t,e,n){const i=t.Ia.shift(),r=Nv.from(i,e,n);await mR(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Mm(t)}async function p6(t,e){e&&fa(t).ea&&await async function(i,r){if(function(c){return QM(c)&&c!==ie.ABORTED}(r.code)){const o=i.Ia.shift();fa(i).L_(),await mR(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Mm(i)}}(t,e),pR(t)&&gR(t)}async function V1(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge(vo,"RemoteStore received new credentials");const i=Co(n);n.da.add(3),await wh(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Pm(n)}async function g6(t,e){const n=ke(t);e?(n.da.delete(2),await Pm(n)):e||(n.da.add(2),await wh(n),n.Va.set("Unknown"))}function rc(t){return t.fa||(t.fa=function(n,i,r){const o=ke(n);return o.oa(),new e6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{e_:a6.bind(null,t),n_:o6.bind(null,t),i_:l6.bind(null,t),Y_:c6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Bv(t)?Uv(t):t.Va.set("Unknown")):(await t.fa.stop(),fR(t))})),t.fa}function fa(t){return t.ga||(t.ga=function(n,i,r){const o=ke(n);return o.oa(),new t6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:d6.bind(null,t),i_:p6.bind(null,t),na:f6.bind(null,t),ra:m6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Mm(t)):(await t.ga.stop(),t.Ia.length>0&&(ge(vo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const c=Date.now()+i,h=new Fv(e,n,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(t,e){if(mr("AsyncQueue",`${e}: ${t}`),sc(t))return new pe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Pu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.pa=new Dt(be.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class $l{constructor(e,n,i,r,o,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,r,o){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new $l(e,n,kl.emptySet(n),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class v6{constructor(){this.queries=U1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=ke(n),o=r.queries;r.queries=U1(),o.forEach((c,h)=>{for(const d of h.Sa)d.onError(i)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function U1(){return new Ro(t=>j2(t),Cm)}async function Hv(t,e){const n=ke(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.Da()&&e.va()&&(i=2):(o=new y6,i=e.va()?0:1);try{switch(i){case 0:o.ba=await n.onListen(r,!0);break;case 1:o.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const h=zv(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&Gv(n)}async function qv(t,e){const n=ke(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.va()?0:1:!o.Da()&&e.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function x6(t,e){const n=ke(t);let i=!1;for(const r of e){const o=r.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Ma(r)&&(i=!0);c.ba=r}}i&&Gv(n)}function _6(t,e,n){const i=ke(t),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);i.queries.delete(e)}function Gv(t){t.Ca.forEach(e=>{e.next()})}var w0,B1;(B1=w0||(w0={})).xa="default",B1.Cache="cache";class $v{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new $l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==w0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class vR{constructor(e){this.key=e}}class b6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.Za=V2(e),this.Xa=new kl(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new L1,r=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,x)=>{const _=r.get(y),E=Im(this.query,x)?x:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?A!==N&&(i.track({type:3,doc:E}),I=!0):this.ru(_,E)||(i.track({type:2,doc:E}),I=!0,(d&&this.Za(E,d)>0||m&&this.Za(E,m)<0)&&(h=!0)):!_&&E?(i.track({type:0,doc:E}),I=!0):_&&!E&&(i.track({type:1,doc:_}),I=!0,(d||m)&&(h=!0)),I&&(E?(c=c.add(E),o=N?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:h,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,x)=>function(E,A){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:I})}};return N(E)-N(A)}(y.type,x.type)||this.Za(y.doc,x.doc)),this.iu(i),r=r!=null&&r;const h=n&&!r?this.su():[],d=this.Ya.size===0&&this.current&&!r?1:0,m=d!==this.Ja;return this.Ja=d,c.length!==0||m?{snapshot:new $l(this.query,e.Xa,o,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new L1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new vR(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new yR(i))}),n}au(e){this.Ha=e.$s,this.Ya=$e();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return $l.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Yv="SyncEngine";class w6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class T6{constructor(e){this.key=e,this.cu=!1}}class E6{constructor(e,n,i,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ro(h=>j2(h),Cm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Dt(be.comparator),this.Eu=new Map,this.du=new kv,this.Au={},this.Ru=new Map,this.Vu=Gl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function S6(t,e,n=!0){const i=ER(t);let r;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.uu()):r=await xR(i,e,n,!0),r}async function A6(t,e){const n=ER(t);await xR(n,e,!0,!1)}async function xR(t,e,n,i){const r=await $3(t.localStore,_s(e)),o=r.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await R6(t,e,o,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&hR(t.remoteStore,r),h}async function R6(t,e,n,i,r){t.fu=(x,_,E)=>async function(N,I,D,U){let j=I.view.tu(D);j.Cs&&(j=await O1(N.localStore,I.query,!1).then(({documents:P})=>I.view.tu(P,j)));const q=U&&U.targetChanges.get(I.targetId),Y=U&&U.targetMismatches.get(I.targetId)!=null,ne=I.view.applyChanges(j,N.isPrimaryClient,q,Y);return z1(N,I.targetId,ne.ou),ne.snapshot}(t,x,_,E);const o=await O1(t.localStore,e,!0),c=new b6(e,o.$s),h=c.tu(o.documents),d=bh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),m=c.applyChanges(h,t.isPrimaryClient,d);z1(t,n,m.ou);const y=new w6(e,n,c);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function C6(t,e,n){const i=ke(t),r=i.hu.get(e),o=i.Pu.get(r.targetId);if(o.length>1)return i.Pu.set(r.targetId,o.filter(c=>!Cm(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await _0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Vv(i.remoteStore,r.targetId),T0(i,r.targetId)}).catch(ic)):(T0(i,r.targetId),await _0(i.localStore,r.targetId,!0))}async function I6(t,e){const n=ke(t),i=n.hu.get(e),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Vv(n.remoteStore,i.targetId))}async function N6(t,e,n){const i=V6(t);try{const r=await function(c,h){const d=ke(c),m=bt.now(),y=h.reduce((E,A)=>E.add(A.key),$e());let x,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=pr(),N=$e();return d.Bs.getEntries(E,y).next(I=>{A=I,A.forEach((D,U)=>{U.isValidDocument()||(N=N.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,A)).next(I=>{x=I;const D=[];for(const U of h){const j=$M(U,x.get(U.key).overlayedDocument);j!=null&&D.push(new ba(U.key,j,I2(j.value.mapValue),Ii.exists(!0)))}return d.mutationQueue.addMutationBatch(E,m,D,h)}).next(I=>{_=I;const D=I.applyToLocalDocumentSet(x,N);return d.documentOverlayCache.saveOverlays(E,I.batchId,D)})}).then(()=>({batchId:_.batchId,changes:U2(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,d){let m=c.Au[c.currentUser.toKey()];m||(m=new Dt(Le)),m=m.insert(h,d),c.Au[c.currentUser.toKey()]=m}(i,r.batchId,n),await Th(i,r.changes),await Mm(i.remoteStore)}catch(r){const o=zv(r,"Failed to persist write");n.reject(o)}}async function _R(t,e){const n=ke(t);try{const i=await H3(n.localStore,e);e.targetChanges.forEach((r,o)=>{const c=n.Eu.get(o);c&&(it(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.cu=!0:r.modifiedDocuments.size>0?it(c.cu,14607):r.removedDocuments.size>0&&(it(c.cu,42227),c.cu=!1))}),await Th(n,i,e)}catch(i){await ic(i)}}function F1(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((o,c)=>{const h=c.view.Fa(e);h.snapshot&&r.push(h.snapshot)}),function(c,h){const d=ke(c);d.onlineState=h;let m=!1;d.queries.forEach((y,x)=>{for(const _ of x.Sa)_.Fa(h)&&(m=!0)}),m&&Gv(d)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function D6(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),o=r&&r.key;if(o){let c=new Dt(be.comparator);c=c.insert(o,Cn.newNoDocument(o,Oe.min()));const h=$e().add(o),d=new Om(Oe.min(),new Map,new Dt(Le),c,h);await _R(i,d),i.Iu=i.Iu.remove(o),i.Eu.delete(e),Kv(i)}else await _0(i.localStore,e,!1).then(()=>T0(i,e,n)).catch(ic)}async function O6(t,e){const n=ke(t),i=e.batch.batchId;try{const r=await z3(n.localStore,e);wR(n,i,null),bR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Th(n,r)}catch(r){await ic(r)}}async function k6(t,e,n){const i=ke(t);try{const r=await function(c,h){const d=ke(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(x=>(it(x!==null,37113),y=x.keys(),d.mutationQueue.removeMutationBatch(m,x))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(i.localStore,e);wR(i,e,n),bR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Th(i,r)}catch(r){await ic(r)}}function bR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function wR(t,e,n){const i=ke(t);let r=i.Au[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function T0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||TR(t,i)})}function TR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Vv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Kv(t))}function z1(t,e,n){for(const i of n)i instanceof yR?(t.du.addReference(i.key,e),P6(t,i)):i instanceof vR?(ge(Yv,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||TR(t,i.key)):Ce(19791,{pu:i})}function P6(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(ge(Yv,"New document in limbo: "+n),t.Tu.add(i),Kv(t))}function Kv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new be(xt.fromString(e)),i=t.Vu.next();t.Eu.set(i,new T6(n)),t.Iu=t.Iu.insert(n,i),hR(t.remoteStore,new ta(_s(Rm(n.path)),i,"TargetPurposeLimboResolution",Tm.le))}}async function Th(t,e,n){const i=ke(t),r=[],o=[],c=[];i.hu.isEmpty()||(i.hu.forEach((h,d)=>{c.push(i.fu(d,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const x=m?!m.fromCache:(y=n?.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(m){r.push(m);const x=Mv.Rs(d.targetId,m);o.push(x)}}))}),await Promise.all(c),i.lu.Y_(r),await async function(d,m){const y=ke(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(m,_=>ae.forEach(_.ds,E=>y.persistence.referenceDelegate.addReference(x,_.targetId,E)).next(()=>ae.forEach(_.As,E=>y.persistence.referenceDelegate.removeReference(x,_.targetId,E)))))}catch(x){if(!sc(x))throw x;ge(jv,"Failed to update sequence numbers: "+x)}for(const x of m){const _=x.targetId;if(!x.fromCache){const E=y.xs.get(_),A=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(_,N)}}}(i.localStore,o))}async function M6(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge(Yv,"User change. New user:",e.toKey());const i=await oR(n.localStore,e);n.currentUser=e,function(o,c){o.Ru.forEach(h=>{h.forEach(d=>{d.reject(new pe(ie.CANCELLED,c))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Th(n,i.ks)}}function j6(t,e){const n=ke(t),i=n.Eu.get(e);if(i&&i.cu)return $e().add(i.key);{let r=$e();const o=n.Pu.get(e);if(!o)return r;for(const c of o){const h=n.hu.get(c);r=r.unionWith(h.view.eu)}return r}}function ER(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D6.bind(null,e),e.lu.Y_=x6.bind(null,e.eventManager),e.lu.gu=_6.bind(null,e.eventManager),e}function V6(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k6.bind(null,e),e}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return F3(this.persistence,new L3,e.initialUser,this.serializer)}Su(e){return new aR(Pv.fi,this.serializer)}bu(e){return new K3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class L6 extends $f{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){it(this.persistence.referenceDelegate instanceof qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new T3(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new aR(i=>qf.fi(i,n),this.serializer)}}class E0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M6.bind(null,this.syncEngine),await g6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v6}()}createDatastore(e){const n=km(e.databaseInfo.databaseId),i=function(o){return new J3(o)}(e.databaseInfo);return function(o,c,h,d){return new i6(o,c,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,c,h){return new r6(i,r,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>F1(this.syncEngine,n,0),function(){return M1.C()?new M1:new W3}())}createSyncEngine(e,n){return function(r,o,c,h,d,m,y){const x=new E6(r,o,c,h,d,m);return y&&(x.mu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=ke(r);ge(vo,"RemoteStore shutting down."),o.da.add(5),await wh(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}E0.provider={build:()=>new E0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class U6{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Rn.UNAUTHENTICATED,this.clientId=x2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{ge(ma,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge(ma,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=zv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ma,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await oR(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B6(t);ge(ma,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>V1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>V1(e.remoteStore,r)),t._onlineComponents=e}async function B6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ma,"Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new $f)}}else ge(ma,"Using default OfflineComponentProvider"),await vy(t,new L6(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ma,"Using user provided OnlineComponentProvider"),await H1(t,t._uninitializedComponentsProvider._online)):(ge(ma,"Using default OnlineComponentProvider"),await H1(t,new E0))),t._onlineComponents}function F6(t){return SR(t).then(e=>e.syncEngine)}async function Yf(t){const e=await SR(t),n=e.eventManager;return n.onListen=S6.bind(null,e.syncEngine),n.onUnlisten=C6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I6.bind(null,e.syncEngine),n}function z6(t,e,n={}){const i=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const y=new Wv({next:_=>{y.xu(),c.enqueueAndForget(()=>qv(o,x));const E=_.docs.has(h);!E&&_.fromCache?m.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),x=new $v(Rm(h.path),y,{includeMetadataChanges:!0,Qa:!0});return Hv(o,x)}(await Yf(t),t.asyncQueue,e,n,i)),i.promise}function H6(t,e,n={}){const i=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,h,d,m){const y=new Wv({next:_=>{y.xu(),c.enqueueAndForget(()=>qv(o,x)),_.fromCache&&d.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),x=new $v(h,y,{includeMetadataChanges:!0,Qa:!0});return Hv(o,x)}(await Yf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q6(t,e,n,i){if(e===!0&&i===!0)throw new pe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G1(t){if(!be.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $1(t){if(be.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(t);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firestore.googleapis.com",Y1=!0;class K1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CR,this.ssl=Y1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b3)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vm{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JP;switch(i.type){case"firstParty":return new iM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=q1.get(n);i&&(ge("ComponentProvider","Removing Datastore"),q1.delete(n),i.terminate())}(this),Promise.resolve()}}function G6(t,e,n,i={}){var r;t=Qn(t,Vm);const o=va(e),c=t._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(mv(`https://${d}`),pv("Firestore",!0)),c.host!==CR&&c.host!==d&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:i});if(!dr(m,h)&&(t._setSettings(m),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=Rn.MOCK_USER;else{y=i2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Rn(_)}t._authCredentials=new eM(new y2(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Nn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class aa extends Rs{constructor(e,n,i){super(e,n,Rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new be(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function _t(t,e,...n){if(t=et(t),RR("collection","path",e),t instanceof Vm){const i=xt.fromString(e,...n);return $1(i),new aa(t,null,i)}{if(!(t instanceof Nn||t instanceof aa))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return $1(i),new aa(t.firestore,null,i)}}function je(t,e,...n){if(t=et(t),arguments.length===1&&(e=x2.newId()),RR("doc","path",e),t instanceof Vm){const i=xt.fromString(e,...n);return G1(i),new Nn(t,null,new be(i))}{if(!(t instanceof Nn||t instanceof aa))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return G1(i),new Nn(t.firestore,t instanceof aa?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cR(this,"async_queue_retry"),this.rc=()=>{const i=yy();i&&ge(W1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new lr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!sc(e))throw e;ge(W1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,mr("INTERNAL UNHANDLED ERROR: ",Q1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const r=Fv.createAndSchedule(this,e,n,i,o=>this.uc(o));return this.Zu.push(r),r}oc(){this.Xu&&Ce(47125,{cc:Q1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Q1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class gr extends Vm{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new X1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function On(t,e){const n=typeof t=="object"?t:wm(),i=typeof t=="string"?t:Uf,r=xa(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=e2("firestore");o&&G6(r,...o)}return r}function Lm(t){if(t._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$6(t),t._firestoreClient}function $6(t){var e,n,i;const r=t._freezeSettings(),o=function(h,d,m,y){return new vM(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,AR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new U6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(bn.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yl(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=/^__.*__$/;class K6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new _h(e,this.data,n,this.fieldTransforms)}}class IR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ic:t})}}class Bm{constructor(e,n,i,r,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Kf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(NR(this.Ic)&&Y6.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class W6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||km(e)}bc(e,n,i,r=!1){return new Bm({Ic:e,methodName:n,wc:i,path:_n.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(t){const e=t._freezeSettings(),n=km(t._databaseId);return new W6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DR(t,e,n,i,r,o={}){const c=t.bc(o.merge||o.mergeFields?2:0,e,n,r);tx("Data must be an object, but it was:",c,i);const h=kR(i,c);let d,m;if(o.merge)d=new ci(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const _=S0(e,x,n);if(!c.contains(_))throw new pe(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);MR(y,_)||y.push(_)}d=new ci(y),m=c.fieldTransforms.filter(x=>d.covers(x.field))}else d=null,m=c.fieldTransforms;return new K6(new Kn(h),d,m)}class Fm extends ac{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fm}}function X6(t,e,n){return new Bm({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zv extends ac{_toFieldTransform(e){return new Cv(e.path,new ih)}isEqual(e){return e instanceof Zv}}class Jv extends ac{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=X6(this,e,!0),i=this.Sc.map(o=>oc(o,n)),r=new ql(i);return new Cv(e.path,r)}isEqual(e){return e instanceof Jv&&dr(this.Sc,e.Sc)}}class ex extends ac{constructor(e,n){super(e),this.Dc=n}_toFieldTransform(e){const n=new rh(e.serializer,z2(e.serializer,this.Dc));return new Cv(e.path,n)}isEqual(e){return e instanceof ex&&this.Dc===e.Dc}}function Q6(t,e,n,i){const r=t.bc(1,e,n);tx("Data must be an object, but it was:",r,i);const o=[],c=Kn.empty();_a(i,(d,m)=>{const y=nx(e,d,n);m=et(m);const x=r.mc(y);if(m instanceof Fm)o.push(y);else{const _=oc(m,x);_!=null&&(o.push(y),c.set(y,_))}});const h=new ci(o);return new IR(c,h,r.fieldTransforms)}function Z6(t,e,n,i,r,o){const c=t.bc(1,e,n),h=[S0(e,i,n)],d=[r];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(S0(e,o[_])),d.push(o[_+1]);const m=[],y=Kn.empty();for(let _=h.length-1;_>=0;--_)if(!MR(m,h[_])){const E=h[_];let A=d[_];A=et(A);const N=c.mc(E);if(A instanceof Fm)m.push(E);else{const I=oc(A,N);I!=null&&(m.push(E),y.set(E,I))}}const x=new ci(m);return new IR(y,x,c.fieldTransforms)}function OR(t,e,n,i=!1){return oc(n,t.bc(i?4:3,e))}function oc(t,e){if(PR(t=et(t)))return tx("Unsupported field value:",e,t),kR(t,e);if(t instanceof ac)return function(i,r){if(!NR(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let d=oc(h,r.fc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=et(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return z2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=bt.fromDate(i);return{timestampValue:Hf(r.serializer,o)}}if(i instanceof bt){const o=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hf(r.serializer,o)}}if(i instanceof Xv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yl)return{bytesValue:Z2(r.serializer,i._byteString)};if(i instanceof Nn){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Qv)return function(c,h){return{mapValue:{fields:{[R2]:{stringValue:C2},[Bf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return Rv(h.serializer,m)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${jm(i)}`)}(t,e)}function kR(t,e){const n={};return b2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(i,r)=>{const o=oc(r,e.Ac(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function PR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Xv||t instanceof Yl||t instanceof Nn||t instanceof ac||t instanceof Qv)}function tx(t,e,n){if(!PR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=jm(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function S0(t,e,n){if((e=et(e))instanceof Um)return e._internalPath;if(typeof e=="string")return nx(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const J6=new RegExp("[~\\*/\\[\\]]");function nx(t,e,n){if(e.search(J6)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Um(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new pe(ie.INVALID_ARGUMENT,h+t+d)}function MR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ej extends ix{data(){return super.data()}}function zm(t,e){return typeof e=="string"?nx(t,e):e instanceof Um?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class Hm extends sx{}function As(t,e,...n){let i=[];e instanceof sx&&i.push(e),i=i.concat(n),function(o){const c=o.filter(d=>d instanceof ax).length,h=o.filter(d=>d instanceof qm).length;if(c>1||c>0&&h>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class qm extends Hm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new qm(e,n,i)}_apply(e){const n=this._parse(e);return VR(e._query,n),new Rs(e.firestore,e.converter,p0(e._query,n))}_parse(e){const n=Eh(e.firestore);return function(o,c,h,d,m,y,x){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){tE(x,y);const A=[];for(const N of x)A.push(eE(d,o,N));_={arrayValue:{values:A}}}else _=eE(d,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||tE(x,y),_=OR(h,c,x,y==="in"||y==="not-in");return Xt.create(m,y,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rx(t,e,n){const i=e,r=zm("where",t);return qm._create(r,i,n)}class ax extends sx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ax(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let c=r;const h=o.getFlattenedFilters();for(const d of h)VR(c,d),c=p0(c,d)}(e._query,n),new Rs(e.firestore,e.converter,p0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ox extends Hm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ox(e,n)}_apply(e){const n=function(r,o,c){if(r.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(o,c)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Ao(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Kl(t,e="asc"){const n=e,i=zm("orderBy",t);return ox._create(i,n)}class lx extends Hm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new lx(e,n,i)}_apply(e){return new Rs(e.firestore,e.converter,zf(e._query,this._limit,this._limitType))}}function J1(t){return lx._create("limit",t,"F")}class cx extends Hm{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new cx(e,n,i)}_apply(e){const n=nj(e,this.type,this._docOrFields,this._inclusive);return new Rs(e.firestore,e.converter,function(r,o){return new Ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}}function tj(...t){return cx._create("startAfter",t,!1)}function nj(t,e,n,i){if(n[0]=et(n[0]),n[0]instanceof ix)return function(o,c,h,d,m){if(!d)throw new pe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const x of Ol(o))if(x.field.isKeyField())y.push(Ff(c,d.key));else{const _=d.data.field(x.field);if(Sm(_))throw new pe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=x.field.canonicalString();throw new pe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}y.push(_)}return new Hl(y,m)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Eh(t.firestore);return function(c,h,d,m,y,x){const _=c.explicitOrderBy;if(y.length>_.length)throw new pe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<y.length;A++){const N=y[A];if(_[A].field.isKeyField()){if(typeof N!="string")throw new pe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof N}`);if(!Av(c)&&N.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${N}' contains a slash.`);const I=c.path.child(xt.fromString(N));if(!be.isDocumentKey(I))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const D=new be(I);E.push(Ff(h,D))}else{const I=OR(d,m,N);E.push(I)}}return new Hl(E,x)}(t._query,t.firestore._databaseId,r,e,n,i)}}function eE(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Av(e)&&n.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(xt.fromString(n));if(!be.isDocumentKey(i))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ff(t,new be(i))}if(n instanceof Nn)return Ff(t,n._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function tE(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ij{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _a(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[Bf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>zt(c.doubleValue));return new Qv(o)}convertGeoPoint(e){return new Xv(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Am(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=ua(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xt.fromString(e);it(sR(i),9688,{name:e});const r=new eh(i.get(1),i.get(3)),o=new be(i.popFirst(5));return r.isEqual(n)||mr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UR extends ix{constructor(e,n,i,r,o,c){super(e,n,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sf extends UR{data(e={}){return super.data(e)}}class BR{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ju(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sf(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const d=new Sf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ju(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Sf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ju(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:sj(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){t=Qn(t,Nn);const e=Qn(t.firestore,gr);return z6(Lm(e),t._key).then(n=>FR(e,t,n))}class ux extends ij{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function Gm(t){t=Qn(t,Rs);const e=Qn(t.firestore,gr),n=Lm(e),i=new ux(e);return jR(t._query),H6(n,t._query).then(r=>new BR(e,i,t,r))}function Wl(t,e,n){t=Qn(t,Nn);const i=Qn(t.firestore,gr),r=LR(t.converter,e,n);return $m(i,[DR(Eh(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ii.none())])}function Ni(t,e,n,...i){t=Qn(t,Nn);const r=Qn(t.firestore,gr),o=Eh(r);let c;return c=typeof(e=et(e))=="string"||e instanceof Um?Z6(o,"updateDoc",t._key,e,n,i):Q6(o,"updateDoc",t._key,e),$m(r,[c.toMutation(t._key,Ii.exists(!0))])}function Sh(t){return $m(Qn(t.firestore,gr),[new Iv(t._key,Ii.none())])}function oa(t,e){const n=Qn(t.firestore,gr),i=je(t),r=LR(t.converter,e);return $m(n,[DR(Eh(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}function Ht(t,...e){var n,i,r;t=et(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Z1(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Z1(e[c])){const x=e[c];e[c]=(n=x.next)===null||n===void 0?void 0:n.bind(x),e[c+1]=(i=x.error)===null||i===void 0?void 0:i.bind(x),e[c+2]=(r=x.complete)===null||r===void 0?void 0:r.bind(x)}let d,m,y;if(t instanceof Nn)m=Qn(t.firestore,gr),y=Rm(t._key.path),d={next:x=>{e[c]&&e[c](FR(m,t,x))},error:e[c+1],complete:e[c+2]};else{const x=Qn(t,Rs);m=Qn(x.firestore,gr),y=x._query;const _=new ux(m);d={next:E=>{e[c]&&e[c](new BR(m,_,x,E))},error:e[c+1],complete:e[c+2]},jR(t._query)}return function(_,E,A,N){const I=new Wv(N),D=new $v(E,I,A);return _.asyncQueue.enqueueAndForget(async()=>Hv(await Yf(_),D)),()=>{I.xu(),_.asyncQueue.enqueueAndForget(async()=>qv(await Yf(_),D))}}(Lm(m),y,h,d)}function $m(t,e){return function(i,r){const o=new lr;return i.asyncQueue.enqueueAndForget(async()=>N6(await F6(i),r,o)),o.promise}(Lm(t),e)}function FR(t,e,n){const i=n.docs.get(e._key),r=new ux(t);return new UR(t,r,e._key,i,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function rj(){return new Zv("serverTimestamp")}function zR(...t){return new Jv("arrayUnion",t)}function A0(t){return new ex("increment",t)}(function(e,n=!0){(function(r){nc=r})(So),Ki(new ki("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new gr(new tM(i.getProvider("auth-internal")),new sM(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(m.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Xn(n1,i1,e),Xn(n1,i1,"esm2017")})();function hx(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function HR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aj=HR,qR=new Eo("auth","Firebase",HR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new bm("@firebase/auth");function oj(t,...e){Wf.logLevel<=Ge.WARN&&Wf.warn(`Auth (${So}): ${t}`,...e)}function Af(t,...e){Wf.logLevel<=Ge.ERROR&&Wf.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw fx(t,...e)}function Yi(t,...e){return fx(t,...e)}function dx(t,e,n){const i=Object.assign(Object.assign({},aj()),{[e]:n});return new Eo("auth","Firebase",i).create(e,{appName:t.name})}function cr(t){return dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lj(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(t,"argument-error"),dx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return qR.create(t,...e)}function Te(t,e,...n){if(!t)throw fx(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function yr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cj(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cj()||gv()||"connection"in navigator)?navigator.onLine:!0}function hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ik()||Ok()}get(){return uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mj=new Ah(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zi(t,e,n,i,r={}){return $R(t,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=xh(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},o);return Dk()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&va(t.emulatorConfig.host)&&(m.credentials="include"),GR.fetch()(await YR(t,t.config.apiHost,n,h),m)})}async function $R(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},dj),e);try{const r=new gj(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw uf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw uf(t,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw dx(t,y,m);fi(t,y)}}catch(r){if(r instanceof Mi)throw r;fi(t,"network-request-failed",{message:String(r)})}}async function Rh(t,e,n,i,r={}){const o=await Zi(t,e,n,i,r);return"mfaPendingCredential"in o&&fi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function YR(t,e,n,i){const r=`${e}${n}?${i}`,o=t,c=o.config.emulator?mx(t.config,r):`${t.config.apiScheme}://${r}`;return fj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function pj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yi(this.auth,"network-request-failed")),mj.get())})}}function uf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Yi(t,e,i);return r.customData._tokenResponse=n,r}function iE(t){return t!==void 0&&t.enterprise!==void 0}class yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vj(t,e){return Zi(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return Zi(t,"POST","/v1/accounts:delete",e)}async function Xf(t,e){return Zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _j(t,e=!1){const n=et(t),i=await n.getIdToken(e),r=px(i);Te(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:zu(xy(r.auth_time)),issuedAtTime:zu(xy(r.iat)),expirationTime:zu(xy(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function xy(t){return Number(t)*1e3}function px(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const r=ZA(n);return r?JSON.parse(r):(Af("Failed to decode base64 JWT payload"),null)}catch(r){return Af("Caught error parsing JWT payload as JSON",r?.toString()),null}}function sE(t){const e=px(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mi&&bj(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function bj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Xl(t,Xf(n,{idToken:i}));Te(r?.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KR(o.providerUserInfo):[],h=Ej(t.providerData,c),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!h?.length,y=d?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new C0(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,x)}async function Tj(t){const e=et(t);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ej(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function KR(t){return t.map(e=>{var{providerId:n}=e,i=hx(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){const n=await $R(t,{},async()=>{const i=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,c=await YR(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return t.emulatorConfig&&va(t.emulatorConfig.host)&&(d.credentials="include"),GR.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aj(t,e){return Zi(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await Sj(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,c=new Pl;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(Te(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(Te(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=hx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new C0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _j(this,e)}reload(){return Tj(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Xl(this,xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,c,h,d,m,y;const x=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,D=(m=n.createdAt)!==null&&m!==void 0?m:void 0,U=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:j,emailVerified:q,isAnonymous:Y,providerData:ne,stsTokenManager:P}=n;Te(j&&P,e,"internal-error");const R=Pl.fromJSON(this.name,P);Te(typeof j=="string",e,"internal-error"),Kr(x,e.name),Kr(_,e.name),Te(typeof q=="boolean",e,"internal-error"),Te(typeof Y=="boolean",e,"internal-error"),Kr(E,e.name),Kr(A,e.name),Kr(N,e.name),Kr(I,e.name),Kr(D,e.name),Kr(U,e.name);const O=new Gi({uid:j,auth:e,email:_,emailVerified:q,displayName:x,isAnonymous:Y,photoURL:A,phoneNumber:E,tenantId:N,stsTokenManager:R,createdAt:D,lastLoginAt:U});return ne&&Array.isArray(ne)&&(O.providerData=ne.map(M=>Object.assign({},M))),I&&(O._redirectEventId=I),O}static async _fromIdTokenResponse(e,n,i=!1){const r=new Pl;r.updateFromServerResponse(n);const o=new Gi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Te(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?KR(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Pl;h.updateFromIdToken(i);const d=new Gi({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new C0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function ar(t){yr(t instanceof Function,"Expected a class definition");let e=rE.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WR.type="NONE";const aE=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Rf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Rf("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xf(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ml(ar(aE),e,i);const r=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||ar(aE);const c=Rf(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(c);if(y){let x;if(typeof y=="string"){const _=await Xf(e,{idToken:y}).catch(()=>{});if(!_)break;x=await Gi._fromGetAccountInfoResponse(e,_,y)}else x=Gi._fromJSON(e,y);m!==o&&(h=x),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ml(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Ml(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(QR(e))return"Safari";if((e.includes("chrome/")||ZR(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function XR(t=Dn()){return/firefox\//i.test(t)}function QR(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZR(t=Dn()){return/crios\//i.test(t)}function JR(t=Dn()){return/iemobile/i.test(t)}function eC(t=Dn()){return/android/i.test(t)}function tC(t=Dn()){return/blackberry/i.test(t)}function nC(t=Dn()){return/webos/i.test(t)}function gx(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rj(t=Dn()){var e;return gx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cj(){return kk()&&document.documentMode===10}function iC(t=Dn()){return gx(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||JR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e=[]){let n;switch(t){case"Browser":n=oE(Dn());break;case"Worker":n=`${oE(Dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Zi(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=6;class Oj{constructor(e){var n,i,r,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Dj,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Ij(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xf(this,{idToken:e}),i=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(cr(this));const n=e?et(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nj(this),n=new Oj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Aj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&oj(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Is(t){return et(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Uk(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pj(t){Ym=t}function rC(t){return Ym.loadJS(t)}function Mj(){return Ym.recaptchaEnterpriseScript}function jj(){return Ym.gapiScript}function Vj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lj{constructor(){this.enterprise=new Uj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Uj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bj="recaptcha-enterprise",aC="NO_RECAPTCHA";class Fj{constructor(e){this.type=Bj,this.auth=Is(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{vj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new yj(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;iE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(aC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lj().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!n&&iE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Mj();d.length!==0&&(d+=h),rC(d).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function cE(t,e,n,i=!1,r=!1){const o=new Fj(t);let c;if(r)c=aC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Zf(t,e,n,i,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cE(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await cE(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e){const n=xa(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(dr(o,e??{}))return r;fi(r,"already-initialized")}return n.initialize({options:e})}function Hj(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function qj(t,e,n){const i=Is(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=oC(e),{host:c,port:h}=Gj(e),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(dr(m,i.config.emulator)&&dr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,va(c)?(mv(`${o}//${c}${d}`),pv("Auth",!0)):$j()}function oC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){const e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:uE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:uE(c)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $j(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e){return Zi(t,"POST","/v1/accounts:resetPassword",Cs(t,e))}async function Yj(t,e){return Zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e){return Rh(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}async function Wj(t,e){return Zi(t,"POST","/v1/accounts:sendOobCode",Cs(t,e))}async function Xj(t,e){return Wj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){return Rh(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function Zj(t,e){return Rh(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends yx{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ah(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ah(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zf(e,n,"signInWithPassword",Kj);case"emailLink":return Qj(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zf(e,i,"signUpPassword",Yj);case"emailLink":return Zj(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e){return Rh(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="http://localhost";class xo extends yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=hx(n,["providerId","signInMethod"]);if(!i||!r)return null;const c=new xo(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,jl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:Jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(t){const e=Du(Ou(t)).link,n=e?Du(Ou(e)).deep_link_id:null,i=Du(Ou(t)).deep_link_id;return(i?Du(Ou(i)).link:null)||i||n||e||t}class vx{constructor(e){var n,i,r,o,c,h;const d=Du(Ou(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,x=eV((r=d.mode)!==null&&r!==void 0?r:null);Te(m&&y&&x,"argument-error"),this.apiKey=m,this.operation=x,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=tV(e);try{return new vx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return ah._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=vx.parseLink(n);return Te(i,"argument-error"),ah._fromEmailAndCode(e,i.code,i.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ch{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return sr.credential(n,i)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ch{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Ch{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Jr.credential(n,i)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return Rh(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Gi._fromIdTokenResponse(e,i,r),c=hE(i);return new _o({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=hE(i);return new _o({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends Mi{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Jf(e,n,i,r)}}function cC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(t,o,e,i):o})}async function iV(t,e,n=!1){const i=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e,n=!1){const{auth:i}=t;if(Yn(i.app))return Promise.reject(cr(i));const r="reauthenticate";try{const o=await Xl(t,cC(i,r,e,t),n);Te(o.idToken,i,"internal-error");const c=px(o.idToken);Te(c,i,"internal-error");const{sub:h}=c;return Te(t.uid===h,i,"user-mismatch"),_o._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){if(Yn(t.app))return Promise.reject(cr(t));const i="signIn",r=await cC(t,i,e),o=await _o._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function rV(t,e){return uC(Is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?bx._fromServerResponse(e,n):"totpInfo"in n?wx._fromServerResponse(e,n):fi(e,"internal-error")}}class bx extends _x{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new bx(n)}}class wx extends _x{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new wx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t){const e=Is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aV(t,e,n){const i=Is(t);await Zf(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Xj)}async function oV(t,e,n){await lC(et(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Tx(t),i})}async function lV(t,e){const n=et(t),i=await lC(n,{oobCode:e}),r=i.requestType;switch(Te(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(i.mfaInfo,n,"internal-error");default:Te(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=_x._fromServerResponse(Is(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function cV(t,e){const{data:n}=await lV(et(t),e);return n.email}async function hC(t,e,n){if(Yn(t.app))return Promise.reject(cr(t));const i=Is(t),c=await Zf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Tx(t),d}),h=await _o._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function dC(t,e,n){return Yn(t.app)?Promise.reject(cr(t)):rV(et(t),lc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Tx(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return Zi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=et(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Xl(i,uV(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function hV(t,e,n,i){return et(t).onIdTokenChanged(e,n,i)}function dV(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function Ns(t,e,n,i){return et(t).onAuthStateChanged(e,n,i)}function em(t){return et(t).signOut()}async function fV(t){return et(t).delete()}const tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e3,pV=10;class pC extends mC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Cj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,pV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pC.type="LOCAL";const gV=pC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends mC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gC.type="SESSION";const yC=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Km(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,c=this.handlersMap[r];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(n.origin,o)),d=await yV(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Ex("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(x){const _=x;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return window}function xV(t){ws().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function _V(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wV(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebaseLocalStorageDb",TV=1,nm="firebaseLocalStorage",_C="fbase_key";class Ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wm(t,e){return t.transaction([nm],e?"readwrite":"readonly").objectStore(nm)}function EV(){const t=indexedDB.deleteDatabase(xC);return new Ih(t).toPromise()}function I0(){const t=indexedDB.open(xC,TV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(nm,{keyPath:_C})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(nm)?e(i):(i.close(),await EV(),e(await I0()))})})}async function dE(t,e,n){const i=Wm(t,!0).put({[_C]:e,value:n});return new Ih(i).toPromise()}async function SV(t,e){const n=Wm(t,!1).get(e),i=await new Ih(n).toPromise();return i===void 0?null:i.value}function fE(t,e){const n=Wm(t,!0).delete(e);return new Ih(n).toPromise()}const AV=800,RV=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(wV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _V(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I0();return await dE(e,tm,"1"),await fE(e,tm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>dE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>SV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Wm(r,!1).getAll();return new Ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const CV=bC;new Ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e){return e?ar(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IV(t){return uC(t.auth,new Sx(t),t.bypassAuthState)}function NV(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),sV(n,new Sx(t),t.bypassAuthState)}async function DV(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),iV(n,new Sx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IV;case"linkViaPopup":case"linkViaRedirect":return DV;case"reauthViaPopup":case"reauthViaRedirect":return NV;default:fi(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Ah(2e3,1e4);async function kV(t,e,n){if(Yn(t.app))return Promise.reject(Yi(t,"operation-not-supported-in-this-environment"));const i=Is(t);lj(t,e,xx);const r=wC(i,n);return new lo(i,"signInViaPopup",e,r).executeNotNull()}class lo extends TC{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Ex();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OV.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="pendingRedirect",Cf=new Map;class MV extends TC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const i=await jV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jV(t,e){const n=UV(e),i=LV(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function VV(t,e){Cf.set(t._key(),e)}function LV(t){return ar(t._redirectPersistence)}function UV(t){return Rf(PV,t.config.apiKey,t.name)}async function BV(t,e,n=!1){if(Yn(t.app))return Promise.reject(cr(t));const i=Is(t),r=wC(i,e),c=await new MV(i,r,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=10*60*1e3;class zV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!EC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e={}){return Zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function YV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qV(t);for(const n of e)try{if(KV(n))return}catch{}fi(t,"unauthorized-domain")}function KV(t){const e=R0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!$V.test(n))return!1;if(GV.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new Ah(3e4,6e4);function pE(){const t=ws().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XV(t){return new Promise((e,n)=>{var i,r,o;function c(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Yi(t,"network-request-failed"))},timeout:WV.get()})}if(!((r=(i=ws().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ws().gapi)===null||o===void 0)&&o.load)c();else{const h=Vj("iframefcb");return ws()[h]=()=>{gapi.load?c():n(Yi(t,"network-request-failed"))},rC(`${jj()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw If=null,e})}let If=null;function QV(t){return If=If||XV(t),If}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Ah(5e3,15e3),JV="__/auth/iframe",eL="emulator/auth/iframe",tL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iL(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mx(e,eL):`https://${t.config.authDomain}/${JV}`,i={apiKey:e.apiKey,appName:t.name,v:So},r=nL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${xh(i).slice(1)}`}async function sL(t){const e=await QV(t),n=ws().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:iL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Yi(t,"network-request-failed"),h=ws().setTimeout(()=>{o(c)},ZV.get());function d(){ws().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aL=500,oL=600,lL="_blank",cL="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uL(t,e,n,i=aL,r=oL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},rL),{width:i.toString(),height:r.toString(),top:o,left:c}),m=Dn().toLowerCase();n&&(h=ZR(m)?lL:n),XR(m)&&(e=e||cL,d.scrollbars="yes");const y=Object.entries(d).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(Rj(m)&&h!=="_self")return hL(e||"",h),new gE(null);const x=window.open(e||"",h,y);Te(x,t,"popup-blocked");try{x.focus()}catch{}return new gE(x)}function hL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="__/auth/handler",fL="emulator/auth/handler",mL=encodeURIComponent("fac");async function yE(t,e,n,i,r,o){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:So,eventId:r};if(e instanceof xx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Lk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))c[y]=x}if(e instanceof Ch){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),m=d?`#${mL}=${encodeURIComponent(d)}`:"";return`${pL(t)}?${xh(h).slice(1)}${m}`}function pL({config:t}){return t.emulator?mx(t,fL):`https://${t.authDomain}/${dL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class gL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yC,this._completeRedirectFn=BV,this._overrideRedirectResult=VV}async _openPopup(e,n,i,r){var o;yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await yE(e,n,i,R0(),r);return uL(e,c,Ex())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await yE(e,n,i,R0(),r);return xV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await sL(e),i=new zV(e);return n.register("authEvent",r=>(Te(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_y,{type:_y},r=>{var o;const c=(o=r?.[0])===null||o===void 0?void 0:o[_y];c!==void 0&&n(!!c),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||QR()||gx()}}const yL=gL;var vE="@firebase/auth",xE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _L(t){Ki(new ki("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sC(t)},m=new kj(i,r,o,d);return Hj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ki(new ki("auth-internal",e=>{const n=Is(e.getProvider("auth").getImmediate());return(i=>new vL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(vE,xE,xL(t)),Xn(vE,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=5*60,wL=n2("authIdTokenMaxAge")||bL;let _E=null;const TL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>wL)return;const r=n?.token;_E!==r&&(_E=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Jn(t=wm()){const e=xa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zj(t,{popupRedirectResolver:yL,persistence:[CV,gV,yC]}),i=n2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=TL(o.toString());dV(n,c,()=>c(n.currentUser)),hV(n,h=>c(h))}}const r=JA("auth");return r&&qj(n,`http://${r}`),n}function EL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Pj({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Yi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",EL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_L("Browser");var SL="firebase",AL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(SL,AL,"app");const SC="@firebase/installations",Ax="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e4,RC=`w:${Ax}`,CC="FIS_v2",RL="https://firebaseinstallations.googleapis.com/v1",CL=60*60*1e3,IL="installations",NL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new Eo(IL,NL,DL);function IC(t){return t instanceof Mi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC({projectId:t}){return`${RL}/projects/${t}/installations`}function DC(t){return{token:t.token,requestStatus:2,expiresIn:kL(t.expiresIn),creationTime:Date.now()}}async function OC(t,e){const i=(await e.json()).error;return bo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function kC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OL(t,{refreshToken:e}){const n=kC(t);return n.append("Authorization",PL(e)),n}async function PC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kL(t){return Number(t.replace("s","000"))}function PL(t){return`${CC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=NC(t),r=kC(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={fid:n,authVersion:CC,appId:t.appId,sdkVersion:RC},h={method:"POST",headers:r,body:JSON.stringify(c)},d=await PC(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:DC(m.authToken)}}else throw await OC("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^[cdef][\w-]{21}$/,N0="";function LL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=UL(t);return VL.test(n)?n:N0}catch{return N0}}function UL(t){return jL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Map;function VC(t,e){const n=Xm(t);LC(n,e),BL(n,e)}function LC(t,e){const n=jC.get(t);if(n)for(const i of n)i(e)}function BL(t,e){const n=FL();n&&n.postMessage({key:t,fid:e}),zL()}let co=null;function FL(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=t=>{LC(t.data.key,t.data.fid)}),co}function zL(){jC.size===0&&co&&(co.close(),co=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firebase-installations-database",qL=1,wo="firebase-installations-store";let by=null;function Rx(){return by||(by=o2(HL,qL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wo)}}})),by}async function im(t,e){const n=Xm(t),r=(await Rx()).transaction(wo,"readwrite"),o=r.objectStore(wo),c=await o.get(n);return await o.put(e,n),await r.done,(!c||c.fid!==e.fid)&&VC(t,e.fid),e}async function UC(t){const e=Xm(t),i=(await Rx()).transaction(wo,"readwrite");await i.objectStore(wo).delete(e),await i.done}async function Qm(t,e){const n=Xm(t),r=(await Rx()).transaction(wo,"readwrite"),o=r.objectStore(wo),c=await o.get(n),h=e(c);return h===void 0?await o.delete(n):await o.put(h,n),await r.done,h&&(!c||c.fid!==h.fid)&&VC(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t){let e;const n=await Qm(t.appConfig,i=>{const r=GL(i),o=$L(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===N0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GL(t){const e=t||{fid:LL(),registrationStatus:0};return BC(e)}function $L(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(bo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=YL(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KL(t)}:{installationEntry:e}}async function YL(t,e){try{const n=await ML(t,e);return im(t.appConfig,n)}catch(n){throw IC(n)&&n.customData.serverCode===409?await UC(t.appConfig):await im(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function KL(t){let e=await bE(t.appConfig);for(;e.registrationStatus===1;)await MC(100),e=await bE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Cx(t);return i||n}return e}function bE(t){return Qm(t,e=>{if(!e)throw bo.create("installation-not-found");return BC(e)})}function BC(t){return WL(t)?{fid:t.fid,registrationStatus:0}:t}function WL(t){return t.registrationStatus===1&&t.registrationTime+AC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL({appConfig:t,heartbeatServiceProvider:e},n){const i=QL(t,n),r=OL(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={installation:{sdkVersion:RC,appId:t.appId}},h={method:"POST",headers:r,body:JSON.stringify(c)},d=await PC(()=>fetch(i,h));if(d.ok){const m=await d.json();return DC(m)}else throw await OC("Generate Auth Token",d)}function QL(t,{fid:e}){return`${NC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e=!1){let n;const i=await Qm(t.appConfig,o=>{if(!FC(o))throw bo.create("not-registered");const c=o.authToken;if(!e&&e5(c))return o;if(c.requestStatus===1)return n=ZL(t,e),o;{if(!navigator.onLine)throw bo.create("app-offline");const h=n5(o);return n=JL(t,h),h}});return n?await n:i.authToken}async function ZL(t,e){let n=await wE(t.appConfig);for(;n.authToken.requestStatus===1;)await MC(100),n=await wE(t.appConfig);const i=n.authToken;return i.requestStatus===0?Ix(t,e):i}function wE(t){return Qm(t,e=>{if(!FC(e))throw bo.create("not-registered");const n=e.authToken;return i5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function JL(t,e){try{const n=await XL(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await im(t.appConfig,i),n}catch(n){if(IC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await UC(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await im(t.appConfig,i)}throw n}}function FC(t){return t!==void 0&&t.registrationStatus===2}function e5(t){return t.requestStatus===2&&!t5(t)}function t5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CL}function n5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function i5(t){return t.requestStatus===1&&t.requestTime+AC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t){const e=t,{installationEntry:n,registrationPromise:i}=await Cx(e);return i?i.catch(console.error):Ix(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e=!1){const n=t;return await a5(n),(await Ix(n,e)).token}async function a5(t){const{registrationPromise:e}=await Cx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){if(!t||!t.options)throw wy("App Configuration");if(!t.name)throw wy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wy(t){return bo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="installations",l5="installations-internal",c5=t=>{const e=t.getProvider("app").getImmediate(),n=o5(e),i=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},u5=t=>{const e=t.getProvider("app").getImmediate(),n=xa(e,zC).getImmediate();return{getId:()=>s5(n),getToken:r=>r5(n,r)}};function h5(){Ki(new ki(zC,c5,"PUBLIC")),Ki(new ki(l5,u5,"PRIVATE"))}h5();Xn(SC,Ax);Xn(SC,Ax,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="analytics",d5="firebase_id",f5="origin",m5=60*1e3,p5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new bm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},di=new Eo("analytics","Analytics",g5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){if(!t.startsWith(Nx)){const e=di.create("invalid-gtag-resource",{gtagURL:t});return Zn.warn(e.message),""}return t}function HC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function v5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function x5(t,e){const n=v5("firebase-js-sdk-policy",{createScriptURL:y5}),i=document.createElement("script"),r=`${Nx}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function _5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function b5(t,e,n,i,r,o){const c=i[r];try{if(c)await e[c];else{const d=(await HC(n)).find(m=>m.measurementId===r);d&&await e[d.appId]}}catch(h){Zn.error(h)}t("config",r,o)}async function w5(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let c=r.send_to;Array.isArray(c)||(c=[c]);const h=await HC(n);for(const d of c){const m=h.find(x=>x.measurementId===d),y=m&&e[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Zn.error(o)}}function T5(t,e,n,i){async function r(o,...c){try{if(o==="event"){const[h,d]=c;await w5(t,e,n,h,d)}else if(o==="config"){const[h,d]=c;await b5(t,e,n,i,h,d)}else if(o==="consent"){const[h,d]=c;t("consent",h,d)}else if(o==="get"){const[h,d,m]=c;t("get",h,d,m)}else if(o==="set"){const[h]=c;t("set",h)}else t(o,...c)}catch(h){Zn.error(h)}}return r}function E5(t,e,n,i,r){let o=function(...c){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=T5(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function S5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=30,R5=1e3;class C5{constructor(e={},n=R5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qC=new C5;function I5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function N5(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:I5(i)},o=p5.replace("{app-id}",n),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let h="";try{const d=await c.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function D5(t,e=qC,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw di.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw di.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new P5;return setTimeout(async()=>{h.abort()},m5),GC({appId:i,apiKey:r,measurementId:o},c,h,e)}async function GC(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=qC){var o;const{appId:c,measurementId:h}=t;try{await O5(i,e)}catch(d){if(h)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:h};throw d}try{const d=await N5(t);return r.deleteThrottleMetadata(c),d}catch(d){const m=d;if(!k5(m)){if(r.deleteThrottleMetadata(c),h)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:h};throw d}const y=Number((o=m?.customData)===null||o===void 0?void 0:o.httpStatus)===503?$T(n,r.intervalMillis,A5):$T(n,r.intervalMillis),x={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return r.setThrottleMetadata(c,x),Zn.debug(`Calling attemptFetch again in ${y} millis`),GC(t,x,i,r)}}function O5(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k5(t){if(!(t instanceof Mi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class P5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function M5(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,c=Object.assign(Object.assign({},i),{send_to:o});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(){if(yv())try{await vv()}catch(t){return Zn.warn(di.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Zn.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V5(t,e,n,i,r,o,c){var h;const d=D5(t);d.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Zn.error(E)),e.push(d);const m=j5().then(E=>{if(E)return i.getId()}),[y,x]=await Promise.all([d,m]);S5(o)||x5(o,y.measurementId),r("js",new Date);const _=(h=c?.config)!==null&&h!==void 0?h:{};return _[f5]="firebase",_.update=!0,x!=null&&(_[d5]=x),r("config",y.measurementId,_),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.app=e}_delete(){return delete Hu[this.app.options.appId],Promise.resolve()}}let Hu={},TE=[];const EE={};let Ty="dataLayer",U5="gtag",SE,$C,AE=!1;function B5(){const t=[];if(gv()&&t.push("This is a browser extension environment."),s2()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=di.create("invalid-analytics-context",{errorInfo:e});Zn.warn(n.message)}}function F5(t,e,n){B5();const i=t.options.appId;if(!i)throw di.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw di.create("no-api-key");if(Hu[i]!=null)throw di.create("already-exists",{id:i});if(!AE){_5(Ty);const{wrappedGtag:o,gtagCore:c}=E5(Hu,TE,EE,Ty,U5);$C=o,SE=c,AE=!0}return Hu[i]=V5(t,TE,EE,e,SE,Ty,n),new L5(t)}function z5(t=wm()){t=et(t);const e=xa(t,sm);return e.isInitialized()?e.getImmediate():H5(t)}function H5(t,e={}){const n=xa(t,sm);if(n.isInitialized()){const r=n.getImmediate();if(dr(e,n.getOptions()))return r;throw di.create("already-initialized")}return n.initialize({options:e})}async function q5(){if(gv()||!s2()||!yv())return!1;try{return await vv()}catch{return!1}}function G5(t,e,n,i){t=et(t),M5($C,Hu[t.app.options.appId],e,n,i).catch(r=>Zn.error(r))}const RE="@firebase/analytics",CE="0.10.16";function $5(){Ki(new ki(sm,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return F5(i,r,n)},"PUBLIC")),Ki(new ki("analytics-internal",t,"PRIVATE")),Xn(RE,CE),Xn(RE,CE,"esm2017");function t(e){try{const n=e.getProvider(sm).getImmediate();return{logEvent:(i,r,o)=>G5(n,i,r,o)}}catch(n){throw di.create("interop-component-reg-failed",{reason:n})}}}$5();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebasestorage.googleapis.com",KC="storageBucket",Y5=2*60*1e3,K5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Mi{constructor(e,n,i=0){super(Ey(e),`Firebase Storage: ${n} (${Ey(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Ey(t){return"storage/"+t}function Dx(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt(Mt.UNKNOWN,t)}function W5(t){return new Vt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X5(t){return new Vt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Mt.UNAUTHENTICATED,t)}function Z5(){return new Vt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function J5(t){return new Vt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e9(){return new Vt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t9(){return new Vt(Mt.CANCELED,"User canceled the upload/download.")}function n9(t){return new Vt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function i9(t){return new Vt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s9(){return new Vt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KC+"' property when initializing the app?")}function r9(){return new Vt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a9(){return new Vt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function o9(t){return new Vt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function D0(t){return new Vt(Mt.INVALID_ARGUMENT,t)}function WC(){return new Vt(Mt.APP_DELETED,"The Firebase app was deleted.")}function l9(t){return new Vt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(t,e){return new Vt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tu(t){throw new Vt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(i.path==="")return i;throw i9(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),d={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const y="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${x}/${y}/b/${r}/o${_}`,"i"),A={bucket:1,path:3},N=n===YC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",D=new RegExp(`^https?://${N}/${r}/${I}`,"i"),j=[{regex:h,indices:d,postModify:o},{regex:E,indices:A,postModify:m},{regex:D,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<j.length;q++){const Y=j[q],ne=Y.regex.exec(e);if(ne){const P=ne[Y.indices.bucket];let R=ne[Y.indices.path];R||(R=""),i=new ui(P,R),Y.postModify(i);break}}if(i==null)throw n9(e);return i}}class c9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e,n){let i=1,r=null,o=null,c=!1,h=0;function d(){return h===2}let m=!1;function y(...I){m||(m=!0,e.apply(null,I))}function x(I){r=setTimeout(()=>{r=null,t(E,d())},I)}function _(){o&&clearTimeout(o)}function E(I,...D){if(m){_();return}if(I){_(),y.call(null,I,...D);return}if(d()||c){_(),y.call(null,I,...D);return}i<64&&(i*=2);let j;h===1?(h=2,j=0):j=(i+Math.random())*1e3,x(j)}let A=!1;function N(I){A||(A=!0,_(),!m&&(r!==null?(I||(h=2),clearTimeout(r),x(0)):I||(h=1)))}return x(0),o=setTimeout(()=>{c=!0,N(!0)},n),N}function h9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){return t!==void 0}function f9(t){return typeof t=="object"&&!Array.isArray(t)}function Ox(t){return typeof t=="string"||t instanceof String}function IE(t){return kx()&&t instanceof Blob}function kx(){return typeof Blob<"u"}function NE(t,e,n,i){if(i<e)throw D0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw D0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function XC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var fo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fo||(fo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,i,r,o,c,h,d,m,y,x,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=x,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,N)=>{this.resolve_=A,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new hf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===fo.NO_ERROR,d=o.getStatus();if(!h||m9(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===fo.ABORT;i(!1,new hf(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new hf(m,o))})},n=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());d9(d)?o(d):o()}catch(d){c(d)}else if(h!==null){const d=Dx();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(r.canceled){const d=this.appDelete_?WC():t9();c(d)}else{const d=e9();c(d)}};this.canceled_?n(!1,new hf(!1,null,!0)):this.backoffId_=u9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function g9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _9(t,e,n,i,r,o,c=!0,h=!1){const d=XC(t.urlParams),m=t.url+d,y=Object.assign({},t.headers);return v9(y,e),g9(y,n),y9(y,o),x9(y,i),new p9(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w9(...t){const e=b9();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(kx())return new Blob(t);throw new Vt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(typeof atob>"u")throw o9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sy{constructor(e,n){this.data=e,this.contentType=n||null}}function S9(t,e){switch(t){case xs.RAW:return new Sy(QC(e));case xs.BASE64:case xs.BASE64URL:return new Sy(ZC(t,e));case xs.DATA_URL:return new Sy(R9(e),C9(e))}throw Dx()}function QC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,c=t.charCodeAt(++n);i=65536|(o&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function A9(t){let e;try{e=decodeURIComponent(t)}catch{throw qu(xs.DATA_URL,"Malformed data URL.")}return QC(e)}function ZC(t,e){switch(t){case xs.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw qu(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw qu(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E9(e)}catch(r){throw r.message.includes("polyfill")?r:qu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class JC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qu(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=I9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function R9(t){const e=new JC(t);return e.base64?ZC(xs.BASE64,e.rest):A9(e.rest)}function C9(t){return new JC(t).contentType}function I9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){let i=0,r="";IE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(IE(this.data_)){const i=this.data_,r=T9(i,e,n);return r===null?null:new ea(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ea(i,!0)}}static getBlob(...e){if(kx()){const n=e.map(i=>i instanceof ea?i.data_:i);return new ea(w9.apply(null,n))}else{const n=e.map(c=>Ox(c)?S9(xs.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new ea(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){let e;try{e=JSON.parse(t)}catch{return null}return f9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D9(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function tI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e){return e}class Ln{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||O9}}let df=null;function k9(t){return!Ox(t)||t.length<2?t:tI(t)}function nI(){if(df)return df;const t=[];t.push(new Ln("bucket")),t.push(new Ln("generation")),t.push(new Ln("metageneration")),t.push(new Ln("name","fullPath",!0));function e(o,c){return k9(c)}const n=new Ln("name");n.xform=e,t.push(n);function i(o,c){return c!==void 0?Number(c):c}const r=new Ln("size");return r.xform=i,t.push(r),t.push(new Ln("timeCreated")),t.push(new Ln("updated")),t.push(new Ln("md5Hash",null,!0)),t.push(new Ln("cacheControl",null,!0)),t.push(new Ln("contentDisposition",null,!0)),t.push(new Ln("contentEncoding",null,!0)),t.push(new Ln("contentLanguage",null,!0)),t.push(new Ln("contentType",null,!0)),t.push(new Ln("metadata","customMetadata",!0)),df=t,df}function P9(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new ui(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function M9(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const c=n[o];i[c.local]=c.xform(i,e[c.server])}return P9(i,t),i}function iI(t,e,n){const i=eI(e);return i===null?null:M9(t,i,n)}function j9(t,e,n,i){const r=eI(e);if(r===null||!Ox(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const y=t.bucket,x=t.fullPath,_="/b/"+c(y)+"/o/"+c(x),E=Px(_,n,i),A=XC({alt:"media",token:m});return E+A})[0]}function V9(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class sI{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){if(!t)throw Dx()}function L9(t,e){function n(i,r){const o=iI(t,r,e);return rI(o!==null),o}return n}function U9(t,e){function n(i,r){const o=iI(t,r,e);return rI(o!==null),j9(o,r,t.host,t._protocol)}return n}function aI(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Z5():r=Q5():n.getStatus()===402?r=X5(t.bucket):n.getStatus()===403?r=J5(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function B9(t){const e=aI(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=W5(t.path)),o.serverResponse=r.serverResponse,o}return n}function F9(t,e,n){const i=e.fullServerUrl(),r=Px(i,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,h=new sI(r,o,U9(t,n),c);return h.errorHandler=B9(e),h}function z9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H9(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=z9(null,e)),i}function q9(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let j="";for(let q=0;q<2;q++)j=j+Math.random().toString().slice(2);return j}const d=h();c["Content-Type"]="multipart/related; boundary="+d;const m=H9(e,i,r),y=V9(m,n),x="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+d+"--",E=ea.getBlob(x,i,_);if(E===null)throw r9();const A={name:m.fullPath},N=Px(o,t.host,t._protocol),I="POST",D=t.maxUploadRetryTime,U=new sI(N,I,L9(t,n),D);return U.urlParams=A,U.headers=c,U.body=E.uploadData(),U.errorHandler=aI(e),U}class G9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,o){if(this.sent_)throw Tu("cannot .send() more than once");if(va(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $9 extends G9{initXhr(){this.xhr_.responseType="text"}}function oI(){return new $9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new To(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tI(this._location.path)}get storage(){return this._service}get parent(){const e=N9(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new To(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l9(e)}}function Y9(t,e,n){t._throwIfRoot("uploadBytes");const i=q9(t.storage,t._location,nI(),new ea(e,!0),n);return t.storage.makeRequestWithTokens(i,oI).then(r=>({metadata:r,ref:t}))}function K9(t){t._throwIfRoot("getDownloadURL");const e=F9(t.storage,t._location,nI());return t.storage.makeRequestWithTokens(e,oI).then(n=>{if(n===null)throw a9();return n})}function W9(t,e){const n=D9(t._location.path,e),i=new ui(t._location.bucket,n);return new To(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){return/^[A-Za-z]+:\/\//.test(t)}function Q9(t,e){return new To(t,e)}function lI(t,e){if(t instanceof Mx){const n=t;if(n._bucket==null)throw s9();const i=new To(n,n._bucket);return e!=null?lI(i,e):i}else return e!==void 0?W9(t,e):t}function Z9(t,e){if(e&&X9(e)){if(t instanceof Mx)return Q9(t,e);throw D0("To use ref(service, url), the first argument must be a Storage instance.")}else return lI(t,e)}function DE(t,e){const n=e?.[KC];return n==null?null:ui.makeFromBucketSpec(n,t)}function J9(t,e,n,i={}){t.host=`${e}:${n}`;const r=va(e);r&&(mv(`https://${t.host}/b`),pv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:i2(o,t.app.options.projectId))}class Mx{constructor(e,n,i,r,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=YC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y5,this._maxUploadRetryTime=K5,this._requests=new Set,r!=null?this._bucket=ui.makeFromBucketSpec(r,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new c9(WC());{const c=_9(e,this._appId,i,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const OE="@firebase/storage",kE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="storage";function uI(t,e,n){return t=et(t),Y9(t,e,n)}function hI(t){return t=et(t),K9(t)}function dI(t,e){return t=et(t),Z9(t,e)}function fI(t=wm(),e){t=et(t);const i=xa(t,cI).getImmediate({identifier:e}),r=e2("storage");return r&&e8(i,...r),i}function e8(t,e,n,i={}){J9(t,e,n,i)}function t8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Mx(n,i,r,e,So)}function n8(){Ki(new ki(cI,t8,"PUBLIC").setMultipleInstances(!0)),Xn(OE,kE,""),Xn(OE,kE,"esm2017")}n8();const i8={apiKey:"AIzaSyAfLY0MrsseTHJ7yZg8uxwUvRPXKehd73Y",authDomain:"xstream1-60177.firebaseapp.com",projectId:"xstream1-60177",storageBucket:"xstream1-60177.appspot.com",messagingSenderId:"672677425882",appId:"1:672677425882:web:c4aa610cf2b4b5e4c72be3",measurementId:"G-BCBZQMP2FD"},ot=_v(i8);typeof window<"u"&&q5().then(t=>{t&&z5(ot)});const na=Jn(ot),qi=On(ot),s8=new sr,r8={apiKey:"AIzaSyCrOYe5uVvaH24xqFFm4cHgILI5Jup0JRw",authDomain:"playmo-app-53e1b.firebaseapp.com",projectId:"playmo-app-53e1b",storageBucket:"playmo-app-53e1b.firebasestorage.app",messagingSenderId:"194609039855",appId:"1:194609039855:web:06212b88c2e33b95880e1a",measurementId:"G-TSP9RL0EYD"},a8=_v(r8,"storageApp"),o8=fI(a8);var mI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PE=hi.createContext&&hi.createContext(mI),l8=["attr","size","title"];function c8(t,e){if(t==null)return{};var n=u8(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function u8(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rm.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(i){h8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function h8(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=f8(t,"string");return typeof e=="symbol"?e:e+""}function f8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pI(t){return t&&t.map((e,n)=>hi.createElement(e.tag,am({key:n},e.attr),pI(e.child)))}function sn(t){return e=>hi.createElement(m8,rm({attr:am({},t.attr)},e),pI(t.child))}function m8(t){var e=n=>{var{attr:i,size:r,title:o}=t,c=c8(t,l8),h=r||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),hi.createElement("svg",rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:d,style:am(am({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&hi.createElement("title",null,o),t.children)};return PE!==void 0?hi.createElement(PE.Consumer,null,n=>e(n)):e(mI)}function p8(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function jE(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function g8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function y8(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function v8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function x8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function _8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function jx(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function b8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function w8(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function T8(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function E8(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function S8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function A8(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function R8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function C8(t){return sn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function I8(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function N8(t){return sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function D8(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}const cc=()=>g.jsxs("footer",{className:"mt-12 text-gray-400 bg-gray-900",children:[g.jsx("div",{className:"flex flex-col items-center justify-center gap-6 px-4 py-6 mx-auto max-w-7xl sm:flex-row",children:g.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-center sm:flex-row sm:gap-4 sm:text-center",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("img",{src:vh,alt:"XStream Secrets",className:"w-auto h-10"})}),g.jsx("p",{className:"max-w-xs text-xs text-gray-400 sm:text-sm sm:max-w-md",children:"is a website that embeds videos from legitimate adult sites for 18+ audiences. We provide a curated viewing experience while respecting content creators platforms."})]})}),g.jsxs("div",{className:"w-full px-4 py-3 mt-4 text-xs text-center border-t border-gray-700 sm:px-6",children:[" ",new Date().getFullYear()," XStream Secrets. All Rights Reserved. For adults (18+) only."]})]}),O8=({isOpen:t,setIsOpen:e})=>{const n=jt(),[i,r]=S.useState(!1),[o,c]=S.useState(""),[h,d]=S.useState(null),[m,y]=S.useState(!0),x=Jn();S.useEffect(()=>{const E=Ns(x,A=>{d(A?{uid:A.uid,name:A.displayName,email:A.email,avatar:A.photoURL}:null),y(!1)});return()=>E()},[x]);const _=(E,A)=>{if(!m){if(!h){c(A),r(!0);return}e(!1),setTimeout(()=>n(E),250)}};return S.useEffect(()=>{const E=A=>{t&&!A.target.closest("#sidebar")&&e(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[t,e]),g.jsxs(g.Fragment,{children:[t&&g.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:()=>e(!1)}),g.jsxs("div",{id:"sidebar",className:`fixed top-0 left-0 z-50 h-full w-64 bg-gradient-to-b from-gray-950 via-gray-900 to-gray-800 text-white shadow-2xl border-r border-gray-800 transform transition-all duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"} rounded-r-2xl`,children:[g.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-700",children:[g.jsx("img",{src:vh,alt:"Logo",className:"object-contain w-14 h-14"}),g.jsx("button",{onClick:()=>e(!1),className:"text-2xl transition hover:text-pink-500",children:""})]}),g.jsxs("div",{className:"flex flex-col gap-3 px-5 py-5 overflow-y-auto h-[calc(100%-160px)]",children:[g.jsxs("button",{onClick:()=>_("/profile","Profile"),className:"flex items-center gap-4 px-3 py-3 text-lg rounded-lg hover:bg-pink-600/70",children:[g.jsx(N8,{className:"text-xl"}),g.jsx("span",{children:"Profile"})]}),g.jsxs("button",{onClick:()=>_("/settings","Settings"),className:"flex items-center gap-4 px-3 py-3 text-lg rounded-lg hover:bg-pink-600/70",children:[g.jsx(x8,{className:"text-xl"}),g.jsx("span",{children:"Settings"})]}),g.jsxs("button",{onClick:()=>_("/exclusive","Exclusive"),className:"flex items-center gap-4 px-3 py-3 text-lg rounded-lg hover:bg-pink-600/70",children:[g.jsx(jE,{className:"text-xl"}),g.jsx("span",{children:"Exclusive"})]})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 text-sm text-center text-gray-400 border-t border-gray-700 bg-gray-900/30 backdrop-blur-sm",children:[g.jsxs("button",{onClick:()=>_("/advertise","Advertise"),className:"flex items-center justify-center w-full gap-2 py-2 rounded-lg hover:bg-gray-700",children:[g.jsx(jE,{className:"text-base text-pink-500"}),g.jsx("span",{children:"Advertise"})]}),g.jsx("p",{className:"mt-3 text-xs text-gray-500",children:" 2025 XStream"})]})]}),i&&!m&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsx("div",{className:"relative p-[2px] rounded-2xl bg-gradient-to-r from-pink-500 via-fuchsia-500 to-pink-600 shadow-[0_0_30px_rgba(236,72,153,0.3)] animate-pulse-slow",children:g.jsxs("div",{className:"relative p-6 text-center bg-gray-900 border border-gray-700 shadow-xl w-80 rounded-2xl",children:[g.jsx("button",{onClick:()=>r(!1),className:"absolute text-gray-400 transition top-3 right-3 hover:text-pink-500",children:""}),g.jsx("h2",{className:"mb-3 text-lg font-semibold text-pink-500",children:"Only authenticated users can access"}),g.jsxs("p",{className:"mb-6 text-sm text-gray-300",children:["You must sign up first to enter"," ",g.jsx("span",{className:"font-semibold text-white",children:o}),"."]}),g.jsx("button",{onClick:()=>{r(!1),setTimeout(()=>n("/signup"),250)},className:"px-6 py-2 text-sm font-medium text-white transition-all duration-200 rounded-lg shadow-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:from-pink-700 hover:to-fuchsia-700 hover:shadow-pink-500/40",children:"Sign Up"})]})})})]})},Vx=S.createContext({});function Lx(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ux=typeof window<"u",gI=Ux?S.useLayoutEffect:S.useEffect,Zm=S.createContext(null);function Bx(t,e){t.indexOf(e)===-1&&t.push(e)}function Fx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let zx=()=>{};const xr={},yI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vI(t){return typeof t=="object"&&t!==null}const xI=t=>/^0[^.\s]+$/u.test(t);function Hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Di=t=>t,k8=(t,e)=>n=>e(t(n)),Nh=(...t)=>t.reduce(k8),oh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class qx{constructor(){this.subscriptions=[]}add(e){return Bx(this.subscriptions,e),()=>Fx(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=t=>t*1e3,Ci=t=>t/1e3;function _I(t,e){return e?t*(1e3/e):0}const bI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P8=1e-7,M8=12;function j8(t,e,n,i,r){let o,c,h=0;do c=e+(n-e)/2,o=bI(c,i,r)-t,o>0?n=c:e=c;while(Math.abs(o)>P8&&++h<M8);return c}function Dh(t,e,n,i){if(t===e&&n===i)return Di;const r=o=>j8(o,0,1,t,n);return o=>o===0||o===1?o:bI(r(o),e,i)}const wI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TI=t=>e=>1-t(1-e),EI=Dh(.33,1.53,.69,.99),Gx=TI(EI),SI=wI(Gx),AI=t=>(t*=2)<1?.5*Gx(t):.5*(2-Math.pow(2,-10*(t-1))),$x=t=>1-Math.sin(Math.acos(t)),RI=TI($x),CI=wI($x),V8=Dh(.42,0,1,1),L8=Dh(0,0,.58,1),II=Dh(.42,0,.58,1),U8=t=>Array.isArray(t)&&typeof t[0]!="number",NI=t=>Array.isArray(t)&&typeof t[0]=="number",B8={linear:Di,easeIn:V8,easeInOut:II,easeOut:L8,circIn:$x,circInOut:CI,circOut:RI,backIn:Gx,backInOut:SI,backOut:EI,anticipate:AI},F8=t=>typeof t=="string",VE=t=>{if(NI(t)){zx(t.length===4);const[e,n,i,r]=t;return Dh(e,n,i,r)}else if(F8(t))return B8[t];return t},ff=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z8(t,e){let n=new Set,i=new Set,r=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){c.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,x=!1,_=!1)=>{const A=_&&r?n:i;return x&&c.add(y),A.has(y)||A.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),n.clear(),r=!1,o&&(o=!1,m.process(y))}};return m}const H8=40;function DI(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=ff.reduce((j,q)=>(j[q]=z8(o),j),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:x,preRender:_,render:E,postRender:A}=c,N=()=>{const j=xr.useManualTiming?r.timestamp:performance.now();n=!1,xr.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(j-r.timestamp,H8),1)),r.timestamp=j,r.isProcessing=!0,h.process(r),d.process(r),m.process(r),y.process(r),x.process(r),_.process(r),E.process(r),A.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(N))},I=()=>{n=!0,i=!0,r.isProcessing||t(N)};return{schedule:ff.reduce((j,q)=>{const Y=c[q];return j[q]=(ne,P=!1,R=!1)=>(n||I(),Y.schedule(ne,P,R)),j},{}),cancel:j=>{for(let q=0;q<ff.length;q++)c[ff[q]].cancel(j)},state:r,steps:c}}const{schedule:At,cancel:pa,state:vn,steps:Ay}=DI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0);let Nf;function q8(){Nf=void 0}const Wn={now:()=>(Nf===void 0&&Wn.set(vn.isProcessing||xr.useManualTiming?vn.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(q8)}},OI=t=>e=>typeof e=="string"&&e.startsWith(t),Yx=OI("--"),G8=OI("var(--"),Kx=t=>G8(t)?$8.test(t.split("/*")[0].trim()):!1,$8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lh={...uc,transform:t=>vr(0,1,t)},mf={...uc,default:1},Gu=t=>Math.round(t*1e5)/1e5,Wx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y8(t){return t==null}const K8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xx=(t,e)=>n=>!!(typeof n=="string"&&K8.test(n)&&n.startsWith(t)||e&&!Y8(n)&&Object.prototype.hasOwnProperty.call(n,e)),kI=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,c,h]=i.match(Wx);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},W8=t=>vr(0,255,t),Ry={...uc,transform:t=>Math.round(W8(t))},uo={test:Xx("rgb","red"),parse:kI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ry.transform(t)+", "+Ry.transform(e)+", "+Ry.transform(n)+", "+Gu(lh.transform(i))+")"};function X8(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const O0={test:Xx("#"),parse:X8,transform:uo.transform},Oh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xr=Oh("deg"),Es=Oh("%"),Ne=Oh("px"),Q8=Oh("vh"),Z8=Oh("vw"),LE={...Es,parse:t=>Es.parse(t)/100,transform:t=>Es.transform(t*100)},Rl={test:Xx("hsl","hue"),parse:kI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Es.transform(Gu(e))+", "+Es.transform(Gu(n))+", "+Gu(lh.transform(i))+")"},Wt={test:t=>uo.test(t)||O0.test(t)||Rl.test(t),parse:t=>uo.test(t)?uo.parse(t):Rl.test(t)?Rl.parse(t):O0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uo.transform(t):Rl.transform(t),getAnimatableNone:t=>{const e=Wt.parse(t);return e.alpha=0,Wt.transform(e)}},J8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eU(t){return isNaN(t)&&typeof t=="string"&&(t.match(Wx)?.length||0)+(t.match(J8)?.length||0)>0}const PI="number",MI="color",tU="var",nU="var(",UE="${}",iU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ch(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace(iU,d=>(Wt.test(d)?(i.color.push(o),r.push(MI),n.push(Wt.parse(d))):d.startsWith(nU)?(i.var.push(o),r.push(tU),n.push(d)):(i.number.push(o),r.push(PI),n.push(parseFloat(d))),++o,UE)).split(UE);return{values:n,split:h,indexes:i,types:r}}function jI(t){return ch(t).values}function VI(t){const{split:e,types:n}=ch(t),i=e.length;return r=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],r[c]!==void 0){const h=n[c];h===PI?o+=Gu(r[c]):h===MI?o+=Wt.transform(r[c]):o+=r[c]}return o}}const sU=t=>typeof t=="number"?0:Wt.test(t)?Wt.getAnimatableNone(t):t;function rU(t){const e=jI(t);return VI(t)(e.map(sU))}const ga={test:eU,parse:jI,createTransformer:VI,getAnimatableNone:rU};function Cy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aU({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,c=0;if(!e)r=o=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;r=Cy(d,h,t+1/3),o=Cy(d,h,t),c=Cy(d,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function om(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,Iy=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},oU=[O0,uo,Rl],lU=t=>oU.find(e=>e.test(t));function BE(t){const e=lU(t);if(!e)return!1;let n=e.parse(t);return e===Rl&&(n=aU(n)),n}const FE=(t,e)=>{const n=BE(t),i=BE(e);if(!n||!i)return om(t,e);const r={...n};return o=>(r.red=Iy(n.red,i.red,o),r.green=Iy(n.green,i.green,o),r.blue=Iy(n.blue,i.blue,o),r.alpha=Nt(n.alpha,i.alpha,o),uo.transform(r))},k0=new Set(["none","hidden"]);function cU(t,e){return k0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uU(t,e){return n=>Nt(t,e,n)}function Qx(t){return typeof t=="number"?uU:typeof t=="string"?Kx(t)?om:Wt.test(t)?FE:fU:Array.isArray(t)?LI:typeof t=="object"?Wt.test(t)?FE:hU:om}function LI(t,e){const n=[...t],i=n.length,r=t.map((o,c)=>Qx(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=r[c](o);return n}}function hU(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Qx(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function dU(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],c=t.indexes[o][i[o]],h=t.values[c]??0;n[r]=h,i[o]++}return n}const fU=(t,e)=>{const n=ga.createTransformer(e),i=ch(t),r=ch(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?k0.has(t)&&!r.values.length||k0.has(e)&&!i.values.length?cU(t,e):Nh(LI(dU(i,r),r.values),n):om(t,e)};function UI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):Qx(t)(t,e)}const mU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>pa(e),now:()=>vn.isProcessing?vn.timestamp:Wn.now()}},BI=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},lm=2e4;function Zx(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<lm;)e+=n,i=t.next(e);return e>=lm?1/0:e}function pU(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(Zx(i),lm);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:Ci(r)}}const gU=5;function FI(t,e,n){const i=Math.max(e-gU,0);return _I(n-t(i),e-i)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ny=.001;function yU({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:i=Pt.mass}){let r,o,c=1-e;c=vr(Pt.minDamping,Pt.maxDamping,c),t=vr(Pt.minDuration,Pt.maxDuration,Ci(t)),c<1?(r=m=>{const y=m*c,x=y*t,_=y-n,E=P0(m,c),A=Math.exp(-x);return Ny-_/E*A},o=m=>{const x=m*c*t,_=x*n+n,E=Math.pow(c,2)*Math.pow(m,2)*t,A=Math.exp(-x),N=P0(Math.pow(m,2),c);return(-r(m)+Ny>0?-1:1)*((_-E)*A)/N}):(r=m=>{const y=Math.exp(-m*t),x=(m-n)*t+1;return-Ny+y*x},o=m=>{const y=Math.exp(-m*t),x=(n-m)*(t*t);return y*x});const h=5/t,d=xU(r,o,h);if(t=Ts(t),isNaN(d))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const vU=12;function xU(t,e,n){let i=n;for(let r=1;r<vU;r++)i=i-t(i)/e(i);return i}function P0(t,e){return t*Math.sqrt(1-e*e)}const _U=["duration","bounce"],bU=["stiffness","damping","mass"];function zE(t,e){return e.some(n=>t[n]!==void 0)}function wU(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!zE(t,bU)&&zE(t,_U))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Pt.mass,stiffness:r,damping:o}}else{const n=yU(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function cm(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:x,velocity:_,isResolvedFromDuration:E}=wU({...n,velocity:-Ci(n.velocity||0)}),A=_||0,N=m/(2*Math.sqrt(d*y)),I=c-o,D=Ci(Math.sqrt(d/y)),U=Math.abs(I)<5;i||(i=U?Pt.restSpeed.granular:Pt.restSpeed.default),r||(r=U?Pt.restDelta.granular:Pt.restDelta.default);let j;if(N<1){const Y=P0(D,N);j=ne=>{const P=Math.exp(-N*D*ne);return c-P*((A+N*D*I)/Y*Math.sin(Y*ne)+I*Math.cos(Y*ne))}}else if(N===1)j=Y=>c-Math.exp(-D*Y)*(I+(A+D*I)*Y);else{const Y=D*Math.sqrt(N*N-1);j=ne=>{const P=Math.exp(-N*D*ne),R=Math.min(Y*ne,300);return c-P*((A+N*D*I)*Math.sinh(R)+Y*I*Math.cosh(R))/Y}}const q={calculatedDuration:E&&x||null,next:Y=>{const ne=j(Y);if(E)h.done=Y>=x;else{let P=Y===0?A:0;N<1&&(P=Y===0?Ts(A):FI(j,Y,ne));const R=Math.abs(P)<=i,O=Math.abs(c-ne)<=r;h.done=R&&O}return h.value=h.done?c:ne,h},toString:()=>{const Y=Math.min(Zx(q),lm),ne=BI(P=>q.next(Y*P).value,Y,30);return Y+"ms "+ne},toTransition:()=>{}};return q}cm.applyToOptions=t=>{const e=pU(t,100,cm);return t.ease=e.ease,t.duration=Ts(e.duration),t.type="keyframes",t};function M0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:y}){const x=t[0],_={done:!1,value:x},E=R=>h!==void 0&&R<h||d!==void 0&&R>d,A=R=>h===void 0?d:d===void 0||Math.abs(h-R)<Math.abs(d-R)?h:d;let N=n*e;const I=x+N,D=c===void 0?I:c(I);D!==I&&(N=D-x);const U=R=>-N*Math.exp(-R/i),j=R=>D+U(R),q=R=>{const O=U(R),M=j(R);_.done=Math.abs(O)<=m,_.value=_.done?D:M};let Y,ne;const P=R=>{E(_.value)&&(Y=R,ne=cm({keyframes:[_.value,A(_.value)],velocity:FI(j,R,_.value),damping:r,stiffness:o,restDelta:m,restSpeed:y}))};return P(0),{calculatedDuration:null,next:R=>{let O=!1;return!ne&&Y===void 0&&(O=!0,q(R),P(R)),Y!==void 0&&R>=Y?ne.next(R-Y):(!O&&q(R),_)}}}function TU(t,e,n){const i=[],r=n||xr.mix||UI,o=t.length-1;for(let c=0;c<o;c++){let h=r(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||Di:e;h=Nh(d,h)}i.push(h)}return i}function EU(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(zx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=TU(e,i,r),d=h.length,m=y=>{if(c&&y<t[0])return e[0];let x=0;if(d>1)for(;x<t.length-2&&!(y<t[x+1]);x++);const _=oh(t[x],t[x+1],y);return h[x](_)};return n?y=>m(vr(t[0],t[o-1],y)):m}function SU(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=oh(0,e,i);t.push(Nt(n,1,r))}}function AU(t){const e=[0];return SU(e,t.length-1),e}function RU(t,e){return t.map(n=>n*e)}function CU(t,e){return t.map(()=>e||II).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=U8(i)?i.map(VE):VE(i),o={done:!1,value:e[0]},c=RU(n&&n.length===e.length?n:AU(e),t),h=EU(c,e,{ease:Array.isArray(r)?r:CU(e,r)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}const IU=t=>t!==null;function Jx(t,{repeat:e,repeatType:n="loop"},i,r=1){const o=t.filter(IU),h=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const NU={decay:M0,inertia:M0,tween:$u,keyframes:$u,spring:cm};function zI(t){typeof t.type=="string"&&(t.type=NU[t.type])}class e_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const DU=t=>t/100;class t_ extends e_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zI(e);const{type:n=$u,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const d=n||$u;d!==$u&&typeof h[0]!="number"&&(this.mixKeyframes=Nh(DU,UI(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Zx(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:x,repeatType:_,repeatDelay:E,type:A,onUpdate:N,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-m*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?D<0:D>r;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let j=this.currentTime,q=i;if(x){const R=Math.min(this.currentTime,r)/h;let O=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&O--,O=Math.min(O,x+1),!!(O%2)&&(_==="reverse"?(M=1-M,E&&(M-=E/h)):_==="mirror"&&(q=c)),j=vr(0,1,M)*h}const Y=U?{done:!1,value:y[0]}:q.next(j);o&&(Y.value=o(Y.value));let{done:ne}=Y;!U&&d!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return P&&A!==M0&&(Y.value=Jx(y,this.options,I,this.speed)),N&&N(Y.value),P&&this.finish(),Y}then(e,n){return this.finished.then(e,n)}get duration(){return Ci(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(this.currentTime)}set time(e){e=Ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mU,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function OU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ho=t=>t*180/Math.PI,j0=t=>{const e=ho(Math.atan2(t[1],t[0]));return V0(e)},kU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:j0,rotateZ:j0,skewX:t=>ho(Math.atan(t[1])),skewY:t=>ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},V0=t=>(t=t%360,t<0&&(t+=360),t),HE=j0,qE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),PU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qE,scaleY:GE,scale:t=>(qE(t)+GE(t))/2,rotateX:t=>V0(ho(Math.atan2(t[6],t[5]))),rotateY:t=>V0(ho(Math.atan2(-t[2],t[0]))),rotateZ:HE,rotate:HE,skewX:t=>ho(Math.atan(t[4])),skewY:t=>ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function L0(t){return t.includes("scale")?1:0}function U0(t,e){if(!t||t==="none")return L0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=PU,r=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=kU,r=h}if(!r)return L0(e);const o=i[e],c=r[1].split(",").map(jU);return typeof o=="function"?o(c):c[o]}const MU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return U0(n,e)};function jU(t){return parseFloat(t.trim())}const hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(hc),$E=t=>t===uc||t===Ne,VU=new Set(["x","y","z"]),LU=hc.filter(t=>!VU.has(t));function UU(t){const e=[];return LU.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>U0(e,"x"),y:(t,{transform:e})=>U0(e,"y")};mo.translateX=mo.x;mo.translateY=mo.y;const po=new Set;let B0=!1,F0=!1,z0=!1;function HI(){if(F0){const t=Array.from(po).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=UU(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}F0=!1,B0=!1,po.forEach(t=>t.complete(z0)),po.clear()}function qI(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(F0=!0)})}function BU(){z0=!0,qI(),HI(),z0=!1}class n_{constructor(e,n,i,r,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),B0||(B0=!0,At.read(qI),At.resolveKeyframes(HI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const o=r?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),r&&o===void 0&&r.set(e[0])}OU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FU=t=>t.startsWith("--");function zU(t,e,n){FU(e)?t.style.setProperty(e,n):t.style[e]=n}const HU=Hx(()=>window.ScrollTimeline!==void 0),qU={};function GU(t,e){const n=Hx(t);return()=>qU[e]??n()}const GI=GU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,YE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vu([0,.65,.55,1]),circOut:Vu([.55,0,1,.45]),backIn:Vu([.31,.01,.66,-.59]),backOut:Vu([.33,1.53,.69,.99])};function $I(t,e){if(t)return typeof t=="function"?GI()?BI(t,e):"ease-out":NI(t)?Vu(t):Array.isArray(t)?t.map(n=>$I(n,e)||YE.easeOut):YE[t]}function $U(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:n};d&&(y.offset=d);const x=$I(h,r);Array.isArray(x)&&(y.easing=x);const _={delay:i,duration:r,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(y,_)}function YI(t){return typeof t=="function"&&"applyToOptions"in t}function YU({type:t,...e}){return YI(t)&&GI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class KU extends e_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,zx(typeof e.type!="string");const m=YU(e);this.animation=$U(n,i,r,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=Jx(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):zU(n,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HU()?(this.animation.timeline=e,Di):n(this)}}const KI={anticipate:AI,backInOut:SI,circInOut:CI};function WU(t){return t in KI}function XU(t){typeof t.ease=="string"&&WU(t.ease)&&(t.ease=KI[t.ease])}const KE=10;class QU extends KU{constructor(e){XU(e),zI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new t_({...c,autoplay:!1}),d=Ts(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-KE).value,h.sample(d).value,KE),h.stop()}}const WE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ga.test(t)||t==="0")&&!t.startsWith("url("));function ZU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JU(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=WE(r,e),h=WE(o,e);return!c||!h?!1:ZU(t)||(n==="spring"||YI(n))&&i}function H0(t){t.duration=0,t.type="keyframes"}const e7=new Set(["opacity","clipPath","filter","transform"]),t7=Hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n7(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return t7()&&n&&e7.has(n)&&(n!=="transform"||!m)&&!d&&!i&&r!=="mirror"&&o!==0&&c!=="inertia"}const i7=40;class s7 extends e_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Wn.now();const _={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:c,name:d,motionValue:m,element:y,...x},E=y?.KeyframeResolver||n_;this.keyframeResolver=new E(h,(A,N,I)=>this.onKeyframesResolved(A,N,_,!I),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Wn.now(),JU(e,o,c,h)||((xr.instantAnimations||!d)&&y?.(Jx(e,i,n)),e[0]=e[e.length-1],H0(i),i.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>i7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!m&&n7(_)?new QU({..._,element:_.motionValue.owner.current}):new t_(_);E.finished.then(()=>this.notifyFinished()).catch(Di),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),BU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const r7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a7(t){const e=r7.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function WI(t,e,n=1){const[i,r]=a7(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return yI(c)?parseFloat(c):c}return Kx(r)?WI(r,e,n+1):r}function i_(t,e){return t?.[e]??t?.default??t}const XI=new Set(["width","height","top","left","right","bottom",...hc]),o7={test:t=>t==="auto",parse:t=>t},QI=t=>e=>e.test(t),ZI=[uc,Ne,Es,Xr,Z8,Q8,o7],XE=t=>ZI.find(QI(t));function l7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xI(t):!0}const c7=new Set(["brightness","contrast","saturate","opacity"]);function u7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Wx)||[];if(!i)return t;const r=n.replace(i,"");let o=c7.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const h7=/\b([a-z-]*)\(.*?\)/gu,q0={...ga,getAnimatableNone:t=>{const e=t.match(h7);return e?e.map(u7).join(" "):t}},QE={...uc,transform:Math.round},d7={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:Xr,skewX:Xr,skewY:Xr,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:lh,originX:LE,originY:LE,originZ:Ne},s_={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...d7,zIndex:QE,fillOpacity:lh,strokeOpacity:lh,numOctaves:QE},f7={...s_,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:q0,WebkitFilter:q0},JI=t=>f7[t];function eN(t,e){let n=JI(t);return n!==q0&&(n=ga),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const m7=new Set(["auto","none","0"]);function p7(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!m7.has(o)&&ch(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=eN(n,r)}class g7 extends n_{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),Kx(m))){const y=WI(m,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!XI.has(i)||e.length!==2)return;const[r,o]=e,c=XE(r),h=XE(o);if(c!==h)if($E(c)&&$E(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else mo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||l7(e[r]))&&i.push(r);i.length&&p7(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=mo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function y7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const tN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nN(t){return vI(t)&&"offsetHeight"in t}const ZE=30,v7=t=>!isNaN(parseFloat(t));class x7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Wn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qx);const i=this.events[e].add(n);return e==="change"?()=>{i(),At.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ZE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ZE);return _I(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ql(t,e){return new x7(t,e)}const{schedule:r_}=DI(queueMicrotask,!1),Hi={x:!1,y:!1};function iN(){return Hi.x||Hi.y}function _7(t){return t==="x"||t==="y"?Hi[t]?null:(Hi[t]=!0,()=>{Hi[t]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function sN(t,e){const n=y7(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function JE(t){return!(t.pointerType==="touch"||iN())}function b7(t,e,n={}){const[i,r,o]=sN(t,n),c=h=>{if(!JE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const y=x=>{JE(x)&&(m(x),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,r)};return i.forEach(h=>{h.addEventListener("pointerenter",c,r)}),o}const rN=(t,e)=>e?t===e?!0:rN(t,e.parentElement):!1,a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,w7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T7(t){return w7.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function eS(t){return e=>{e.key==="Enter"&&t(e)}}function Dy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const E7=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=eS(()=>{if(Df.has(n))return;Dy(n,"down");const r=eS(()=>{Dy(n,"up")}),o=()=>Dy(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function tS(t){return a_(t)&&!iN()}function S7(t,e,n={}){const[i,r,o]=sN(t,n),c=h=>{const d=h.currentTarget;if(!tS(h))return;Df.add(d);const m=e(d,h),y=(E,A)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",_),Df.has(d)&&Df.delete(d),tS(E)&&typeof m=="function"&&m(E,{success:A})},x=E=>{y(E,d===window||d===document||n.useGlobalTarget||rN(d,E.target))},_=E=>{y(E,!1)};window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",_,r)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),nN(h)&&(h.addEventListener("focus",m=>E7(m,r)),!T7(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function aN(t){return vI(t)&&"ownerSVGElement"in t}function A7(t){return aN(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),R7=[...ZI,Wt,ga],C7=t=>R7.find(QI(t)),o_=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function I7(...t){return e=>{let n=!1;const i=t.map(r=>{const o=nS(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():nS(t[r],null)}}}}function N7(...t){return S.useCallback(I7(...t),t)}class D7 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=nN(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O7({children:t,isPresent:e,anchorX:n,root:i}){const r=S.useId(),o=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(o_),d=N7(o,t?.ref);return S.useInsertionEffect(()=>{const{width:m,height:y,top:x,left:_,right:E}=c.current;if(e||!o.current||!m||!y)return;const A=n==="left"?`left: ${_}`:`right: ${E}`;o.current.dataset.motionPopId=r;const N=document.createElement("style");h&&(N.nonce=h);const I=i??document.head;return I.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${A}px !important;
            top: ${x}px !important;
          }
        `),()=>{I.contains(N)&&I.removeChild(N)}},[e]),g.jsx(D7,{isPresent:e,childRef:o,sizeRef:c,children:S.cloneElement(t,{ref:d})})}const k7=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c,anchorX:h,root:d})=>{const m=Lx(P7),y=S.useId();let x=!0,_=S.useMemo(()=>(x=!1,{id:y,initial:e,isPresent:n,custom:r,onExitComplete:E=>{m.set(E,!0);for(const A of m.values())if(!A)return;i&&i()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,i]);return o&&x&&(_={..._}),S.useMemo(()=>{m.forEach((E,A)=>m.set(A,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(t=g.jsx(O7,{isPresent:n,anchorX:h,root:d,children:t})),g.jsx(Zm.Provider,{value:_,children:t})};function P7(){return new Map}function oN(t=!0){const e=S.useContext(Zm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=S.useId();S.useEffect(()=>{if(t)return r(o)},[t]);const c=S.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,c]:[!0]}const pf=t=>t.key||"";function iS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const um=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,y]=oN(c),x=S.useMemo(()=>iS(t),[t]),_=c&&!m?[]:x.map(pf),E=S.useRef(!0),A=S.useRef(x),N=Lx(()=>new Map),[I,D]=S.useState(x),[U,j]=S.useState(x);gI(()=>{E.current=!1,A.current=x;for(let ne=0;ne<U.length;ne++){const P=pf(U[ne]);_.includes(P)?N.delete(P):N.get(P)!==!0&&N.set(P,!1)}},[U,_.length,_.join("-")]);const q=[];if(x!==I){let ne=[...x];for(let P=0;P<U.length;P++){const R=U[P],O=pf(R);_.includes(O)||(ne.splice(P,0,R),q.push(R))}return o==="wait"&&q.length&&(ne=q),j(iS(ne)),D(x),null}const{forceRender:Y}=S.useContext(Vx);return g.jsx(g.Fragment,{children:U.map(ne=>{const P=pf(ne),R=c&&!m?!1:x===U||_.includes(P),O=()=>{if(N.has(P))N.set(P,!0);else return;let M=!0;N.forEach(B=>{B||(M=!1)}),M&&(Y?.(),j(A.current),c&&y?.(),i&&i())};return g.jsx(k7,{isPresent:R,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:R?void 0:O,anchorX:h,children:ne},P)})})},lN=S.createContext({strict:!1}),sS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in sS)Zl[t]={isEnabled:e=>sS[t].some(n=>!!e[n])};function M7(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const j7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j7.has(t)}let cN=t=>!hm(t);function V7(t){typeof t=="function"&&(cN=e=>e.startsWith("on")?!hm(e):t(e))}try{V7(require("@emotion/is-prop-valid").default)}catch{}function L7(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(cN(r)||n===!0&&hm(r)||!e&&!hm(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const Jm=S.createContext({});function ep(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uh(t){return typeof t=="string"||Array.isArray(t)}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...l_];function tp(t){return ep(t.animate)||c_.some(e=>uh(t[e]))}function uN(t){return!!(tp(t)||t.variants)}function U7(t,e){if(tp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||uh(n)?n:void 0,animate:uh(i)?i:void 0}}return t.inherit!==!1?e:{}}function B7(t){const{initial:e,animate:n}=U7(t,S.useContext(Jm));return S.useMemo(()=>({initial:e,animate:n}),[rS(e),rS(n)])}function rS(t){return Array.isArray(t)?t.join(" "):t}const hh={};function F7(t){for(const e in t)hh[e]=t[e],Yx(e)&&(hh[e].isCSSVariable=!0)}function hN(t,{layout:e,layoutId:n}){return dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hh[t]||t==="opacity")}const z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H7=hc.length;function q7(t,e,n){let i="",r=!0;for(let o=0;o<H7;o++){const c=hc[o],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=tN(h,s_[c]);if(!d){r=!1;const y=z7[c]||c;i+=`${y}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function u_(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(dc.has(d)){c=!0;continue}else if(Yx(d)){r[d]=m;continue}else{const y=tN(m,s_[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(c||n?i.transform=q7(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}const h_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dN(t,e,n){for(const i in e)!In(e[i])&&!hN(i,n)&&(t[i]=e[i])}function G7({transformTemplate:t},e){return S.useMemo(()=>{const n=h_();return u_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $7(t,e){const n=t.style||{},i={};return dN(i,n,t),Object.assign(i,G7(t,e)),i}function Y7(t,e){const n={},i=$7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const K7={offset:"stroke-dashoffset",array:"stroke-dasharray"},W7={offset:"strokeDashoffset",array:"strokeDasharray"};function X7(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?K7:W7;t[o.offset]=Ne.transform(-i);const c=Ne.transform(e),h=Ne.transform(n);t[o.array]=`${c} ${h}`}function fN(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...h},d,m,y){if(u_(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:_}=t;x.transform&&(_.transform=x.transform,delete x.transform),(_.transform||x.transformOrigin)&&(_.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),_.transform&&(_.transformBox=y?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),r!==void 0&&X7(x,r,o,c,!1)}const mN=()=>({...h_(),attrs:{}}),pN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q7(t,e,n,i){const r=S.useMemo(()=>{const o=mN();return fN(o,e,pN(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};dN(o,t.style,t),r.style={...o,...r.style}}return r}const Z7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(t){return typeof t!="string"||t.includes("-")?!1:!!(Z7.indexOf(t)>-1||/[A-Z]/u.test(t))}function J7(t,e,n,{latestValues:i},r,o=!1){const h=(d_(t)?Q7:Y7)(e,i,r,t),d=L7(e,typeof t=="string",o),m=t!==S.Fragment?{...d,...h,ref:n}:{},{children:y}=e,x=S.useMemo(()=>In(y)?y.get():y,[y]);return S.createElement(t,{...m,children:x})}function aS(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function f_(t,e,n,i){if(typeof e=="function"){const[r,o]=aS(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=aS(i);e=e(n!==void 0?n:t.custom,r,o)}return e}function Of(t){return In(t)?t.get():t}function eB({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:tB(n,i,r,t),renderState:e()}}function tB(t,e,n,i){const r={},o=i(t,{});for(const _ in o)r[_]=Of(o[_]);let{initial:c,animate:h}=t;const d=tp(t),m=uN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const x=y?h:c;if(x&&typeof x!="boolean"&&!ep(x)){const _=Array.isArray(x)?x:[x];for(let E=0;E<_.length;E++){const A=f_(t,_[E]);if(A){const{transitionEnd:N,transition:I,...D}=A;for(const U in D){let j=D[U];if(Array.isArray(j)){const q=y?j.length-1:0;j=j[q]}j!==null&&(r[U]=j)}for(const U in N)r[U]=N[U]}}}return r}const gN=t=>(e,n)=>{const i=S.useContext(Jm),r=S.useContext(Zm),o=()=>eB(t,e,i,r);return n?o():Lx(o)};function m_(t,e,n){const{style:i}=t,r={};for(const o in i)(In(i[o])||e.style&&In(e.style[o])||hN(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(r[o]=i[o]);return r}const nB=gN({scrapeMotionValuesFromProps:m_,createRenderState:h_});function yN(t,e,n){const i=m_(t,e,n);for(const r in t)if(In(t[r])||In(e[r])){const o=hc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}const iB=gN({scrapeMotionValuesFromProps:yN,createRenderState:mN}),sB=Symbol.for("motionComponentSymbol");function Cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rB(t,e,n){return S.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Cl(n)&&(n.current=i))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aB="framerAppearId",vN="data-"+p_(aB),xN=S.createContext({});function oB(t,e,n,i,r){const{visualElement:o}=S.useContext(Jm),c=S.useContext(lN),h=S.useContext(Zm),d=S.useContext(o_).reducedMotion,m=S.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=m.current,x=S.useContext(xN);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&lB(m.current,n,r,x);const _=S.useRef(!1);S.useInsertionEffect(()=>{y&&_.current&&y.update(n,h)});const E=n[vN],A=S.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return gI(()=>{y&&(_.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),A.current&&y.animationState&&y.animationState.animateChanges())}),S.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),A.current=!1),y.enteringChildren=void 0)}),y}function lB(t,e,n,i){const{layoutId:r,layout:o,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_N(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||h&&Cl(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function _N(t){if(t)return t.options.allowProjection!==!1?t.projection:_N(t.parent)}function Oy(t,{forwardMotionProps:e=!1}={},n,i){n&&M7(n);const r=d_(t)?iB:nB;function o(h,d){let m;const y={...S.useContext(o_),...h,layoutId:cB(h)},{isStatic:x}=y,_=B7(h),E=r(h,x);if(!x&&Ux){uB();const A=hB(y);m=A.MeasureLayout,_.visualElement=oB(t,E,y,i,A.ProjectionNode)}return g.jsxs(Jm.Provider,{value:_,children:[m&&_.visualElement?g.jsx(m,{visualElement:_.visualElement,...y}):null,J7(t,h,rB(E,_.visualElement,d),E,x,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=S.forwardRef(o);return c[sB]=t,c}function cB({layoutId:t}){const e=S.useContext(Vx).id;return e&&t!==void 0?e+"-"+t:t}function uB(t,e){S.useContext(lN).strict}function hB(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function dB(t,e){if(typeof Proxy>"u")return Oy;const n=new Map,i=(o,c)=>Oy(o,c,t,e),r=(o,c)=>i(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?i:(n.has(c)||n.set(c,Oy(c,void 0,t,e)),n.get(c))})}function bN({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function fB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ky(t){return t===void 0||t===1}function G0({scale:t,scaleX:e,scaleY:n}){return!ky(t)||!ky(e)||!ky(n)}function ro(t){return G0(t)||wN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wN(t){return oS(t.x)||oS(t.y)}function oS(t){return t&&t!=="0%"}function dm(t,e,n){const i=t-n,r=e*i;return n+r}function lS(t,e,n,i,r){return r!==void 0&&(t=dm(t,r,i)),dm(t,n,i)+e}function $0(t,e=0,n=1,i,r){t.min=lS(t.min,e,n,i,r),t.max=lS(t.max,e,n,i,r)}function TN(t,{x:e,y:n}){$0(t.x,e.translate,e.scale,e.originPoint),$0(t.y,n.translate,n.scale,n.originPoint)}const cS=.999999999999,uS=1.0000000000001;function pB(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,c;for(let h=0;h<r;h++){o=n[h],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,TN(t,c)),i&&ro(o.latestValues)&&Nl(t,o.latestValues))}e.x<uS&&e.x>cS&&(e.x=1),e.y<uS&&e.y>cS&&(e.y=1)}function Il(t,e){t.min=t.min+e,t.max=t.max+e}function hS(t,e,n,i,r=.5){const o=Nt(t.min,t.max,r);$0(t,e,n,o,i)}function Nl(t,e){hS(t.x,e.x,e.scaleX,e.scale,e.originX),hS(t.y,e.y,e.scaleY,e.scale,e.originY)}function EN(t,e){return bN(mB(t.getBoundingClientRect(),e))}function gB(t,e,n){const i=EN(t,n),{scroll:r}=e;return r&&(Il(i.x,r.offset.x),Il(i.y,r.offset.y)),i}const dS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:dS(),y:dS()}),fS=()=>({min:0,max:0}),Ft=()=>({x:fS(),y:fS()}),Y0={current:null},SN={current:!1};function yB(){if(SN.current=!0,!!Ux)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Y0.current=t.matches;t.addEventListener("change",e),e()}else Y0.current=!1}const vB=new WeakMap;function xB(t,e,n){for(const i in e){const r=e[i],o=n[i];if(In(r))t.addValue(i,r);else if(In(o))t.addValue(i,Ql(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(i);t.addValue(i,Ql(c!==void 0?c:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const mS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _B{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Wn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,At.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=tp(n),this.isVariantNode=uN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in x){const E=x[_];d[_]!==void 0&&In(E)&&E.set(d[_])}}mount(e){this.current=e,vB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),SN.current||yB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pa(this.notifyUpdate),pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=dc.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&At.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mS.length;i++){const r=mS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=e[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=xB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ql(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yI(i)||xI(i))?i=parseFloat(i):!C7(i)&&ga.test(n)&&(i=eN(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=f_(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!In(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r_.render(this.render)}}class AN extends _B{constructor(){super(...arguments),this.KeyframeResolver=g7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RN(t,{style:e,vars:n},i,r){const o=t.style;let c;for(c in e)o[c]=e[c];r?.applyProjectionStyles(o,i);for(c in n)o.setProperty(c,n[c])}function bB(t){return window.getComputedStyle(t)}class wB extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=RN}readValueFromInstance(e,n){if(dc.has(n))return this.projection?.isProjecting?L0(n):MU(e,n);{const i=bB(e),r=(Yx(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EN(e,n)}build(e,n,i){u_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return m_(e,n,i)}}const CN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TB(t,e,n,i){RN(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(CN.has(r)?r:p_(r),e.attrs[r])}class EB extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dc.has(n)){const i=JI(n);return i&&i.default||0}return n=CN.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return yN(e,n,i)}build(e,n,i){fN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){TB(e,n,i,r)}mount(e){this.isSVGTag=pN(e.tagName),super.mount(e)}}const SB=(t,e)=>d_(t)?new EB(e):new wB(e,{allowProjection:t!==S.Fragment});function Vl(t,e,n){const i=t.getProps();return f_(i,e,n!==void 0?n:i.custom,t)}const K0=t=>Array.isArray(t);function AB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ql(n))}function RB(t){return K0(t)?t[t.length-1]||0:t}function CB(t,e){const n=Vl(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const c in o){const h=RB(o[c]);AB(t,c,h)}}function IB(t){return!!(In(t)&&t.add)}function W0(t,e){const n=t.getValue("willChange");if(IB(n))return n.add(e);if(!n&&xr.WillChange){const i=new xr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function IN(t){return t.props[vN]}const NB=t=>t!==null;function DB(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(NB),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}const OB={type:"spring",stiffness:500,damping:25,restSpeed:10},kB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PB={type:"keyframes",duration:.8},MB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jB=(t,{keyframes:e})=>e.length>2?PB:dc.has(t)?t.startsWith("scale")?kB(e[1]):OB:MB;function VB({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const g_=(t,e,n,i={},r,o)=>c=>{const h=i_(i,t)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ts(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:r};VB(h)||Object.assign(y,jB(t,y)),y.duration&&(y.duration=Ts(y.duration)),y.repeatDelay&&(y.repeatDelay=Ts(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(H0(y),y.delay===0&&(x=!0)),(xr.instantAnimations||xr.skipAnimations)&&(x=!0,H0(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,x&&!o&&e.get()!==void 0){const _=DB(y.keyframes,h);if(_!==void 0){At.update(()=>{y.onUpdate(_),y.onComplete()});return}}return h.isSync?new t_(y):new s7(y)};function LB({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function NN(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(o=i);const d=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in h){const x=t.getValue(y,t.latestValues[y]??null),_=h[y];if(_===void 0||m&&LB(m,y))continue;const E={delay:n,...i_(o||{},y)},A=x.get();if(A!==void 0&&!x.isAnimating&&!Array.isArray(_)&&_===A&&!E.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const D=IN(t);if(D){const U=window.MotionHandoffAnimation(D,y,At);U!==null&&(E.startTime=U,N=!0)}}W0(t,y),x.start(g_(y,x,_,t.shouldReduceMotion&&XI.has(y)?{type:!1}:E,t,N));const I=x.animation;I&&d.push(I)}return c&&Promise.all(d).then(()=>{At.update(()=>{c&&CB(t,c)})}),d}function DN(t,e,n,i=0,r=1){const o=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(o,c):r===1?o*i:h-o*i}function X0(t,e,n={}){const i=Vl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(NN(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:x}=r;return UB(t,e,d,m,y,x,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,m]=h==="beforeChildren"?[o,c]:[c,o];return d().then(()=>m())}else return Promise.all([o(),c(n.delay)])}function UB(t,e,n=0,i=0,r=0,o=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(X0(d,e,{...c,delay:n+(typeof i=="function"?0:i)+DN(t.variantChildren,d,i,r,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function BB(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>X0(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=X0(t,e,n);else{const r=typeof e=="function"?Vl(t,e,n.custom):e;i=Promise.all(NN(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function ON(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const FB=c_.length;function kN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FB;n++){const i=c_[n],r=t.props[i];(uh(r)||r===!1)&&(e[i]=r)}return e}const zB=[...l_].reverse(),HB=l_.length;function qB(t){return e=>Promise.all(e.map(({animation:n,options:i})=>BB(t,n,i)))}function GB(t){let e=qB(t),n=pS(),i=!0;const r=d=>(m,y)=>{const x=Vl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:_,transitionEnd:E,...A}=x;m={...m,...A,...E}}return m};function o(d){e=d(t)}function c(d){const{props:m}=t,y=kN(t.parent)||{},x=[],_=new Set;let E={},A=1/0;for(let I=0;I<HB;I++){const D=zB[I],U=n[D],j=m[D]!==void 0?m[D]:y[D],q=uh(j),Y=D===d?U.isActive:null;Y===!1&&(A=I);let ne=j===y[D]&&j!==m[D]&&q;if(ne&&i&&t.manuallyAnimateOnMount&&(ne=!1),U.protectedKeys={...E},!U.isActive&&Y===null||!j&&!U.prevProp||ep(j)||typeof j=="boolean")continue;const P=$B(U.prevProp,j);let R=P||D===d&&U.isActive&&!ne&&q||I>A&&q,O=!1;const M=Array.isArray(j)?j:[j];let B=M.reduce(r(D),{});Y===!1&&(B={});const{prevResolvedValues:z={}}=U,L={...z,...B},Qe=oe=>{R=!0,_.has(oe)&&(O=!0,_.delete(oe)),U.needsAnimating[oe]=!0;const me=t.getValue(oe);me&&(me.liveStyle=!1)};for(const oe in L){const me=B[oe],ve=z[oe];if(E.hasOwnProperty(oe))continue;let V=!1;K0(me)&&K0(ve)?V=!ON(me,ve):V=me!==ve,V?me!=null?Qe(oe):_.add(oe):me!==void 0&&_.has(oe)?Qe(oe):U.protectedKeys[oe]=!0}U.prevProp=j,U.prevResolvedValues=B,U.isActive&&(E={...E,...B}),i&&t.blockInitialAnimation&&(R=!1);const he=ne&&P;R&&(!he||O)&&x.push(...M.map(oe=>{const me={type:D};if(typeof oe=="string"&&i&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,V=Vl(ve,oe);if(ve.enteringChildren&&V){const{delayChildren:ee}=V.transition||{};me.delay=DN(ve.enteringChildren,t,ee)}}return{animation:oe,options:me}}))}if(_.size){const I={};if(typeof m.initial!="boolean"){const D=Vl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);D&&D.transition&&(I.transition=D.transition)}_.forEach(D=>{const U=t.getBaseTarget(D),j=t.getValue(D);j&&(j.liveStyle=!0),I[D]=U??null}),x.push({animation:I})}let N=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(x):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(d,m)),n[d].isActive=m;const y=c(d);for(const x in n)n[x].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=pS()}}}function $B(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ON(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pS(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class wa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YB extends wa{constructor(e){super(e),e.animationState||(e.animationState=GB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ep(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let KB=0;class WB extends wa{constructor(){super(...arguments),this.id=KB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XB={animation:{Feature:YB},exit:{Feature:WB}};function dh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function kh(t){return{point:{x:t.pageX,y:t.pageY}}}const QB=t=>e=>a_(e)&&t(e,kh(e));function Yu(t,e,n,i){return dh(t,e,QB(n),i)}const PN=1e-4,ZB=1-PN,JB=1+PN,MN=.01,eF=0-MN,tF=0+MN;function Bn(t){return t.max-t.min}function nF(t,e,n){return Math.abs(t-e)<=n}function gS(t,e,n,i=.5){t.origin=i,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZB&&t.scale<=JB||isNaN(t.scale))&&(t.scale=1),(t.translate>=eF&&t.translate<=tF||isNaN(t.translate))&&(t.translate=0)}function Ku(t,e,n,i){gS(t.x,e.x,n.x,i?i.originX:void 0),gS(t.y,e.y,n.y,i?i.originY:void 0)}function yS(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function iF(t,e,n){yS(t.x,e.x,n.x),yS(t.y,e.y,n.y)}function vS(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function Wu(t,e,n){vS(t.x,e.x,n.x),vS(t.y,e.y,n.y)}function Ri(t){return[t("x"),t("y")]}const jN=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function sF(t,e){const n=xS(t.x,e.x),i=xS(t.y,e.y);return Math.sqrt(n**2+i**2)}class VN{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=My(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=sF(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!A)return;const{point:N}=_,{timestamp:I}=vn;this.history.push({...N,timestamp:I});const{onStart:D,onMove:U}=this.handlers;E||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Py(E,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:A,onSessionEnd:N,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=My(_.type==="pointercancel"?this.lastMoveEventInfo:Py(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,D),N&&N(_,D)},!a_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=r||window;const h=kh(e),d=Py(h,this.transformPagePoint),{point:m}=d,{timestamp:y}=vn;this.history=[{...m,timestamp:y}];const{onSessionStart:x}=n;x&&x(e,My(d,this.history)),this.removeListeners=Nh(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pa(this.updatePoint)}}function Py(t,e){return e?{point:e(t.point)}:t}function _S(t,e){return{x:t.x-e.x,y:t.y-e.y}}function My({point:t},e){return{point:t,delta:_S(t,LN(e)),offset:_S(t,rF(e)),velocity:aF(e,.1)}}function rF(t){return t[0]}function LN(t){return t[t.length-1]}function aF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=LN(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ts(e)));)n--;if(!i)return{x:0,y:0};const o=Ci(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function oF(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Nt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Nt(n,t,i.max):Math.min(t,n)),t}function bS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lF(t,{top:e,left:n,bottom:i,right:r}){return{x:bS(t.x,n,r),y:bS(t.y,e,i)}}function wS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function cF(t,e){return{x:wS(t.x,e.x),y:wS(t.y,e.y)}}function uF(t,e){let n=.5;const i=Bn(t),r=Bn(e);return r>i?n=oh(e.min,e.max-i,t.min):i>r&&(n=oh(t.min,t.max-r,e.min)),vr(0,1,n)}function hF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Q0=.35;function dF(t=Q0){return t===!1?t=0:t===!0&&(t=Q0),{x:TS(t,"left","right"),y:TS(t,"top","bottom")}}function TS(t,e,n){return{min:ES(t,e),max:ES(t,n)}}function ES(t,e){return typeof t=="number"?t:t[e]||0}const fF=new WeakMap;class mF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kh(x).point)},c=(x,_)=>{const{drag:E,dragPropagation:A,onDragStart:N}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_7(E),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(D=>{let U=this.getAxisMotionValue(D).get()||0;if(Es.test(U)){const{projection:j}=this.visualElement;if(j&&j.layout){const q=j.layout.layoutBox[D];q&&(U=Bn(q)*(parseFloat(U)/100))}}this.originPoint[D]=U}),N&&At.postRender(()=>N(x,_)),W0(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:N,onDrag:I}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=_;if(A&&this.currentDirection===null){this.currentDirection=pF(D),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),I&&I(x,_)},d=(x,_)=>{this.latestPointerEvent=x,this.latestPanInfo=_,this.stop(x,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Ri(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new VN(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:jN(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&At.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!gf(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=oF(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=lF(i.layoutBox,e):this.constraints=!1,this.elastic=dF(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ri(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hF(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=gB(i,r.root,this.visualElement.getTransformPagePoint());let c=cF(r.layout.layoutBox,o);if(n){const h=n(fB(c));this.hasMutatedConstraints=!!h,h&&(c=bN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=Ri(y=>{if(!gf(y,n,this.currentDirection))return;let x=d&&d[y]||{};c&&(x={min:0,max:0});const _=r?200:1e6,E=r?40:1e7,A={type:"inertia",velocity:i?e[y]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(y,A)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return W0(this.visualElement,e),i.start(g_(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ri(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ri(n=>{const{drag:i}=this.getProps();if(!gf(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];o.set(e[n]-Nt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Cl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ri(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();r[c]=uF({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ri(c=>{if(!gf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Nt(d,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;fF.set(this.visualElement,this);const e=this.visualElement.current,n=Yu(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Cl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),At.read(i);const c=dh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ri(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=d[y].translate,x.set(x.get()+d[y].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=Q0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function gf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gF extends wa{constructor(e){super(e),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new mF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}unmount(){this.removeGroupControls(),this.removeListeners()}}const SS=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class yF extends wa{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(e){this.session=new VN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:SS(e),onStart:SS(n),onMove:i,onEnd:(o,c)=>{delete this.session,r&&At.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Eu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=AS(t,e.target.x),i=AS(t,e.target.y);return`${n}% ${i}%`}},vF={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=ga.parse(t);if(r.length>5)return i;const o=ga.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=d;const m=Nt(h,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),o(r)}};let jy=!1;class xF extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;F7(_F),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),jy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,jy=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||At.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;jy=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UN(t){const[e,n]=oN(),i=S.useContext(Vx);return g.jsx(xF,{...t,layoutGroup:i,switchLayoutGroup:S.useContext(xN),isPresent:e,safeToRemove:n})}const _F={borderRadius:{...Eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Eu,borderTopRightRadius:Eu,borderBottomLeftRadius:Eu,borderBottomRightRadius:Eu,boxShadow:vF};function bF(t,e,n){const i=In(t)?t:Ql(t);return i.start(g_("",i,e,n)),i.animation}const wF=(t,e)=>t.depth-e.depth;class TF{constructor(){this.children=[],this.isDirty=!1}add(e){Bx(this.children,e),this.isDirty=!0}remove(e){Fx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wF),this.isDirty=!1,this.children.forEach(e)}}function EF(t,e){const n=Wn.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(pa(i),t(o-e))};return At.setup(i,!0),()=>pa(i)}const BN=["TopLeft","TopRight","BottomLeft","BottomRight"],SF=BN.length,RS=t=>typeof t=="string"?parseFloat(t):t,CS=t=>typeof t=="number"||Ne.test(t);function AF(t,e,n,i,r,o){r?(t.opacity=Nt(0,n.opacity??1,RF(i)),t.opacityExit=Nt(e.opacity??1,0,CF(i))):o&&(t.opacity=Nt(e.opacity??1,n.opacity??1,i));for(let c=0;c<SF;c++){const h=`border${BN[c]}Radius`;let d=IS(e,h),m=IS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||CS(d)===CS(m)?(t[h]=Math.max(Nt(RS(d),RS(m),i),0),(Es.test(m)||Es.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,i))}function IS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RF=FN(0,.5,RI),CF=FN(.5,.95,Di);function FN(t,e,n){return i=>i<t?0:i>e?1:n(oh(t,e,i))}function NS(t,e){t.min=e.min,t.max=e.max}function Ai(t,e){NS(t.x,e.x),NS(t.y,e.y)}function DS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OS(t,e,n,i,r){return t-=e,t=dm(t,1/n,i),r!==void 0&&(t=dm(t,1/r,i)),t}function IF(t,e=0,n=1,i=.5,r,o=t,c=t){if(Es.test(e)&&(e=parseFloat(e),e=Nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Nt(o.min,o.max,i);t===o&&(h-=e),t.min=OS(t.min,e,n,h,r),t.max=OS(t.max,e,n,h,r)}function kS(t,e,[n,i,r],o,c){IF(t,e[n],e[i],e[r],e.scale,o,c)}const NF=["x","scaleX","originX"],DF=["y","scaleY","originY"];function PS(t,e,n,i){kS(t.x,e,NF,n?n.x:void 0,i?i.x:void 0),kS(t.y,e,DF,n?n.y:void 0,i?i.y:void 0)}function MS(t){return t.translate===0&&t.scale===1}function zN(t){return MS(t.x)&&MS(t.y)}function jS(t,e){return t.min===e.min&&t.max===e.max}function OF(t,e){return jS(t.x,e.x)&&jS(t.y,e.y)}function VS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HN(t,e){return VS(t.x,e.x)&&VS(t.y,e.y)}function LS(t){return Bn(t.x)/Bn(t.y)}function US(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kF{constructor(){this.members=[]}add(e){Bx(this.members,e),e.scheduleRender()}remove(e){if(Fx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PF(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((r||o||c)&&(i=`translate3d(${r}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:x,rotateY:_,skewX:E,skewY:A}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),x&&(i+=`rotateX(${x}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const Vy=["","X","Y","Z"],MF=1e3;let jF=0;function Ly(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qN(i)}function GN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e?.()){this.id=jF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UF),this.nodes.forEach(HF),this.nodes.forEach(qF),this.nodes.forEach(BF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new TF)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qx),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=aN(c)&&!A7(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,x=0;const _=()=>this.root.updateBlockedByResize=!1;At.read(()=>{x=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==x&&(x=E,this.root.updateBlockedByResize=!0,y&&y(),y=EF(_,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(zS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||WF,{onLayoutAnimationStart:N,onLayoutAnimationComplete:I}=m.getProps(),D=!this.targetLayout||!HN(this.targetLayout,E),U=!x&&_;if(this.options.layoutRoot||this.resumeFrom||U||x&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...i_(A,"layout"),onPlay:N,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,U)}else x||zS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GF),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zF),this.nodes.forEach(VF),this.nodes.forEach(LF)):this.nodes.forEach(FS),this.clearAllSnapshots();const h=Wn.now();vn.delta=vr(0,1e3/60,h-vn.timestamp),vn.timestamp=h,vn.isProcessing=!0,Ay.update.process(vn),Ay.preRender.process(vn),Ay.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FF),this.sharedNodes.forEach($F)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||ro(this.latestValues)||y)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),XF(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ft();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QF))){const{scroll:m}=this.root;m&&(Il(h.x,m.offset.x),Il(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Ft();if(Ai(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:x}=m;m!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Ai(h,c),Il(h.x,y.offset.x),Il(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=Ft();Ai(d,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Nl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ro(y.latestValues)&&Nl(d,y.latestValues)}return ro(this.latestValues)&&Nl(d,this.latestValues),d}removeTransform(c){const h=Ft();Ai(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ro(m.latestValues))continue;G0(m.latestValues)&&m.updateSnapshot();const y=Ft(),x=m.measurePageBox();Ai(y,x),PS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return ro(this.latestValues)&&PS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),TN(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Wu(this.relativeTargetOrigin,this.target,_.target),Ai(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||G0(this.parent.latestValues)||wN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Ai(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;pB(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ft());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DS(this.prevProjectionDelta.x,this.projectionDelta.x),DS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!US(this.projectionDelta.x,this.prevProjectionDelta.x)||!US(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},x=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Ft(),E=d?d.source:void 0,A=this.layout?this.layout.source:void 0,N=E!==A,I=this.getStack(),D=!I||I.members.length<=1,U=!!(N&&!D&&this.options.crossfade===!0&&!this.path.some(KF));this.animationProgress=0;let j;this.mixTargetDelta=q=>{const Y=q/1e3;HS(x.x,c.x,Y),HS(x.y,c.y,Y),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YF(this.relativeTarget,this.relativeTargetOrigin,_,Y),j&&OF(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ft()),Ai(j,this.relativeTarget)),N&&(this.animationValues=y,AF(y,m,this.latestValues,Y,U,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ql(0)),this.currentAnimation=bF(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&$N(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ft();const x=Bn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+x;const _=Bn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}Ai(h,d),Nl(h,y),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kF),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Ly("z",c,m,this.animationValues);for(let y=0;y<Vy.length;y++)Ly(`rotate${Vy[y]}`,c,m,this.animationValues),Ly(`skew${Vy[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Of(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Of(h?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=PF(this.projectionDeltaWithTransform,this.treeScale,y);d&&(x=d(y,x)),c.transform=x;const{x:_,y:E}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in hh){if(y[A]===void 0)continue;const{correct:N,applyTo:I,isCSSVariable:D}=hh[A],U=x==="none"?y[A]:N(y[A],m);if(I){const j=I.length;for(let q=0;q<j;q++)c[I[q]]=U}else D?this.options.visualElement.renderState.vars[A]=U:c[A]=U}this.options.layoutId&&(c.pointerEvents=m===this?Of(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(BS),this.root.sharedNodes.clear()}}}function VF(t){t.updateLayout()}function LF(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?Ri(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],_=Bn(x);x.min=n[y].min,x.max=x.min+_}):$N(r,e.layoutBox,n)&&Ri(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],_=Bn(n[y]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const c=Dl();Ku(c,n,e.layoutBox);const h=Dl();o?Ku(h,t.applyTransform(i,!0),e.measuredBox):Ku(h,n,e.layoutBox);const d=!zN(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:_}=y;if(x&&_){const E=Ft();Wu(E,e.layoutBox,x.layoutBox);const A=Ft();Wu(A,n,_.layoutBox),HN(E,A)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function UF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FF(t){t.clearSnapshot()}function BS(t){t.clearMeasurements()}function FS(t){t.isLayoutDirty=!1}function zF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HF(t){t.resolveTargetDelta()}function qF(t){t.calcProjection()}function GF(t){t.resetSkewAndRotation()}function $F(t){t.removeLeadSnapshot()}function HS(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qS(t,e,n,i){t.min=Nt(e.min,n.min,i),t.max=Nt(e.max,n.max,i)}function YF(t,e,n,i){qS(t.x,e.x,n.x,i),qS(t.y,e.y,n.y,i)}function KF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WF={duration:.45,ease:[.4,0,.1,1]},GS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$S=GS("applewebkit/")&&!GS("chrome/")?Math.round:Di;function YS(t){t.min=$S(t.min),t.max=$S(t.max)}function XF(t){YS(t.x),YS(t.y)}function $N(t,e,n){return t==="position"||t==="preserve-aspect"&&!nF(LS(e),LS(n),.2)}function QF(t){return t!==t.root&&t.scroll?.wasRoot}const ZF=GN({attachResizeListener:(t,e)=>dh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uy={current:void 0},YN=GN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uy.current){const t=new ZF({});t.mount(window),t.setOptions({layoutScroll:!0}),Uy.current=t}return Uy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JF={pan:{Feature:yF},drag:{Feature:gF,ProjectionNode:YN,MeasureLayout:UN}};function KS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&At.postRender(()=>o(e,kh(e)))}class ez extends wa{mount(){const{current:e}=this.node;e&&(this.unmount=b7(e,(n,i)=>(KS(this.node,i,"Start"),r=>KS(this.node,r,"End"))))}unmount(){}}class tz extends wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nh(dh(this.node.current,"focus",()=>this.onFocus()),dh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&At.postRender(()=>o(e,kh(e)))}class nz extends wa{mount(){const{current:e}=this.node;e&&(this.unmount=S7(e,(n,i)=>(WS(this.node,i,"Start"),(r,{success:o})=>WS(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Z0=new WeakMap,By=new WeakMap,iz=t=>{const e=Z0.get(t.target);e&&e(t)},sz=t=>{t.forEach(iz)};function rz({root:t,...e}){const n=t||document;By.has(n)||By.set(n,{});const i=By.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(sz,{root:t,...e})),i[r]}function az(t,e,n){const i=rz(e);return Z0.set(t,n),i.observe(t),()=>{Z0.delete(t),i.unobserve(t)}}const oz={some:0,all:1};class lz extends wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:oz[r]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),_=m?y:x;_&&_(d)};return az(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cz(e,n))&&this.startObserver()}unmount(){}}function cz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uz={inView:{Feature:lz},tap:{Feature:nz},focus:{Feature:tz},hover:{Feature:ez}},hz={layout:{ProjectionNode:YN,MeasureLayout:UN}},dz={...XB,...uz,...JF,...hz},la=dB(dz,SB),fz=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(!1),[r,o]=S.useState(0),c=S.useRef(null);S.useEffect(()=>{const m=na.currentUser;if(!m)return;const y=_t(qi,"users",m.uid,"notifications"),x=As(y,Kl("createdAt","desc")),_=Ht(x,E=>{const A=E.docs.map(N=>({id:N.id,...N.data()}));e(A),o(A.filter(N=>!N.read).length)});return()=>_()},[]),S.useEffect(()=>{const m=na.currentUser;if(!m)return;const y=_t(qi,"users",m.uid,"receipts"),x=Ht(y,async _=>{for(const E of _.docChanges())if(E.type==="modified"){const A=E.doc.data(),N=E.doc.id;if(A.status&&["approved","rejected","cancelled"].includes(A.status)){const I=A.status==="approved"?` Your top-up of ${A.amount} has been approved!`:A.status==="rejected"?` Your top-up of ${A.amount} was rejected.`:` Your top-up of ${A.amount} was cancelled.`;(await Gm(As(_t(qi,"users",m.uid,"notifications")))).docs.some(j=>j.data().receiptId===N&&j.data().status===A.status)||await oa(_t(qi,"users",m.uid,"notifications"),{message:I,read:!1,createdAt:new Date().toISOString(),receiptId:N,status:A.status})}}});return()=>x()},[]),S.useEffect(()=>{const m=y=>{c.current&&!c.current.contains(y.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=async()=>{i(!n);const m=na.currentUser;!n&&m&&r>0&&t.filter(y=>!y.read).forEach(async y=>{const x=je(qi,"users",m.uid,"notifications",y.id);await Ni(x,{read:!0})})},d=async m=>{const y=na.currentUser;if(!(!y||!confirm("Delete this notification?")))try{await Sh(je(qi,"users",y.uid,"notifications",m))}catch(_){console.error("Error deleting notification:",_),alert("Failed to delete notification.")}};return g.jsxs("div",{className:"relative",ref:c,children:[g.jsxs("div",{className:"relative text-gray-200 transition cursor-pointer hover:text-pink-500",onClick:h,children:[g.jsx(p8,{size:22}),r>0&&g.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),g.jsx(um,{children:n&&g.jsxs(la.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.2},className:"absolute right-0 z-50 mt-3 overflow-hidden bg-gray-900 border border-gray-800 shadow-2xl w-72 sm:w-80 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-800",children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-100",children:"Notifications"}),t.length>0&&g.jsx("span",{className:"text-xs text-gray-400",children:r>0?`${r} unread`:"All read "})]}),g.jsx("div",{className:"overflow-y-auto max-h-64 custom-scrollbar",children:t.length>0?t.map(m=>g.jsxs(la.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},className:`flex items-start justify-between px-4 py-3 text-sm border-b border-gray-800 last:border-none transition hover:bg-gray-800/60 ${m.read?"":"bg-gray-800/40"}`,children:[g.jsxs("div",{className:"flex-1 pr-3",children:[g.jsx("p",{className:"text-gray-200 break-words",children:m.message}),g.jsx("span",{className:"block mt-1 text-xs text-gray-500",children:new Date(m.createdAt).toLocaleString()})]}),g.jsx("button",{onClick:()=>d(m.id),className:"p-1 text-gray-400 rounded hover:text-red-500 hover:bg-gray-800",title:"Delete notification",children:g.jsx(I8,{size:13})})]},m.id)):g.jsx("div",{className:"py-6 text-sm text-center text-gray-400",children:"No notifications yet "})})]})})]})},fm=()=>g.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen overflow-hidden text-white bg-gradient-to-br from-gray-900 via-gray-950 to-black",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 overflow-hidden bg-gray-800/70",children:g.jsx("div",{className:"w-1/3 h-1 bg-gradient-to-r from-pink-500 via-fuchsia-500 to-pink-500 animate-shimmer"})}),g.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[g.jsx("div",{className:"flex items-center justify-center w-20 h-20",children:g.jsx("img",{src:"/logo.png",alt:"App Logo",className:"object-contain w-full h-full animate-pulse drop-shadow-[0_0_12px_rgba(236,72,153,0.5)]"})}),g.jsx("p",{className:"text-sm tracking-wide text-gray-300 uppercase",children:"Loading your experience..."}),g.jsx("div",{className:"w-8 h-8 mt-2 border-2 border-pink-500 rounded-full border-t-transparent animate-spin"})]}),g.jsx("div",{className:"absolute w-[400px] h-[400px] bg-pink-500/20 rounded-full blur-3xl animate-pulse"}),g.jsx("style",{children:`
          @keyframes shimmer {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
            100% { transform: translateX(100%); }
          }
          .animate-shimmer {
            animation: shimmer 1.6s ease-in-out infinite;
          }
        `})]}),mz=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),pz=()=>g.jsxs("div",{className:"overflow-hidden bg-gray-800 rounded-lg shadow-lg animate-pulse",children:[g.jsx("div",{className:"w-full bg-gray-700 rounded-t-lg aspect-video"}),g.jsxs("div",{className:"p-2 space-y-2",children:[g.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),g.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),fc=({searchTerm:t,onClose:e,onSelect:n,userId:i})=>{const[r,o]=S.useState([]),[c,h]=S.useState(!0),[d,m]=S.useState(12);S.useEffect(()=>{if(!t.trim()){o([]),h(!1);return}(async()=>{h(!0);try{const E=await Gm(_t(qi,"videos")),A=[];E.forEach(N=>{const I=N.data();(I.description?.toLowerCase().includes(t.toLowerCase())||I.category?.toLowerCase().includes(t.toLowerCase()))&&A.push({id:N.id,...I})}),o(A)}catch(E){console.error("Search fetch error:",E)}finally{h(!1)}})()},[t]);const y=_=>{n&&n(_)},x=()=>{m(_=>_+12)};return g.jsx("div",{className:"fixed inset-x-0 top-[140px] sm:top-[100px] z-50 p-4 bg-black/50 backdrop-blur-sm animate-[slideFadeIn_0.3s_ease-out]",children:g.jsxs("div",{className:"relative w-full max-w-[90rem] mx-auto bg-gray-900 rounded-xl p-4 max-h-[calc(100vh-160px)] overflow-auto",children:[g.jsx("button",{onClick:e,className:"absolute text-xl font-bold text-gray-400 top-3 right-3 hover:text-pink-500",children:""}),g.jsxs("h3",{className:"mb-4 text-xl font-semibold text-pink-500",children:['Search Results for "',t,'"']}),c?g.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:Array.from({length:12}).map((_,E)=>g.jsx(pz,{},E))}):r.length===0?g.jsx("div",{className:"py-20 text-center text-gray-400",children:"No videos found."}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:r.slice(0,d).map(_=>g.jsxs("div",{onClick:()=>y(_.id),className:"overflow-hidden transition-transform bg-gray-800 rounded-lg shadow-lg cursor-pointer hover:scale-105",children:[g.jsxs("div",{className:"relative",children:[_.thumbnail?g.jsx("img",{src:_.thumbnail,alt:_.description||"Video Thumbnail",className:"object-cover w-full rounded-t-lg aspect-video"}):g.jsx("div",{className:"w-full bg-gray-700 rounded-t-lg aspect-video"}),_.duration&&g.jsx("span",{className:"absolute bottom-1 left-1 px-2 py-0.5 text-xs font-semibold text-white bg-black/50 rounded",children:_.duration})]}),g.jsxs("div",{className:"p-2",children:[g.jsx("p",{className:"text-[10px] text-gray-300 line-clamp-2",children:_.description||"No Title"}),g.jsxs("div",{className:"flex items-center justify-between mt-1 text-[10px] text-gray-400",children:[g.jsx("span",{children:_.category}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),mz(_.views??0)]})]})]})]},_.id))}),d<r.length&&g.jsx("div",{className:"flex justify-center mt-4",children:g.jsx("button",{onClick:x,className:"px-4 py-2 text-sm text-white transition",children:"Load More"})})]})]})})},XS=["HOME","CATEGORIES","TOP RATED","MOST VIEWED"],Io=({search:t="",setSearch:e=()=>{},showCategories:n=!1,availableCategories:i=[],setSelectedCategory:r=()=>{},setShowCategories:o=()=>{},selectedCategory:c=null,user:h=null,loading:d=!1})=>{const m=jt(),y=Pi(),[x,_]=S.useState(!1),[E,A]=S.useState(!1),[N,I]=S.useState(!1),[D,U]=S.useState(null),j=S.useMemo(()=>{let P=localStorage.getItem("xstreamGuestId");return P||(P=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",P)),P},[]),q=P=>{switch(P){case"HOME":r(null),e(""),m("/");break;case"CATEGORIES":o(R=>!R);break;case"TOP RATED":m("/toprated");break;case"MOST VIEWED":m("/mostviewed");break}},Y=()=>{h?m("/profile"):A(!0)},ne={HOME:"/","TOP RATED":"/toprated","MOST VIEWED":"/mostviewed"};return S.useEffect(()=>{!N&&D&&(m(`/embed/${D}`),U(null))},[N,D,m]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"fixed top-0 left-0 z-50 w-full bg-black shadow-md",children:[d&&g.jsx(fm,{}),g.jsxs("div",{className:"relative flex items-center justify-between w-full px-3 py-2 mx-auto sm:py-3 max-w-7xl",children:[g.jsx("button",{onClick:()=>_(!0),className:"flex items-center justify-center w-8 h-8 text-white rounded-md hover:bg-gray-800 sm:w-10 sm:h-10",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),g.jsx("div",{className:"absolute transform -translate-x-1/2 left-1/2",children:g.jsx("img",{src:vh,alt:"Logo",className:"w-auto select-none h-7 sm:h-9"})}),g.jsxs("div",{className:"relative flex items-center gap-3 sm:gap-4",children:[g.jsx(fz,{}),g.jsx("div",{className:"relative",children:g.jsx("button",{onClick:Y,className:"flex items-center justify-center w-8 h-8 overflow-hidden rounded-full hover:ring-2 hover:ring-pink-600",children:g.jsx("img",{src:h?.avatar||"/avatar/profile.png",alt:"User Avatar",className:"object-cover w-full h-full"})})})]})]})]}),g.jsx(O8,{isOpen:x,setIsOpen:_,navLinks:XS,handleNavClick:q,selectedCategory:c,showCategories:n,setSelectedCategory:r,setShowCategories:o,availableCategories:i}),g.jsx("div",{className:"mt-16",children:g.jsx("div",{className:"flex flex-col items-center justify-between gap-2 mx-auto max-w-7xl sm:flex-row",children:g.jsxs("div",{className:"flex flex-col items-center w-full gap-1 mt-1 sm:flex-row sm:items-center sm:gap-4 sm:w-auto sm:mt-0",children:[g.jsxs("div",{className:"relative flex gap-3",children:[XS.map(P=>g.jsx("button",{onClick:()=>q(P),className:`text-sm font-semibold sm:text-base transition-colors ${ne[P]===y.pathname?"text-pink-600 underline underline-offset-4":"text-gray-200 hover:text-pink-600"}`,children:P},P)),n&&g.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-gray-900 rounded-md shadow-lg min-w-[160px] max-h-60 overflow-auto",children:[g.jsx("div",{onClick:()=>{r(null),o(!1)},className:`px-3 py-1 cursor-pointer text-white hover:bg-pink-600 rounded-md ${c?"":"bg-pink-600"}`,children:"All"}),i.length?i.map(P=>g.jsx("div",{onClick:()=>{r(P),o(!1)},className:`px-3 py-1 cursor-pointer text-white hover:bg-pink-600 rounded-md ${c===P?"bg-pink-600":""}`,children:P},P)):g.jsx("div",{className:"px-3 py-1 text-gray-400",children:"No categories"})]})]}),g.jsx("div",{className:"w-[91%] mx-auto mt-1 sm:w-56 sm:mt-0",children:g.jsx("input",{type:"text",placeholder:"Search by description or category...",value:t,onChange:P=>{e(P.target.value),I(!0)},className:"w-full px-2 py-1 text-sm text-white placeholder-gray-400 transition bg-gray-800 border border-pink-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"})})]})})}),N&&g.jsx(fc,{searchTerm:t,userId:h?.id||j,onClose:()=>I(!1),onSelect:P=>{U(P),I(!1)}}),E&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md animate-fadeIn",children:g.jsx("div",{className:"relative p-[2px] rounded-2xl bg-gradient-to-r from-pink-500 via-fuchsia-500 to-pink-600 shadow-[0_0_25px_rgba(236,72,153,0.3)]",children:g.jsxs("div",{className:"relative p-6 text-center bg-gray-900 border border-gray-700 shadow-2xl w-80 rounded-2xl",children:[g.jsx("button",{onClick:()=>A(!1),className:"absolute text-gray-400 transition top-3 right-3 hover:text-pink-500",children:""}),g.jsx("h2",{className:"mb-3 text-lg font-semibold text-pink-500",children:"Only authenticated users can access"}),g.jsxs("p",{className:"mb-6 text-sm text-gray-300",children:["You must sign up first to enter"," ",g.jsx("span",{className:"font-semibold text-white",children:"Profile"}),"."]}),g.jsx("button",{onClick:()=>{A(!1),setTimeout(()=>m("/signup"),250)},className:"px-6 py-2 text-sm font-medium text-white transition-all duration-200 rounded-lg shadow-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:from-pink-700 hover:to-fuchsia-700 hover:shadow-pink-500/40",children:"Sign Up"})]})})})]})},np=({containerId:t="banner-container"})=>{const[e,n]=S.useState("desktop");return S.useEffect(()=>{const i=()=>{const r=window.innerWidth;r<640?n("mobile"):r>=640&&r<1024?n("tablet"):n("desktop")};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),S.useEffect(()=>{let i;e==="mobile"?(window.atOptions={key:"efcd31c57765e76b909f9cc0a27c35ca",format:"iframe",height:50,width:320,params:{}},i=document.createElement("script"),i.src="//www.highperformanceformat.com/efcd31c57765e76b909f9cc0a27c35ca/invoke.js"):e==="tablet"?(window.atOptions={key:"78b1b47d524714a56f16dc601d742121",format:"iframe",height:60,width:468,params:{}},i=document.createElement("script"),i.src="//www.highperformanceformat.com/78b1b47d524714a56f16dc601d742121/invoke.js"):(window.atOptions={key:"4e1d95767d3d2bf1b94003676f576c54",format:"iframe",height:90,width:728,params:{}},i=document.createElement("script"),i.src="//www.highperformanceformat.com/4e1d95767d3d2bf1b94003676f576c54/invoke.js"),i.async=!0;const r=document.getElementById(t);return r&&(r.innerHTML="",r.appendChild(i)),()=>{r&&(r.innerHTML="")}},[e,t]),g.jsx("div",{className:"flex justify-center w-full mb-4",style:{marginTop:e==="mobile"?"1.5rem":"1rem",zIndex:40},children:g.jsx("div",{id:t,className:"flex items-center justify-center p-2 sm:p-3 bg-gray-900 rounded-lg shadow-lg w-full max-w-[728px]",style:{minHeight:e==="mobile"?"70px":"90px"}})})},gz=({cooldown:t=12e4})=>{const[e,n]=S.useState(!1),i=()=>{const o=setTimeout(()=>n(!0),t);return()=>clearTimeout(o)};S.useEffect(()=>i(),[t]),S.useEffect(()=>{if(!e)return;const o=document.createElement("script");o.src="//pl27861784.effectivegatecpm.com/28fa37fb77484587282bd4ad25c04dd2/invoke.js",o.async=!0,o.setAttribute("data-cfasync","false");const c=document.getElementById("container-28fa37fb77484587282bd4ad25c04dd2");return c&&c.appendChild(o),()=>{c&&(c.innerHTML="")}},[e]);const r=()=>{n(!1),i()};return e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-opacity bg-black/50 backdrop-blur-sm",children:g.jsxs("div",{className:"relative w-11/12 max-w-md p-6 animate-fadeIn",children:[g.jsx("button",{onClick:r,className:"absolute z-50 text-2xl font-bold text-gray-400 transition top-3 right-3 hover:text-white",children:""}),g.jsx("div",{id:"container-28fa37fb77484587282bd4ad25c04dd2",className:"relative z-0 w-full h-auto"})]})}):null},yz=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),vz=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e},xz=()=>g.jsxs("div",{className:"overflow-hidden bg-gray-800 shadow-lg animate-pulse",children:[g.jsx("div",{className:"w-full bg-gray-700 rounded-t aspect-video"}),g.jsxs("div",{className:"p-2 space-y-2",children:[g.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),g.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),_z=()=>{const[t,e]=S.useState(!1),[n,i]=S.useState(null),[r,o]=S.useState(""),[c,h]=S.useState([]),[d,m]=S.useState(1),[y]=S.useState(12),[x,_]=S.useState(!0),[E,A]=S.useState(null),N=On(ot),I=Jn(ot),D=jt();S.useEffect(()=>{const M=Ns(I,async B=>{if(B)try{const z=je(N,"users",B.uid),L=await hn(z);L.exists()?A(L.data()):(console.warn("No user data found in Firestore."),A({uid:B.uid,email:B.email,provider:B.providerData[0]?.providerId||"email"}))}catch(z){console.error("Error fetching user data:",z),A({uid:B.uid,email:B.email,provider:B.providerData[0]?.providerId||"email"})}else A(null)});return()=>M()},[I,N]),S.useEffect(()=>{const M=_t(N,"videos"),B=Ht(M,z=>{const L=z.docs.map(he=>({id:he.id,...he.data()})).filter(he=>!he.exclusive),Qe=vz(L);h(Qe),m(1),_(!1)});return()=>B()},[N]);const U=M=>{M==="HOME"?(i(null),o("")):M==="CATEGORIES"?e(B=>!B):M==="TOP RATED"?D("/toprated"):M==="MOST VIEWED"&&D("/mostviewed")},j=c.filter(M=>{const B=n?M.category===n:!0,z=r.trim()===""?!0:(M.description||"").toLowerCase().includes(r.trim().toLowerCase());return B&&z}),q=d*y,Y=q-y,ne=j.slice(Y,q),P=Math.ceil(j.length/y),R=[...new Set(c.map(M=>M.category).filter(Boolean))],O=M=>m(M);return g.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[g.jsx(Io,{search:r,setSearch:o,handleNavClick:U,showCategories:t,availableCategories:R,setSelectedCategory:i,setShowCategories:e,selectedCategory:n,user:E}),g.jsx(np,{}),g.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-2 pb-6",children:[j.length===0&&!x?g.jsx("div",{className:"py-20 text-center text-gray-400",children:"No videos found."}):g.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:x?Array.from({length:y}).map((M,B)=>g.jsx(xz,{},B)):ne.map(M=>g.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>D("/sponsored",{state:{videoId:M.id,user:E}}),children:[g.jsxs("div",{className:"relative",children:[M.thumbnail?g.jsx("img",{src:M.thumbnail,alt:M.description||"Video Thumbnail",className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"w-full bg-black aspect-video"}),M.duration&&g.jsx("span",{className:"absolute bottom-1 left-1 px-2 py-0.5 text-xs font-semibold text-white",children:M.duration})]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:M.description}),g.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-400",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),g.jsx("span",{children:yz(M.views??0)})]})]})]},M.id))}),!x&&P>1&&g.jsx(bz,{currentPage:d,totalPages:P,onPageChange:O})]}),g.jsx(cc,{}),g.jsx(gz,{cooldown:12e4})]})},bz=({currentPage:t,totalPages:e,onPageChange:n})=>{const i=Array.from({length:e},(r,o)=>o+1);return g.jsx("nav",{className:"flex justify-center mt-8",children:g.jsxs("ul",{className:"flex space-x-2",children:[t>1&&g.jsx("li",{children:g.jsx("button",{onClick:()=>n(t-1),className:"px-3 py-1 text-pink-600 transition border border-pink-600 rounded hover:bg-pink-600 hover:text-white",children:"Prev"})}),i.map(r=>g.jsx("li",{children:g.jsx("button",{onClick:()=>n(r),className:`px-3 py-1 border rounded transition ${t===r?"bg-pink-600 text-white border-pink-600":"border-pink-600 text-pink-600 hover:bg-pink-600 hover:text-white"}`,children:r})},r)),t<e&&g.jsx("li",{children:g.jsx("button",{onClick:()=>n(t+1),className:"px-3 py-1 text-pink-600 transition border border-pink-600 rounded hover:bg-pink-600 hover:text-white",children:"Next"})})]})})},Su=On(ot),QS=({userId:t,btnText:e="View Top-ups"})=>{const[n,i]=S.useState([]),[r,o]=S.useState(""),[c,h]=S.useState(!1),[d,m]=S.useState(0),[y,x]=S.useState(null),[_,E]=S.useState(null),[A,N]=S.useState({}),I=[{price:5,description:"3 hrs / 1 day",validity:24*60*60*1e3},{price:10,description:"7 hrs / 2 days",validity:48*60*60*1e3}];S.useEffect(()=>{if(!t)return;const j=Ht(je(Su,"users",t),q=>{q.exists()&&x({id:q.id,...q.data()})});return()=>j()},[t]),S.useEffect(()=>{if(!t)return;const j=_t(Su,"users",t,"receipts"),q=As(j,rx("status","==","processing")),Y=Ht(q,ne=>{const P=ne.docs.map(R=>({id:R.id,...R.data()}));i(P),m(ne.size)});return()=>Y()},[t]);const D=async(j,q)=>{if(q!=="approved"&&!r.trim()){alert("Please add remarks");return}try{const Y=je(Su,"users",t,"receipts",j);if(await Ni(Y,{status:q,remarks:q==="approved"?"":r,updatedAt:new Date}),q==="approved"){const ne=je(Su,"users",t),P=n.find(L=>L.id===j),R=I.find(L=>L.price===P?.amount);let O=0,M=0;R?.price===5?(O=3*60*60*1e3,M=24*60*60*1e3):R?.price===10?(O=7*60*60*1e3,M=48*60*60*1e3):(O=3*60*60*1e3,M=24*60*60*1e3);const B=new Date,z=new Date(B.getTime()+M);await Ni(ne,{exclusiveAccessExpiry:z.toISOString(),exclusiveAccessRemaining:O,exclusiveAccessStarted:!0}),console.log(` Granted ${O/36e5}h access (valid for ${M/36e5}h)`)}o(""),N(ne=>({...ne,[j]:`${q.charAt(0).toUpperCase()+q.slice(1)} successfully!`})),setTimeout(()=>{N(ne=>({...ne,[j]:""}))},3e3)}catch(Y){console.error("Error updating receipt:",Y),alert("Failed to update receipt")}},U=async j=>{if(window.confirm("Are you sure you want to delete this receipt?"))try{await Sh(je(Su,"users",t,"receipts",j))}catch(q){console.error("Error deleting receipt:",q),alert("Failed to delete receipt")}};return g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>h(!0),className:"relative px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded hover:bg-blue-700",children:[e,d>0&&g.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold text-white bg-red-600 rounded-full",children:d})]}),c&&y&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:g.jsxs("div",{className:"w-full max-w-md p-5 bg-gray-900 rounded-lg shadow-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-xl font-semibold text-pink-500",children:y.displayName||y.email||"User"}),g.jsx("button",{onClick:()=>h(!1),className:"text-xl font-bold text-gray-200 hover:text-white",children:""})]}),n.length===0?g.jsx("p",{className:"text-gray-400",children:"No pending top-ups."}):g.jsx("div",{className:"space-y-2 overflow-y-auto max-h-64",children:n.map(j=>g.jsxs("div",{className:"p-3 border border-gray-800 rounded bg-gray-800/60",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Amount:"})," ",j.amount||0," ",I.find(q=>q.price===j.amount)?.description&&g.jsxs("span",{className:"text-sm text-gray-400",children:["(",I.find(q=>q.price===j.amount)?.description,")"]})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Status:"})," ",g.jsx("span",{className:`font-semibold ${j.status==="approved"?"text-green-400":j.status==="rejected"?"text-red-400":j.status==="processing"?"text-yellow-400":"text-gray-400"}`,children:j.status})]}),j.receiptURL&&g.jsx("button",{onClick:()=>E(j.receiptURL),className:"text-sm text-blue-400 underline",children:"View Receipt"}),g.jsx("p",{className:"text-sm text-gray-400",children:j.createdAt?new Date(j.createdAt.seconds*1e3).toLocaleString():""}),g.jsx("textarea",{placeholder:"Remarks...",value:r,onChange:q=>o(q.target.value),className:"w-full p-2 mt-2 text-sm text-white bg-gray-700 rounded"}),g.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-2",children:[g.jsx("button",{onClick:()=>D(j.id,"approved"),className:"px-3 py-1 text-xs text-white bg-green-600 rounded hover:bg-green-700",children:"Approve"}),g.jsx("button",{onClick:()=>D(j.id,"rejected"),className:"px-3 py-1 text-xs text-white bg-red-600 rounded hover:bg-red-700",children:"Reject"}),g.jsx("button",{onClick:()=>D(j.id,"cancelled"),className:"px-3 py-1 text-xs text-white bg-gray-600 rounded hover:bg-gray-500",children:"Cancel"}),g.jsx("button",{onClick:()=>U(j.id),className:"px-3 py-1 text-xs text-white bg-pink-600 rounded hover:bg-pink-700",children:"Delete"})]}),A[j.id]&&g.jsx("p",{className:"mt-1 text-sm text-green-400",children:A[j.id]})]},j.id))}),_&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:g.jsxs("div",{className:"relative w-full max-w-sm",children:[g.jsx("button",{onClick:()=>E(null),className:"fixed z-50 text-xl font-bold text-gray-200 top-4 right-4 hover:text-white",children:""}),g.jsx("img",{src:_,alt:"Receipt",className:"w-full h-auto max-h-[80vh] object-contain rounded"})]})})]})})]})},wz=()=>{const[t,e]=S.useState([]),[n,i]=S.useState({}),r=On(ot),o=jt();S.useEffect(()=>{const h=Ht(_t(r,"users"),d=>{const m=d.docs.map(y=>({id:y.id,...y.data()}));e(m),m.forEach(y=>{const x=_t(r,"users",y.id,"receipts"),_=As(x,rx("status","==","pending"));Ht(_,E=>{i(A=>({...A,[y.id]:E.size}))})})});return()=>h()},[r]);const c=async h=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Sh(je(r,"users",h))}catch(d){console.error("Error deleting user:",d),alert("Failed to delete user: "+d.message)}};return g.jsxs("div",{className:"min-h-screen p-6 text-white bg-black",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-pink-600",children:"User Management"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{onClick:()=>o("/admin"),className:"px-4 py-2 text-sm transition bg-gray-800 border border-gray-700 rounded hover:bg-gray-700",children:" Back to Admin Panel"})})]}),g.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg shadow-lg sm:p-4 md:p-5",children:[g.jsxs("h2",{className:"pb-2 mb-4 text-lg font-semibold border-b border-gray-700 sm:text-xl",children:["Registered Users (",t.length,")"]}),t.length===0?g.jsx("p",{className:"py-8 text-center text-gray-500",children:"No users found."}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden overflow-x-auto md:block",children:g.jsxs("table",{className:"w-full text-sm text-left text-gray-300",children:[g.jsx("thead",{className:"text-gray-400 uppercase border-b border-gray-700",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-2",children:"Name"}),g.jsx("th",{className:"px-4 py-2",children:"Email"}),g.jsx("th",{className:"px-4 py-2",children:"Auth Provider"}),g.jsx("th",{className:"px-4 py-2",children:"Role"}),g.jsx("th",{className:"px-4 py-2",children:"Top-ups"}),g.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),g.jsx("tbody",{children:t.map(h=>g.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[g.jsx("td",{className:"px-4 py-2",children:h.displayName||h.username||""}),g.jsx("td",{className:"px-4 py-2",children:h.email||""}),g.jsx("td",{className:"px-4 py-2 capitalize",children:h.providerId==="google.com"?"Google":h.providerId==="password"?"Email/Password":"Unknown"}),g.jsx("td",{className:"px-4 py-2",children:g.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${h.role==="admin"?"bg-pink-600 text-white":"bg-gray-700 text-gray-200"}`,children:h.role||"user"})}),g.jsxs("td",{className:"relative px-4 py-2",children:[g.jsx(QS,{userId:h.id,btnText:"View"}),n[h.id]>0&&g.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold text-white bg-red-600 rounded-full",children:n[h.id]})]}),g.jsx("td",{className:"px-4 py-2",children:g.jsx("button",{onClick:()=>c(h.id),className:"px-3 py-1 text-xs text-white transition bg-red-600 rounded hover:bg-red-700",children:"Delete"})})]},h.id))})]})}),g.jsx("div",{className:"grid gap-3 md:hidden",children:t.map(h=>g.jsxs("div",{className:"p-3 border border-gray-800 rounded-lg bg-gray-800/60",children:[g.jsx("p",{className:"mb-1 text-base font-semibold text-pink-400",children:h.displayName||h.username||""}),g.jsxs("p",{className:"text-sm text-gray-300",children:[g.jsx("strong",{children:"Email:"})," ",h.email||""]}),g.jsxs("p",{className:"text-sm text-gray-300",children:[g.jsx("strong",{children:"Provider:"})," ",h.providerId==="google.com"?"Google":h.providerId==="password"?"Email/Password":"Unknown"]}),g.jsxs("p",{className:"text-sm text-gray-300",children:[g.jsx("strong",{children:"Role:"})," ",g.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${h.role==="admin"?"bg-pink-600 text-white":"bg-gray-700 text-gray-200"}`,children:h.role||"user"})]}),g.jsxs("div",{className:"flex justify-between mt-2",children:[g.jsx(QS,{userId:h.id,btnText:"View Top-ups"}),n[h.id]>0&&g.jsx("span",{className:"inline-block px-2 py-1 ml-1 text-xs font-bold text-white bg-red-600 rounded-full",children:n[h.id]}),g.jsx("button",{onClick:()=>c(h.id),className:"px-3 py-1 text-xs text-white transition bg-red-600 rounded hover:bg-red-700",children:"Delete"})]})]},h.id))})]})]})]})},Fy=["Pinay / Filipino","Japanese","Korean","Chinese","Thai","Vietnamese","Indonesian","Indian","Malaysian","Asian Mix"],Tz=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(Fy[0]),[r,o]=S.useState(""),[c,h]=S.useState(""),[d,m]=S.useState(0),[y,x]=S.useState(""),[_,E]=S.useState(!1),[A,N]=S.useState(!1),[I,D]=S.useState(null),[U,j]=S.useState([]),q=On(ot),Y=Jn(ot),ne=jt(),[P,R]=S.useState(!1),O=()=>{ne("/2admin/users"),R(!1)};S.useEffect(()=>{const he=_t(q,"videos"),Z=Ht(he,oe=>{const me=[];oe.forEach(ve=>me.push({id:ve.id,...ve.data()})),j(me.sort((ve,V)=>V.createdAt?.seconds-ve.createdAt?.seconds))});return()=>Z()},[q]);const M=async he=>{if(he.preventDefault(),!t.trim()||!n||!r.trim()||!c.trim()||!y.trim()){alert("All fields are required.");return}try{const Z={url:t.trim(),category:n,description:r.trim(),thumbnail:c.trim(),added:new Date().toISOString(),createdAt:bt.now(),views:Number(d)||0,duration:y.trim(),hearts:0,likedBy:[],exclusive:!!_};I?(await Ni(je(q,"videos",I),Z),D(null)):await oa(_t(q,"videos"),Z),e(""),i(Fy[0]),o(""),h(""),m(0),x(""),E(!1),_&&(N(!0),setTimeout(()=>N(!1),3e3))}catch(Z){console.error("Error adding/updating video:",Z),alert("Operation failed: "+Z.message)}},B=he=>{D(he.id),e(he.url),i(he.category),o(he.description),h(he.thumbnail||""),m(he.views||0),x(he.duration||""),E(he.exclusive||!1),window.scrollTo({top:0,behavior:"smooth"})},z=async he=>{if(window.confirm("Are you sure you want to delete this video?"))try{await Sh(je(q,"videos",he))}catch(Z){console.error("Error deleting video:",Z),alert("Failed to delete video: "+Z.message)}},L=async()=>{try{await em(Y),ne("/2login")}catch(he){console.error("Logout error:",he),alert("Failed to logout. Try again.")}},Qe=()=>{E(he=>!he),N(!0),setTimeout(()=>N(!1),3e3)};return g.jsxs("div",{className:"relative min-h-screen p-6 text-white bg-black",children:[A&&g.jsx("div",{className:"absolute px-4 py-2 text-sm text-white bg-pink-600 rounded-lg shadow-lg top-4 right-4 animate-fadeIn",children:_?"Exclusive Mode Enabled":"Exclusive Mode Disabled"}),g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-pink-600",children:"Admin Panel"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:Qe,className:`px-4 py-2 border rounded-lg transition ${_?"bg-pink-600 border-pink-600 hover:bg-pink-700":"bg-gray-800 border-gray-700 hover:bg-gray-700"}`,children:_?"Exclusive ":"Exclusive"}),g.jsx("button",{onClick:()=>R(!0),className:"p-2 bg-gray-800 rounded-lg hover:bg-gray-700",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-8",children:[g.jsxs("div",{className:"p-5 bg-gray-900 rounded-lg shadow-lg",children:[g.jsx("h2",{className:"pb-2 mb-4 text-xl font-semibold border-b border-gray-700",children:I?"Edit Video":"Add New Video"}),g.jsxs("form",{onSubmit:M,className:"flex flex-col gap-3",children:[g.jsx("select",{value:n,onChange:he=>i(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0,children:Fy.map(he=>g.jsx("option",{value:he,children:he},he))}),g.jsx("input",{type:"text",placeholder:"Paste embed iframe or video URL",value:t,onChange:he=>e(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),g.jsx("input",{type:"text",placeholder:"Description",value:r,onChange:he=>o(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),g.jsx("input",{type:"text",placeholder:"Paste your image address (thumbnail URL)",value:c,onChange:he=>h(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),g.jsx("input",{type:"number",placeholder:"Views count",value:d,onChange:he=>m(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded"}),g.jsx("input",{type:"text",placeholder:"Video duration (e.g. 1h 20m)",value:y,onChange:he=>x(he.target.value),className:"p-2 text-white bg-gray-800 border border-gray-700 rounded",required:!0}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[g.jsx("input",{type:"checkbox",checked:_,onChange:he=>E(he.target.checked),className:"w-4 h-4 accent-pink-600"}),"Mark as Exclusive"]}),g.jsx("button",{type:"submit",className:"w-full py-2 font-medium text-white transition bg-pink-600 rounded hover:bg-pink-700",children:I?"Update Video":"Add Video"})]})]}),g.jsxs("div",{className:"p-5 bg-gray-900 rounded-lg shadow-lg",children:[g.jsxs("h2",{className:"pb-2 mb-4 text-xl font-semibold border-b border-gray-700",children:["Uploaded Videos (",U.length,")"]}),U.length===0?g.jsx("p",{className:"py-8 text-center text-gray-500",children:"No videos uploaded yet."}):g.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:U.map(he=>g.jsxs("div",{className:"flex flex-col overflow-hidden bg-gray-800 rounded-lg shadow-md",children:[he.thumbnail?g.jsx("img",{src:he.thumbnail,alt:"Video Thumbnail",className:"object-cover w-full transition cursor-pointer aspect-video hover:opacity-80"}):g.jsx("div",{className:"w-full bg-black aspect-video"}),g.jsxs("div",{className:"flex flex-col flex-grow p-3",children:[g.jsx("p",{className:"mb-1 text-sm font-semibold text-pink-500",children:he.category}),g.jsx("p",{className:"mb-1 text-sm text-gray-300 line-clamp-2",children:he.description}),g.jsxs("p",{className:"mb-1 text-xs text-gray-500",children:["Views: ",he.views||0,"  Duration: ",he.duration||"N/A"]}),g.jsx("p",{className:"mb-1 text-xs text-gray-400",children:he.exclusive?" Exclusive":""}),g.jsx("p",{className:"mb-3 text-xs text-gray-500",children:he.added?new Date(he.added).toLocaleDateString():""}),g.jsxs("div",{className:"flex gap-2 mt-auto",children:[g.jsx("button",{onClick:()=>B(he),className:"flex-1 py-1 text-sm text-white transition bg-blue-700 rounded hover:bg-blue-800",children:"Edit"}),g.jsx("button",{onClick:()=>z(he.id),className:"flex-1 py-1 text-sm text-white transition bg-red-700 rounded hover:bg-red-800",children:"Delete"})]})]})]},he.id))})]}),P&&g.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>R(!1)}),g.jsx("div",{className:`fixed top-0 right-0 h-full w-64 bg-gray-900 shadow-lg z-50 transform transition-transform duration-300 ${P?"translate-x-0":"translate-x-full"}`,children:g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-pink-500",children:"Menu"}),g.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white",children:""})]}),g.jsxs("div",{className:"flex flex-col flex-grow p-4 space-y-3",children:[g.jsx("button",{onClick:O,className:"w-full py-2 text-left text-gray-300 rounded hover:bg-gray-800",children:"User's"}),g.jsx("button",{className:"w-full py-2 text-left text-gray-300 rounded hover:bg-gray-800",children:"Report's"})]}),g.jsx("div",{className:"p-4 border-t border-gray-700",children:g.jsx("button",{onClick:L,className:"w-full py-2 text-white transition bg-red-600 rounded hover:bg-red-700",children:"Logout"})})]})})]})]})},Ez=({style:t={}})=>g.jsxs("svg",{style:t,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"#888",strokeWidth:"2",fill:"none"}),g.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"#888",strokeWidth:"2",fill:"none"})]}),Sz=({style:t={}})=>g.jsx("svg",{style:t,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:g.jsx("path",{d:"M17.94 17.94C16.13 19.24 14.13 20 12 20c-7 0-11-8-11-8a21.77 21.77 0 0 1 5.06-6.06M22.54 6.42A21.77 21.77 0 0 1 23 12s-4 8-11 8a10.94 10.94 0 0 1-4.06-.81M1 1l22 22",stroke:"#888",strokeWidth:"2",fill:"none"})}),yf=Jn(ot),ZS=On(ot),Az=({onSuccess:t})=>{const[e,n]=S.useState(""),[i,r]=S.useState(""),[o,c]=S.useState(!1),[h,d]=S.useState(""),[m,y]=S.useState(""),[x,_]=S.useState(!1),E=jt(),A=async I=>{I.preventDefault(),d(""),y("");try{const U=(await hC(yf,e,i)).user;await Wl(je(ZS,"users",U.uid),{email:U.email,role:"user",status:"active",createdAt:new Date().toISOString()}),y("Registration successful! You can now log in."),_(!1),n(""),r("")}catch(D){d(D.message)}},N=async I=>{I.preventDefault(),d(""),y("");try{const U=(await dC(yf,e,i)).user,j=await hn(je(ZS,"users",U.uid));if(!j.exists()){d("User not found in database."),await em(yf);return}if(j.data().role!=="admin"){d("Access denied. Only admin users can log in."),await em(yf);return}localStorage.setItem("xstream-admin-loggedin","true"),y("Login successful! Redirecting..."),t&&t(),E("/2admin")}catch(D){d(D.message)}};return g.jsx("div",{style:{minHeight:"100vh",minWidth:"100vw",background:"#111",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("form",{onSubmit:x?A:N,className:"login-form",style:{background:"#222",padding:32,borderRadius:16,width:"100%",maxWidth:400,boxShadow:"0 4px 24px 0 #0006",display:"flex",flexDirection:"column"},children:[g.jsx("h2",{style:{marginBottom:24,fontSize:28,fontWeight:700,textAlign:"center",color:"#e60073"},children:x?"Register":"Admin Login"}),g.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:I=>n(I.target.value),required:!0,style:{width:"100%",padding:14,borderRadius:8,border:"none",fontSize:17,marginBottom:12,background:"#333",color:"#fff"}}),g.jsxs("div",{style:{position:"relative",marginBottom:16},children:[g.jsx("input",{type:o?"text":"password",placeholder:"Password",value:i,onChange:I=>r(I.target.value),required:!0,style:{width:"100%",padding:"14px 44px 14px 14px",borderRadius:8,border:"none",fontSize:17,background:"#333",color:"#fff"}}),g.jsx("button",{type:"button","aria-label":o?"Hide password":"Show password",onClick:()=>c(I=>!I),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer"},children:o?g.jsx(Ez,{}):g.jsx(Sz,{})})]}),g.jsx("button",{type:"submit",style:{width:"100%",padding:16,background:"#e60073",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:18,cursor:"pointer",transition:"background 0.3s"},children:x?"Register":"Login"}),h&&g.jsx("div",{style:{color:"#ff4d4f",marginTop:18,textAlign:"center"},children:h}),m&&g.jsx("div",{style:{color:"#4caf50",marginTop:18,textAlign:"center"},children:m})]})})};var zy={exports:{}},Hy,JS;function Rz(){if(JS)return Hy;JS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hy=t,Hy}var qy,eA;function Cz(){if(eA)return qy;eA=1;var t=Rz();function e(){}function n(){}return n.resetWarningCache=e,qy=function(){function i(c,h,d,m,y,x){if(x!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},qy}var tA;function Iz(){return tA||(tA=1,zy.exports=Cz()()),zy.exports}var Nz=Iz();const Et=ph(Nz);var Gy,nA;function Dz(){if(nA)return Gy;nA=1;function t(h){return h&&typeof h=="object"&&"default"in h?h.default:h}var e=ym(),n=t(e);function i(h,d,m){return d in h?Object.defineProperty(h,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[d]=m,h}function r(h,d){h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(h,d,m){if(typeof h!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof m<"u"&&typeof m!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function y(x){return x.displayName||x.name||"Component"}return function(_){if(typeof _!="function")throw new Error("Expected WrappedComponent to be a React component.");var E=[],A;function N(){A=h(E.map(function(D){return D.props})),I.canUseDOM?d(A):m&&(A=m(A))}var I=function(D){r(U,D);function U(){return D.apply(this,arguments)||this}U.peek=function(){return A},U.rewind=function(){if(U.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var Y=A;return A=void 0,E=[],Y};var j=U.prototype;return j.UNSAFE_componentWillMount=function(){E.push(this),N()},j.componentDidUpdate=function(){N()},j.componentWillUnmount=function(){var Y=E.indexOf(this);E.splice(Y,1),N()},j.render=function(){return n.createElement(_,this.props)},U}(e.PureComponent);return i(I,"displayName","SideEffect("+y(_)+")"),i(I,"canUseDOM",o),I}}return Gy=c,Gy}var Oz=Dz();const kz=ph(Oz);var $y,iA;function Pz(){if(iA)return $y;iA=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var h,d,m;if(Array.isArray(o)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(!r(o[d],c[d]))return!1;return!0}var y;if(e&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!c.has(d.value[0]))return!1;for(y=o.entries();!(d=y.next()).done;)if(!r(d.value[1],c.get(d.value[0])))return!1;return!0}if(n&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!c.has(d.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(o[d]!==c[d])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(m=Object.keys(o),h=m.length,h!==Object.keys(c).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[d]))return!1;if(t&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&o.$$typeof)&&!r(o[m[d]],c[m[d]]))return!1;return!0}return o!==o&&c!==c}return $y=function(c,h){try{return r(c,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},$y}var Mz=Pz();const jz=ph(Mz);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Yy,sA;function Vz(){if(sA)return Yy;sA=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function r(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var c={},h=0;h<10;h++)c["_"+String.fromCharCode(h)]=h;var d=Object.getOwnPropertyNames(c).map(function(y){return c[y]});if(d.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(y){m[y]=y}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Yy=r()?Object.assign:function(o,c){for(var h,d=i(o),m,y=1;y<arguments.length;y++){h=Object(arguments[y]);for(var x in h)e.call(h,x)&&(d[x]=h[x]);if(t){m=t(h);for(var _=0;_<m.length;_++)n.call(h,m[_])&&(d[m[_]]=h[m[_]])}}return d},Yy}var Lz=Vz();const Uz=ph(Lz);var go={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Pe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Pe).map(function(t){return Pe[t]});var St={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},mm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Bz=Object.keys(mm).reduce(function(t,e){return t[mm[e]]=e,t},{}),Fz=[Pe.NOSCRIPT,Pe.SCRIPT,Pe.STYLE],$i="data-react-helmet",zz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hz=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},qz=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gz=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},rA=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},$z=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Yz=function(e){var n=Ll(e,Pe.TITLE),i=Ll(e,fh.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Ll(e,fh.DEFAULT_TITLE);return n||r||void 0},Kz=function(e){return Ll(e,fh.ON_CHANGE_CLIENT_STATE)||function(){}},Ky=function(e,n){return n.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Gn({},i,r)},{})},Wz=function(e,n){return n.filter(function(i){return typeof i[Pe.BASE]<"u"}).map(function(i){return i[Pe.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var o=Object.keys(r),c=0;c<o.length;c++){var h=o[c],d=h.toLowerCase();if(e.indexOf(d)!==-1&&r[d])return i.concat(r)}return i},[])},Au=function(e,n,i){var r={};return i.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&Jz("Helmet: "+e+' should be of type "Array". Instead found type "'+zz(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,c){var h={};c.filter(function(_){for(var E=void 0,A=Object.keys(_),N=0;N<A.length;N++){var I=A[N],D=I.toLowerCase();n.indexOf(D)!==-1&&!(E===St.REL&&_[E].toLowerCase()==="canonical")&&!(D===St.REL&&_[D].toLowerCase()==="stylesheet")&&(E=D),n.indexOf(I)!==-1&&(I===St.INNER_HTML||I===St.CSS_TEXT||I===St.ITEM_PROP)&&(E=I)}if(!E||!_[E])return!1;var U=_[E].toLowerCase();return r[E]||(r[E]={}),h[E]||(h[E]={}),r[E][U]?!1:(h[E][U]=!0,!0)}).reverse().forEach(function(_){return o.push(_)});for(var d=Object.keys(h),m=0;m<d.length;m++){var y=d[m],x=Uz({},r[y],h[y]);r[y]=x}return o},[]).reverse()},Ll=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},Xz=function(e){return{baseTag:Wz([St.HREF,St.TARGET],e),bodyAttributes:Ky(go.BODY,e),defer:Ll(e,fh.DEFER),encode:Ll(e,fh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ky(go.HTML,e),linkTags:Au(Pe.LINK,[St.REL,St.HREF],e),metaTags:Au(Pe.META,[St.NAME,St.CHARSET,St.HTTPEQUIV,St.PROPERTY,St.ITEM_PROP],e),noscriptTags:Au(Pe.NOSCRIPT,[St.INNER_HTML],e),onChangeClientState:Kz(e),scriptTags:Au(Pe.SCRIPT,[St.SRC,St.INNER_HTML],e),styleTags:Au(Pe.STYLE,[St.CSS_TEXT],e),title:Yz(e),titleAttributes:Ky(go.TITLE,e)}},ev=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){ev(e)},0)}}(),aA=function(e){return clearTimeout(e)},Qz=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ev:global.requestAnimationFrame||ev,Zz=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||aA:global.cancelAnimationFrame||aA,Jz=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Ru=null,eH=function(e){Ru&&Zz(Ru),e.defer?Ru=Qz(function(){oA(e,function(){Ru=null})}):(oA(e),Ru=null)},oA=function(e,n){var i=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,c=e.linkTags,h=e.metaTags,d=e.noscriptTags,m=e.onChangeClientState,y=e.scriptTags,x=e.styleTags,_=e.title,E=e.titleAttributes;tv(Pe.BODY,r),tv(Pe.HTML,o),tH(_,E);var A={baseTag:_l(Pe.BASE,i),linkTags:_l(Pe.LINK,c),metaTags:_l(Pe.META,h),noscriptTags:_l(Pe.NOSCRIPT,d),scriptTags:_l(Pe.SCRIPT,y),styleTags:_l(Pe.STYLE,x)},N={},I={};Object.keys(A).forEach(function(D){var U=A[D],j=U.newTags,q=U.oldTags;j.length&&(N[D]=j),q.length&&(I[D]=A[D].oldTags)}),n&&n(),m(e,N,I)},KN=function(e){return Array.isArray(e)?e.join(""):e},tH=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=KN(e)),tv(Pe.TITLE,n)},tv=function(e,n){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute($i),o=r?r.split(","):[],c=[].concat(o),h=Object.keys(n),d=0;d<h.length;d++){var m=h[d],y=n[m]||"";i.getAttribute(m)!==y&&i.setAttribute(m,y),o.indexOf(m)===-1&&o.push(m);var x=c.indexOf(m);x!==-1&&c.splice(x,1)}for(var _=c.length-1;_>=0;_--)i.removeAttribute(c[_]);o.length===c.length?i.removeAttribute($i):i.getAttribute($i)!==h.join(",")&&i.setAttribute($i,h.join(","))}},_l=function(e,n){var i=document.head||document.querySelector(Pe.HEAD),r=i.querySelectorAll(e+"["+$i+"]"),o=Array.prototype.slice.call(r),c=[],h=void 0;return n&&n.length&&n.forEach(function(d){var m=document.createElement(e);for(var y in d)if(d.hasOwnProperty(y))if(y===St.INNER_HTML)m.innerHTML=d.innerHTML;else if(y===St.CSS_TEXT)m.styleSheet?m.styleSheet.cssText=d.cssText:m.appendChild(document.createTextNode(d.cssText));else{var x=typeof d[y]>"u"?"":d[y];m.setAttribute(y,x)}m.setAttribute($i,"true"),o.some(function(_,E){return h=E,m.isEqualNode(_)})?o.splice(h,1):c.push(m)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),c.forEach(function(d){return i.appendChild(d)}),{oldTags:o,newTags:c}},WN=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},nH=function(e,n,i,r){var o=WN(i),c=KN(n);return o?"<"+e+" "+$i+'="true" '+o+">"+J0(c,r)+"</"+e+">":"<"+e+" "+$i+'="true">'+J0(c,r)+"</"+e+">"},iH=function(e,n,i){return n.reduce(function(r,o){var c=Object.keys(o).filter(function(m){return!(m===St.INNER_HTML||m===St.CSS_TEXT)}).reduce(function(m,y){var x=typeof o[y]>"u"?y:y+'="'+J0(o[y],i)+'"';return m?m+" "+x:x},""),h=o.innerHTML||o.cssText||"",d=Fz.indexOf(e)===-1;return r+"<"+e+" "+$i+'="true" '+c+(d?"/>":">"+h+"</"+e+">")},"")},XN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[mm[r]||r]=e[r],i},n)},sH=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[Bz[r]||r]=e[r],i},n)},rH=function(e,n,i){var r,o=(r={key:n},r[$i]=!0,r),c=XN(i,o);return[hi.createElement(Pe.TITLE,c,n)]},aH=function(e,n){return n.map(function(i,r){var o,c=(o={key:r},o[$i]=!0,o);return Object.keys(i).forEach(function(h){var d=mm[h]||h;if(d===St.INNER_HTML||d===St.CSS_TEXT){var m=i.innerHTML||i.cssText;c.dangerouslySetInnerHTML={__html:m}}else c[d]=i[h]}),hi.createElement(e,c)})},ir=function(e,n,i){switch(e){case Pe.TITLE:return{toComponent:function(){return rH(e,n.title,n.titleAttributes)},toString:function(){return nH(e,n.title,n.titleAttributes,i)}};case go.BODY:case go.HTML:return{toComponent:function(){return XN(n)},toString:function(){return WN(n)}};default:return{toComponent:function(){return aH(e,n)},toString:function(){return iH(e,n,i)}}}},QN=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,c=e.linkTags,h=e.metaTags,d=e.noscriptTags,m=e.scriptTags,y=e.styleTags,x=e.title,_=x===void 0?"":x,E=e.titleAttributes;return{base:ir(Pe.BASE,n,r),bodyAttributes:ir(go.BODY,i,r),htmlAttributes:ir(go.HTML,o,r),link:ir(Pe.LINK,c,r),meta:ir(Pe.META,h,r),noscript:ir(Pe.NOSCRIPT,d,r),script:ir(Pe.SCRIPT,m,r),style:ir(Pe.STYLE,y,r),title:ir(Pe.TITLE,{title:_,titleAttributes:E},r)}},oH=function(e){var n,i;return i=n=function(r){Gz(o,r);function o(){return Hz(this,o),$z(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(h){return!jz(this.props,h)},o.prototype.mapNestedChildrenToProps=function(h,d){if(!d)return null;switch(h.type){case Pe.SCRIPT:case Pe.NOSCRIPT:return{innerHTML:d};case Pe.STYLE:return{cssText:d}}throw new Error("<"+h.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(h){var d,m=h.child,y=h.arrayTypeChildren,x=h.newChildProps,_=h.nestedChildren;return Gn({},y,(d={},d[m.type]=[].concat(y[m.type]||[],[Gn({},x,this.mapNestedChildrenToProps(m,_))]),d))},o.prototype.mapObjectTypeChildren=function(h){var d,m,y=h.child,x=h.newProps,_=h.newChildProps,E=h.nestedChildren;switch(y.type){case Pe.TITLE:return Gn({},x,(d={},d[y.type]=E,d.titleAttributes=Gn({},_),d));case Pe.BODY:return Gn({},x,{bodyAttributes:Gn({},_)});case Pe.HTML:return Gn({},x,{htmlAttributes:Gn({},_)})}return Gn({},x,(m={},m[y.type]=Gn({},_),m))},o.prototype.mapArrayTypeChildrenToProps=function(h,d){var m=Gn({},d);return Object.keys(h).forEach(function(y){var x;m=Gn({},m,(x={},x[y]=h[y],x))}),m},o.prototype.warnOnInvalidChildren=function(h,d){return!0},o.prototype.mapChildrenToProps=function(h,d){var m=this,y={};return hi.Children.forEach(h,function(x){if(!(!x||!x.props)){var _=x.props,E=_.children,A=rA(_,["children"]),N=sH(A);switch(m.warnOnInvalidChildren(x,E),x.type){case Pe.LINK:case Pe.META:case Pe.NOSCRIPT:case Pe.SCRIPT:case Pe.STYLE:y=m.flattenArrayTypeChildren({child:x,arrayTypeChildren:y,newChildProps:N,nestedChildren:E});break;default:d=m.mapObjectTypeChildren({child:x,newProps:d,newChildProps:N,nestedChildren:E});break}}}),d=this.mapArrayTypeChildrenToProps(y,d),d},o.prototype.render=function(){var h=this.props,d=h.children,m=rA(h,["children"]),y=Gn({},m);return d&&(y=this.mapChildrenToProps(d,y)),hi.createElement(e,y)},qz(o,null,[{key:"canUseDOM",set:function(h){e.canUseDOM=h}}]),o}(hi.Component),n.propTypes={base:Et.object,bodyAttributes:Et.object,children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),defaultTitle:Et.string,defer:Et.bool,encodeSpecialCharacters:Et.bool,htmlAttributes:Et.object,link:Et.arrayOf(Et.object),meta:Et.arrayOf(Et.object),noscript:Et.arrayOf(Et.object),onChangeClientState:Et.func,script:Et.arrayOf(Et.object),style:Et.arrayOf(Et.object),title:Et.string,titleAttributes:Et.object,titleTemplate:Et.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=QN({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},lH=function(){return null},cH=kz(Xz,eH,QN)(lH),nv=oH(cH);nv.renderStatic=nv.rewind;const uH=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),hH=({relatedVideos:t,currentVideoId:e,isCurrentExclusive:n=!1})=>{const i=jt(),[r,o]=S.useState(!1);if(!t||t.length===0)return g.jsx("p",{className:"text-gray-400",children:"No related videos found."});const c=t.filter(m=>m.id!==e&&(n?m.exclusive===!0:!m.exclusive));if(c.length===0)return g.jsx("p",{className:"text-gray-400",children:n?"No related exclusive videos found.":"No related public videos found."});const h=4,d=r?c:c.slice(0,h);return g.jsxs("div",{className:"flex-shrink-0 w-full lg:w-1/4",children:[g.jsxs("h3",{className:"mb-2 font-semibold text-pink-500 text-md",children:["Related ",n?"Exclusive":""," Videos"]}),g.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-1",children:d.map(m=>g.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>i(`/embed/${m.id}`),children:[g.jsxs("div",{className:"relative",children:[m.thumbnail?g.jsx("img",{src:m.thumbnail,alt:m.description||"Video Thumbnail",className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"w-full bg-black aspect-video"}),m.exclusive&&g.jsx("span",{className:"absolute top-0 right-0 px-2 py-1 text-[10px] font-semibold text-white bg-pink-600 rounded-bl-lg",children:"EXCLUSIVE"}),m.duration&&g.jsx("div",{className:"absolute bottom-1 left-1 text-white text-[10px] px-1.5 py-0.5 bg-black/60 rounded",children:m.duration})]}),g.jsxs("div",{className:"p-1.5",children:[g.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:m.description}),g.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-400",children:[g.jsx(jx,{className:"w-3 h-3"}),g.jsx("span",{children:uH(m.views??0)})]})]})]},m.id))}),c.length>h&&!r&&g.jsx("button",{className:"w-full px-3 py-2 mt-2 text-xs font-semibold text-pink-500",onClick:()=>o(!0),children:"Load More"})]})},ur=async(t,e,n)=>{if(!e)return;const i=je(t,"users",e);try{await Ni(i,{exclusiveAccessStarted:n,lastUpdated:Date.now()}),console.log(`[ExclusiveAccess] ${n?" Started":" Paused"}`)}catch(r){console.error(" Failed to update exclusiveAccessStarted:",r)}},dH=async(t,e,n)=>{if(!e)return;const i=je(t,"users",e);try{await Ni(i,{exclusiveAccessRemaining:Math.max(n,0),lastUpdated:Date.now()}),console.log(`[ExclusiveAccess]  Remaining saved: ${Math.floor(n/1e3)}s`)}catch(r){console.error(" Failed to update exclusiveAccessRemaining:",r)}},ZN=async(t,e)=>{if(!e)return null;try{const n=await hn(je(t,"users",e));if(!n.exists())return null;const i=n.data();return{exclusiveAccessExpiry:i.exclusiveAccessExpiry||null,exclusiveAccessRemaining:i.exclusiveAccessRemaining??0,exclusiveAccessStarted:i.exclusiveAccessStarted??!1,lastUpdated:i.lastUpdated??null}}catch(n){return console.error(" Failed to fetch exclusive access data:",n),null}},ip=(t,e)=>{if(!e)return;const n=async()=>{const i=Date.now();if(document.visibilityState==="hidden")console.log("[ExclusiveAccess]  Tab hidden  paused timer"),await ur(t,e,!1);else if(document.visibilityState==="visible"){const r=await ZN(t,e);if(!r)return;Date.parse(r.exclusiveAccessExpiry)>i&&r.exclusiveAccessRemaining>0?(console.log("[ExclusiveAccess]  Tab visible  resumed timer"),await ur(t,e,!0)):(console.log("[ExclusiveAccess]  Access expired  staying paused"),await ur(t,e,!1))}};return document.addEventListener("visibilitychange",n),()=>document.removeEventListener("visibilitychange",n)},JN=(t,e)=>{const n=je(t,"users",e);let i=!0;const r=setInterval(async()=>{if(i)try{const o=await hn(n);if(!o.exists())return;const c=o.data();if(!c.exclusiveAccessStarted||c.exclusiveAccessRemaining<=0){console.log("[ExclusiveAccess]  Countdown paused or finished");return}await Ni(n,{exclusiveAccessRemaining:A0(-1e3),lastUpdated:Date.now()})}catch(o){console.warn(" Failed to decrement exclusive time:",o)}},1e3);return()=>{i=!1,clearInterval(r)}},lA=Object.freeze(Object.defineProperty({__proto__:null,getExclusiveAccessData:ZN,initExclusiveVisibilityHandler:ip,runExclusiveCountdown:JN,setExclusiveAccessStarted:ur,updateExclusiveAccessRemaining:dH},Symbol.toStringTag,{value:"Module"})),fH=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),mH=()=>{let t=localStorage.getItem("xstreamGuestId");return t||(t=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",t)),t},Pf=t=>t?t.provider==="google"?t.username||t.displayName||"Guest":t.username||"User":"Guest",pH=({comments:t,newComment:e,setNewComment:n,handleCommentSubmit:i,db:r,videoId:o,guestId:c,currentUser:h,video:d})=>{const[m,y]=S.useState({}),x=N=>N?`Guest-${N.substring(6,12)}`:"Guest",_=(N,I)=>y(D=>({...D,[N]:I})),E=async(N,I)=>{N.preventDefault();const D=m[I];if(!D?.trim())return;const U=je(r,"videos",o,"comments",I);await Ni(U,{replies:zR({text:D,author:h?.id||c,authorName:Pf(h),createdAt:bt.now()})}),y(j=>({...j,[I]:""}))},A=async(N,I)=>{if(!(h&&I===h.id||!h&&I===c))return alert("You can only delete your own comment.");window.confirm("Are you sure you want to delete this comment?")&&await Sh(je(r,"videos",o,"comments",N))};return S.useEffect(()=>{if(!h?.id||!d?.exclusive)return;try{ur(r,h.id,!0)}catch(I){console.warn("setExclusiveAccessStarted failed",I)}let N=null;try{N=ip(r,h.id)}catch(I){console.warn("initExclusiveVisibilityHandler failed",I)}return()=>{try{N&&N()}catch{}try{ur(r,h.id,!1)}catch(I){console.warn("pause on unmount failed",I)}}},[h?.id,r,d]),g.jsxs("div",{className:"mt-6",children:[g.jsxs("h3",{className:"mb-2 text-lg font-semibold",children:["Comments (",t.length,")"]}),g.jsxs("form",{onSubmit:i,className:"flex flex-wrap items-start w-full gap-2 mb-4 sm:flex-nowrap",children:[g.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-14",children:[g.jsx("img",{src:"/avatar/profile.png",alt:"User Avatar",className:"w-8 h-8 rounded-full"}),g.jsx("span",{className:"mt-1 text-[10px] sm:text-xs font-semibold text-center text-pink-400 break-words",children:h?.displayName||h?.username||"User"})]}),g.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:N=>n(N.target.value),placeholder:"Add a comment...",className:"flex-1 min-w-0 p-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-pink-500"}),g.jsx("button",{type:"submit",className:"flex-shrink-0 px-4 py-2 text-sm font-semibold text-white transition-all bg-pink-600 rounded hover:bg-pink-700",children:"Post"})]})]}),g.jsx("div",{className:"space-y-3",children:t.map(N=>g.jsxs("div",{className:"p-3 bg-gray-900 rounded",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:"/avatar/profile.png",alt:"User Avatar",className:"w-6 h-6 rounded-full"}),g.jsx("p",{className:"text-sm font-semibold text-pink-400",children:N.authorName||x(N.author)})]}),(h?.id===N.author||c===N.author)&&g.jsx("button",{onClick:()=>A(N.id,N.author),className:"text-xs text-gray-400 transition hover:text-red-500",children:"Delete"})]}),g.jsx("p",{className:"mt-1 text-sm text-white",children:N.text}),g.jsxs("div",{className:"mt-2 ml-4 space-y-2",children:[N.replies?.map((I,D)=>g.jsxs("div",{className:"p-2 bg-gray-800 rounded",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:"/avatar/profile.png",alt:"User Avatar",className:"w-5 h-5 rounded-full"}),g.jsx("p",{className:"text-xs font-semibold text-pink-400",children:I.authorName||x(I.author)})]}),g.jsx("p",{className:"text-xs text-white",children:I.text})]},D)),g.jsxs("form",{onSubmit:I=>E(I,N.id),className:"flex gap-2 mt-1",children:[g.jsx("input",{type:"text",value:m[N.id]||"",onChange:I=>_(N.id,I.target.value),placeholder:"Reply...",className:"flex-1 p-1 text-xs text-white bg-gray-800 border border-gray-600 rounded"}),g.jsx("button",{type:"submit",className:"px-2 py-1 text-xs text-white bg-pink-600 rounded",children:"Reply"})]})]})]},N.id))})]})},gH=({text:t})=>{const[e,n]=S.useState(!1),i=120,r=t.length>i,o=e||!r?t:t.slice(0,i)+"...";return g.jsxs("div",{className:"mt-2 mb-2 text-lg font-medium text-justify text-white sm:text-xl",children:[g.jsx("p",{children:o}),r&&g.jsx("button",{onClick:()=>n(!e),className:"mt-1 text-xs font-semibold text-pink-500 hover:underline",children:e?"See less":"See more"})]})},yH=({user:t})=>{const{id:e}=xO(),n=On(ot),i=jt(),r=S.useRef(null),[o,c]=S.useState(null),[h,d]=S.useState([]),[m,y]=S.useState(!1),[x,_]=S.useState([]),[E,A]=S.useState(""),N=S.useMemo(()=>mH(),[]),[I,D]=S.useState(!1),[U,j]=S.useState(!1),[q,Y]=S.useState(!1),ne=S.useRef(null),[P,R]=S.useState(!1),[O,M]=S.useState(""),[B,z]=S.useState(!1),[L,Qe]=S.useState(!1),[he,Z]=S.useState(!1),[oe,me]=S.useState(null),[ve,V]=S.useState(null),[ee,ce]=S.useState(!1),[le,ue]=S.useState(!1),[we,xe]=S.useState(!1),[fe,Re]=S.useState(""),[pt,gt]=S.useState(!1),[ft,kn]=S.useState(null);S.useEffect(()=>{!pt&&ft&&(i(`/embed/${ft}`),kn(null))},[pt,ft,i]);const[De,Ct]=S.useState(t||null),Fn=Jn();S.useEffect(()=>{if(De){const Ee=je(n,"users",De.id,"favorites",e);hn(Ee).then(He=>{He.exists()&&Z(!0)})}},[De,n,e]),S.useEffect(()=>{const Ee=Ns(Fn,async He=>{if(He){const yt=je(n,"users",He.uid),qe=await hn(yt);let tt="/avatar/profile.png";qe.exists()&&qe.data().avatar?tt=qe.data().avatar:He.photoURL&&(tt=He.photoURL),Ct({id:He.uid,avatar:tt,email:He.email,displayName:qe.data()?.displayName||He.displayName||"Guest",username:qe.data()?.username||"",provider:He.providerData[0]?.providerId==="google.com"?"google":"email"})}else Ct(t||null)});return()=>Ee()},[Fn,t]),S.useEffect(()=>{if(!De?.id)return;const Ee=je(n,"users",De.id),He=Ht(Ee,yt=>{if(!yt.exists())return;const qe=yt.data();me(qe.exclusiveAccessExpiry||null),V(qe.exclusiveAccessRemaining??null),ce(qe.exclusiveAccessStarted??!1),xe(!0)});return()=>He()},[De?.id,n]),S.useEffect(()=>{if(!e)return;const Ee=je(n,"videos",e);(async()=>{const qe=await hn(Ee);if(qe.exists()){const tt=qe.data();c({...tt,id:qe.id}),D(tt.likedBy?.includes(De?.id||N)||!1),await Ni(Ee,{views:A0(1)})}else c(null)})(),window.scrollTo(0,0);const yt=Ht(Ee,qe=>{if(qe.exists()){const tt=qe.data();c(lt=>({...lt,...tt})),D(tt.likedBy?.includes(De?.id||N)||!1)}});return()=>yt()},[e,n,N,De]),S.useEffect(()=>{if(!o)return;if(!o.exclusive){ue(!1);return}if(!De?.id){ue(!0);return}const Ee=Date.now(),He=oe?Date.parse(oe):0,yt=typeof ve=="number"&&ve>0,qe=He&&He>Ee;if(!yt||!qe){ue(!0);return}ue(!1)},[o,De?.id,oe,ve]),S.useEffect(()=>{if(!o||!we)return;if(!o.exclusive){ue(!1);return}if(!De?.id){ue(!0);return}const Ee=Date.now(),He=oe?Date.parse(oe):0,yt=typeof ve=="number"&&ve>0,qe=He&&He>Ee;if(!yt||!qe){ue(!0);try{ur(n,De.id,!1)}catch(Be){console.warn("Failed to disable exclusive access:",Be)}return}ue(!1);let tt=null,lt=null;return(async()=>{try{await ur(n,De.id,!0),tt=ip(n,De.id),lt=JN(n,De.id)}catch(Be){console.warn("Exclusive timer setup failed:",Be)}})(),()=>{try{tt&&tt(),lt&&lt()}catch(Be){console.warn("Failed to cleanup exclusive timer:",Be)}try{ur(n,De.id,!1)}catch(Be){console.warn("Failed to pause exclusive access on leave:",Be)}}},[o,De?.id,oe,ve,we,n]),S.useEffect(()=>{const Ee=_t(n,"videos"),He=Ht(Ee,yt=>{const qe=[];yt.forEach(tt=>qe.push({id:tt.id,...tt.data()})),d(qe)});return()=>He()},[n]),S.useEffect(()=>{if(!e)return;const Ee=As(_t(n,"videos",e,"comments"),Kl("createdAt","desc")),He=Ht(Ee,yt=>{const qe=[];yt.forEach(tt=>qe.push({id:tt.id,replies:[],...tt.data()})),_(qe)});return()=>He()},[e,n]);const Ds=async Ee=>{const He=je(n,"videos",Ee),yt=await hn(He);if(!yt.exists())return;const qe=yt.data(),tt={};qe.hearts===void 0&&(tt.hearts=0),Array.isArray(qe.likedBy)||(tt.likedBy=[]),qe.views===void 0&&(tt.views=0),Object.keys(tt).length>0&&await Ni(He,tt)},wn=async()=>{if(!e||I)return;const Ee=je(n,"videos",e);await Ds(e),await Ni(Ee,{hearts:A0(1),likedBy:zR(De?.id||N)}),D(!0);try{o?.uploaderId&&De?.id!==o.uploaderId&&await oa(_t(n,"notifications"),{type:"like",videoId:e,fromUser:De?.id||N,message:`${Pf(De)} liked your video.`,createdAt:bt.now(),read:!1,userId:o.uploaderId})}catch(He){console.warn("Notification save failed:",He)}},Ta=async Ee=>{if(Ee.preventDefault(),!e||E.trim()==="")return;await Ds(e);const He=_t(n,"videos",e,"comments");await oa(He,{text:E,author:De?.id||N,authorName:Pf(De),createdAt:bt.now(),replies:[]}),A("");try{o?.uploaderId&&De?.id!==o.uploaderId&&await oa(_t(n,"notifications"),{type:"comment",videoId:e,fromUser:De?.id||N,message:`${Pf(De)} commented on your video.`,createdAt:bt.now(),read:!1,userId:o.uploaderId})}catch(yt){console.warn("Notification save failed:",yt)}};S.useEffect(()=>{const Ee=He=>{ne.current&&!ne.current.contains(He.target)&&j(!1)};return document.addEventListener("mousedown",Ee),()=>document.removeEventListener("mousedown",Ee)},[]);const es=h.filter(Ee=>Ee.id!==e&&Ee.category?.toLowerCase()===o?.category?.toLowerCase()).slice(0,8),ts=es.length>0?es:h.filter(Ee=>Ee.id!==e).slice(0,8);return o?g.jsxs("div",{className:"relative min-h-screen text-white bg-gray-800",children:[g.jsxs(nv,{children:[g.jsx("title",{children:o.description||"XStream Video"}),g.jsx("meta",{name:"description",content:o.description||"Watch videos on XStream"})]}),g.jsx(Io,{user:De,search:fe,setSearch:Ee=>{Re(Ee),gt(Ee.trim().length>0)}}),pt&&g.jsx(fc,{searchTerm:fe,onClose:()=>gt(!1),onSelect:Ee=>{kn(Ee),gt(!1)}}),g.jsx(np,{}),g.jsxs("div",{className:"flex flex-col max-w-screen-xl gap-6 p-4 pt-6 mx-auto lg:flex-row lg:p-6",children:[g.jsxs("div",{className:"flex flex-col flex-1",children:[o.url?.includes("<iframe")?(()=>{const Ee=o.url.match(/src=["']([^"']+)["']/);return Ee?.[1]?g.jsx("iframe",{src:Ee[1],className:"relative z-0 w-full h-[200px] sm:h-[360px] md:h-[480px] lg:h-[540px] shadow-lg",allow:"autoplay; fullscreen",sandbox:"allow-scripts allow-same-origin allow-presentation",scrolling:"no",title:"Embedded Video"}):g.jsx("div",{className:"text-sm text-center text-gray-400",children:"Invalid iframe src."})})():g.jsx("video",{ref:r,src:o.url,controls:!0,autoPlay:!0,muted:!0,playsInline:!0,className:"relative z-0 w-full h-[200px] sm:h-[360px] md:h-[480px] lg:h-[540px] rounded-lg shadow-lg"}),g.jsx(gH,{text:o.description||"No Title"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm text-gray-400",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(jx,{})," ",g.jsx("span",{children:fH(o.views??0)})]}),g.jsxs("span",{className:`flex items-center gap-1 cursor-pointer ${I?"text-red-500":"hover:text-red-400 transition-colors"}`,onClick:()=>{if(!De){M("Like"),R(!0);return}wn()},children:[g.jsx(b8,{})," ",o.hearts||0]}),g.jsxs("span",{className:"flex items-center gap-1 transition-colors cursor-pointer hover:text-pink-400",onClick:()=>{if(!De){M("Comments"),R(!0);return}y(!m)},children:[g.jsx(_8,{})," ",x.length]}),g.jsxs("span",{className:"relative",ref:ne,children:[g.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 transition bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>{if(!De){M("Share"),R(!0);return}j(Ee=>!Ee)},children:[g.jsx(S8,{})," Share"]}),U&&g.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 sm:left-0 sm:translate-x-0 w-56 sm:w-64 max-w-[90vw] bg-gray-900 border border-gray-700 rounded-lg shadow-lg p-4 z-50",children:[g.jsx("h3",{className:"mb-2 text-sm font-semibold text-pink-500",children:"Share this video"}),g.jsx("input",{type:"text",readOnly:!0,value:window.location.href,className:"w-full p-2 mb-2 text-xs text-white bg-gray-800 border border-gray-600 rounded"}),g.jsxs("button",{className:"flex items-center justify-center w-full gap-2 px-3 py-2 text-xs text-white transition-colors bg-pink-600 rounded hover:bg-pink-500",onClick:()=>{navigator.clipboard.writeText(window.location.href),Y(!0),setTimeout(()=>Y(!1),2e3)},children:[g.jsx(y8,{})," Copy Link"]}),q&&g.jsx("p",{className:"mt-1 text-xs text-green-400",children:"Link copied!"})]})]}),g.jsxs("span",{className:`flex items-center gap-1 cursor-pointer transition-colors ${he?"text-pink-600":"hover:text-pink-600"}`,onClick:async()=>{if(!De){M("Favorites"),R(!0);return}const Ee=je(n,"users",De.id,"favorites",e);he?(await Wl(Ee,{},{merge:!1}),Z(!1)):(await Wl(Ee,{videoId:e,addedAt:bt.now()}),Z(!0),Qe(!0),setTimeout(()=>Qe(!1),2e3))},children:[g.jsx(E8,{})," Favorite"]}),L&&g.jsx("p",{className:"ml-2 text-xs text-green-400",children:"Added!"})]}),m&&g.jsx(pH,{comments:x,newComment:E,setNewComment:A,handleCommentSubmit:Ta,db:n,videoId:e,guestId:N,currentUser:De,video:o})]}),g.jsx(hH,{relatedVideos:ts,currentVideoId:o.id,isCurrentExclusive:o.exclusive,className:"mt-6 lg:mt-0"})]}),le&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsxs("div",{className:"p-6 text-center bg-gray-900 border border-gray-700 rounded-2xl",children:[g.jsx("h2",{className:"mb-3 text-lg font-semibold text-pink-500",children:"Access Required"}),g.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Your premium access has expired or isnt active. Please top up to unlock exclusive videos."}),g.jsx("button",{onClick:()=>{ue(!1),i("/exclusive")},className:"px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-lg hover:bg-pink-700",children:"Top Up Now"})]})}),P&&!B&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsx("div",{className:"relative p-[2px] rounded-2xl bg-gradient-to-r from-pink-500 via-fuchsia-500 to-pink-600 shadow-[0_0_30px_rgba(236,72,153,0.3)] animate-pulse-slow",children:g.jsxs("div",{className:"relative p-6 text-center bg-gray-900 border border-gray-700 shadow-xl w-80 rounded-2xl",children:[g.jsx("button",{onClick:()=>R(!1),className:"absolute text-gray-400 transition top-3 right-3 hover:text-pink-500",children:""}),g.jsx("h2",{className:"mb-3 text-lg font-semibold text-pink-500",children:"Only authenticated users can access"}),g.jsxs("p",{className:"mb-6 text-sm text-gray-300",children:["You must sign up first to enter"," ",g.jsx("span",{className:"font-semibold text-white",children:O}),"."]}),g.jsx("button",{onClick:()=>{R(!1),setTimeout(()=>i("/signup"),250)},className:"px-6 py-2 text-sm font-medium text-white transition-all duration-200 rounded-lg shadow-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:from-pink-700 hover:to-fuchsia-700 hover:shadow-pink-500/40",children:"Sign Up"})]})})}),g.jsx(cc,{})]}):g.jsx(fm,{})},vH=({user:t})=>{const e=jt(),i=Pi().state?.videoId;if(!i)return e("/",{replace:!0}),null;const r=()=>{localStorage.setItem("xstream-sponsored-cooldown",Date.now()),e(`/embed/${i}`,{replace:!0})};return g.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen px-4 py-8 space-y-8 bg-gray-900",children:[g.jsxs("div",{className:"fixed top-0 left-0 z-50 flex items-center justify-between w-full px-6 py-3 bg-gray-800 shadow-lg",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Click to Continue"}),g.jsx("button",{onClick:r,className:"px-5 py-2 font-semibold text-white transition bg-pink-600 rounded-lg shadow hover:bg-pink-500",children:"Watch Here"})]}),g.jsx("div",{className:"pt-20"}),g.jsx("div",{className:"flex justify-center w-full max-w-3xl",children:g.jsx("img",{src:"/videoAds/ACF.png",alt:"ACF Logo",className:"w-48 h-auto mb-4"})}),g.jsxs("div",{className:"flex flex-col items-center w-full max-w-3xl space-y-4",children:[g.jsx("div",{className:"relative w-full overflow-hidden shadow-2xl rounded-2xl",children:g.jsx("video",{src:"/videoAds/ACF.mp4",autoPlay:!0,playsInline:!0,loop:!0,controls:!0,className:"object-cover w-full h-auto rounded-2xl"})}),g.jsxs("div",{className:"px-6 py-4 space-y-2 text-justify text-white bg-gray-800 rounded-lg shadow",children:[g.jsx("p",{className:"text-base font-semibold",children:'MAGLARO AT MAG ENJOY KASAMA ANG ATING IDOLO NA SI "BAYANI AGBAYANI" DITO LANG YAN SA SABONG INTERNATIONAL PH! '}),g.jsx("p",{className:"text-sm font-medium text-pink-400",children:"Alternative links ACF and Lucky Sabong"}),g.jsx("p",{className:"text-xs text-gray-300",children:"REGISTER NOW!"}),g.jsx("a",{href:"https://player88.tv/?ref=C-181C0131",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-5 py-2 text-sm font-semibold text-white transition bg-green-600 rounded-lg shadow hover:bg-green-500",children:"Register Here"})]})]})]})},xH=()=>g.jsxs("div",{className:"overflow-hidden bg-gray-800 shadow-lg animate-pulse",children:[g.jsx("div",{className:"w-full bg-gray-700 aspect-video"}),g.jsxs("div",{className:"p-2 space-y-2",children:[g.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),g.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),_H=()=>{let t=localStorage.getItem("xstreamGuestId");return t||(t=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",t)),t},bH=({video:t,db:e,navigate:n})=>{const[i,r]=S.useState(t.hearts||0),[o,c]=S.useState(t.commentsCount||0);return S.useEffect(()=>{const h=je(e,"videos",t.id),d=Ht(h,m=>{const y=m.data();y&&r(y.hearts||0)});return()=>d()},[e,t.id]),S.useEffect(()=>{const h=_t(e,"videos",t.id,"comments"),d=Ht(h,m=>{c(m.size)});return()=>d()},[e,t.id]),g.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>n(`/embed/${t.id}`),children:[g.jsx("div",{className:"relative",children:t.thumbnail?g.jsx("img",{src:t.thumbnail,alt:t.description||"",className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"w-full bg-black rounded-t-lg aspect-video"})}),g.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2 px-2 pt-1",children:t.description}),g.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400 px-2 pb-2",children:[g.jsxs("span",{children:[" ",i]}),g.jsxs("span",{children:[" ",o]})]})]})},wH=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(!0),[r,o]=S.useState(12),[c,h]=S.useState(""),[d,m]=S.useState(!1),[y,x]=S.useState(null),[_,E]=S.useState(!1),[A,N]=S.useState(null),I=S.useMemo(()=>_H(),[]),D=On(ot),U=Jn(ot),j=jt();S.useEffect(()=>{const R=Ns(U,async O=>{if(O)try{const M=je(D,"users",O.uid),B=await hn(M);B.exists()?N(B.data()):N({uid:O.uid,email:O.email,provider:O.providerData[0]?.providerId||"email",displayName:O.displayName||"User",avatar:O.photoURL||"/avatar/profile.png"})}catch(M){console.error("Error fetching user data:",M),N({uid:O.uid,email:O.email,provider:O.providerData[0]?.providerId||"email",displayName:O.displayName||"User",avatar:O.photoURL||"/avatar/profile.png"})}else N(null)});return()=>R()},[U,D]),S.useEffect(()=>{const R=_t(D,"videos"),O=Ht(R,M=>{const B=M.docs.map(z=>{const L=z.data(),Qe=(L.hearts||0)+(L.commentsCount||0);return{id:z.id,engagement:Qe,...L}}).filter(z=>z.engagement>0&&!z.exclusive).sort((z,L)=>L.engagement-z.engagement);e(B),i(!1)});return()=>O()},[D]);const q=()=>o(R=>R+12),Y=R=>{R==="HOME"&&j("/"),R==="CATEGORIES"&&m(O=>!O),R==="TOP RATED"&&j("/toprated"),R==="MOST VIEWED"&&j("/mostviewed")},ne=[...new Set(t.map(R=>R.category).filter(Boolean))],P=t.filter(R=>{const O=y?R.category===y:!0,M=c.trim()===""?!0:(R.description||"").toLowerCase().includes(c.trim().toLowerCase());return O&&M});return g.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[g.jsx(Io,{user:A,search:c,setSearch:R=>{h(R),E(R.trim().length>0)},handleNavClick:Y,showCategories:d,availableCategories:ne,setSelectedCategory:x,setShowCategories:m,selectedCategory:y,loading:n}),_&&g.jsx(fc,{searchTerm:c,userId:A?.uid||I,onClose:()=>E(!1),onSelect:R=>{E(!1),j(`/embed/${R}`)}}),g.jsx(np,{}),g.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-6 pb-12",children:[g.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Top Rated Videos"}),g.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:n?Array.from({length:12}).map((R,O)=>g.jsx(xH,{},O)):P.slice(0,r).map(R=>g.jsx(bH,{video:R,db:D,navigate:j},R.id))}),!n&&r<P.length&&g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{onClick:q,className:"px-4 py-2 text-white transition border border-pink-600 rounded hover:bg-pink-600",children:"Load More"})})]}),g.jsx(cc,{})]})},TH=Jn(ot),EH=On(ot),cA=({children:t})=>{const[e,n]=S.useState(!0),[i,r]=S.useState(!1);return S.useEffect(()=>{const o=Ns(TH,async c=>{if(c){const h=je(EH,"users",c.uid),d=await hn(h);d.exists()&&d.data().role==="admin"?r(!0):r(!1)}else r(!1);n(!1)});return()=>o()},[]),e?g.jsx("div",{className:"flex items-center justify-center min-h-screen text-white bg-black",children:g.jsx("div",{className:"text-lg text-pink-500 animate-pulse",children:"Checking access..."})}):i?t:g.jsx(hv,{to:"/2login",replace:!0})},SH=()=>g.jsxs("div",{className:"overflow-hidden bg-gray-800 shadow-lg animate-pulse",children:[g.jsx("div",{className:"w-full bg-gray-700 aspect-video"}),g.jsxs("div",{className:"p-2 space-y-2",children:[g.jsx("div",{className:"w-3/4 h-3 bg-gray-600 rounded"}),g.jsx("div",{className:"w-1/2 h-3 bg-gray-600 rounded"})]})]}),AH=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),RH=()=>{let t=localStorage.getItem("xstreamGuestId");return t||(t=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",t)),t},CH=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(!0),[r,o]=S.useState(12),[c,h]=S.useState(""),[d,m]=S.useState(!1),[y,x]=S.useState(null),[_,E]=S.useState(!1),[A,N]=S.useState(null),I=S.useMemo(()=>RH(),[]),D=On(ot),U=Jn(ot),j=jt();S.useEffect(()=>{const R=Ns(U,async O=>{if(O)try{const M=je(D,"users",O.uid),B=await hn(M);B.exists()?N(B.data()):(console.warn("No user document found for:",O.uid),N({uid:O.uid,email:O.email,provider:O.providerData[0]?.providerId||"email",displayName:O.displayName||"User",avatar:O.photoURL||"/avatar/profile.png"}))}catch(M){console.error("Error fetching user data:",M),N({uid:O.uid,email:O.email,provider:O.providerData[0]?.providerId||"email",displayName:O.displayName||"User",avatar:O.photoURL||"/avatar/profile.png"})}else N(null)});return()=>R()},[U,D]),S.useEffect(()=>{const R=As(_t(D,"videos"),Kl("views","desc")),O=Ht(R,M=>{const B=M.docs.map(z=>({id:z.id,...z.data()})).filter(z=>!z.exclusive);e(B),i(!1)});return()=>O()},[D]);const q=()=>o(R=>R+12),Y=R=>{R==="HOME"&&j("/"),R==="CATEGORIES"&&m(O=>!O),R==="TOP RATED"&&j("/toprated"),R==="MOST VIEWED"&&j("/mostviewed")},ne=[...new Set(t.map(R=>R.category).filter(Boolean))],P=t.filter(R=>{const O=y?R.category===y:!0,M=c.trim()===""?!0:(R.description||"").toLowerCase().includes(c.trim().toLowerCase());return O&&M});return g.jsxs("div",{className:"relative min-h-screen text-white bg-gray-900",children:[g.jsx(Io,{user:A,search:c,setSearch:R=>{h(R),E(R.trim().length>0)},handleNavClick:Y,showCategories:d,availableCategories:ne,setSelectedCategory:x,setShowCategories:m,selectedCategory:y,loading:n}),_&&g.jsx(fc,{searchTerm:c,userId:A?.uid||I,onClose:()=>E(!1),onSelect:R=>{E(!1),j(`/embed/${R}`)}}),g.jsx(np,{}),g.jsxs("main",{className:"max-w-[90rem] mx-auto px-4 pt-6 pb-12",children:[g.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Most Viewed Videos"}),g.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:n?Array.from({length:12}).map((R,O)=>g.jsx(SH,{},O)):P.slice(0,r).map(R=>g.jsxs("div",{className:"overflow-hidden transition-transform bg-gray-800 shadow-lg cursor-pointer hover:scale-105",onClick:()=>j(`/embed/${R.id}`),children:[R.thumbnail?g.jsx("img",{src:R.thumbnail,alt:R.description||"",className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"w-full bg-black rounded-t-lg aspect-video"}),g.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2 px-2 pt-1",children:R.description}),g.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-400 px-2 pb-2",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),g.jsx("span",{children:AH(R.views??0)})]})]},R.id))}),!n&&r<P.length&&g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{onClick:q,className:"px-4 py-2 text-white transition border border-pink-600 rounded hover:bg-pink-600",children:"Load More"})})]}),g.jsx(cc,{})]})},IH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NH=(t,e,n)=>{let i;const r=IH[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Wy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PH={date:Wy({formats:DH,defaultWidth:"full"}),time:Wy({formats:OH,defaultWidth:"full"}),dateTime:Wy({formats:kH,defaultWidth:"full"})},MH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jH=(t,e,n,i)=>MH[t];function Cu(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):c;r=t.formattingValues[h]||t.formattingValues[c]}else{const c=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;r=t.values[h]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const VH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HH=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qH={ordinalNumber:HH,era:Cu({values:VH,defaultWidth:"wide"}),quarter:Cu({values:LH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cu({values:UH,defaultWidth:"wide"}),day:Cu({values:BH,defaultWidth:"wide"}),dayPeriod:Cu({values:FH,defaultWidth:"wide",formattingValues:zH,defaultFormattingWidth:"wide"})};function Iu(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const c=o[0],h=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?$H(h,x=>x.test(c)):GH(h,x=>x.test(c));let m;m=t.valueCallback?t.valueCallback(d):d,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function GH(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $H(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YH(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(r.length);return{value:c,rest:h}}}const KH=/^(\d+)(th|st|nd|rd)?/i,WH=/\d+/i,XH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QH={any:[/^b/i,/^(a|c)/i]},ZH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JH={any:[/1/i,/2/i,/3/i,/4/i]},eq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aq={ordinalNumber:YH({matchPattern:KH,parsePattern:WH,valueCallback:t=>parseInt(t,10)}),era:Iu({matchPatterns:XH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:ZH,defaultMatchWidth:"wide",parsePatterns:JH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Iu({matchPatterns:eq,defaultMatchWidth:"wide",parsePatterns:tq,defaultParseWidth:"any"}),day:Iu({matchPatterns:nq,defaultMatchWidth:"wide",parsePatterns:iq,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:sq,defaultMatchWidth:"any",parsePatterns:rq,defaultParseWidth:"any"})},oq={code:"en-US",formatDistance:NH,formatLong:PH,formatRelative:jH,localize:qH,match:aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};let lq={};function Ph(){return lq}const e4=6048e5,cq=864e5,uA=Symbol.for("constructDateFrom");function ya(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uA in t?t[uA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ji(t,e){return ya(e||t,t)}function hA(t){const e=Ji(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uq(t,...e){const n=ya.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function dA(t,e){const n=Ji(t,e?.in);return n.setHours(0,0,0,0),n}function hq(t,e,n){const[i,r]=uq(n?.in,t,e),o=dA(i),c=dA(r),h=+o-hA(o),d=+c-hA(c);return Math.round((h-d)/cq)}function dq(t,e){const n=Ji(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fq(t,e){const n=Ji(t,e?.in);return hq(n,dq(n))+1}function mh(t,e){const n=Ph(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Ji(t,e?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function pm(t,e){return mh(t,{...e,weekStartsOn:1})}function t4(t,e){const n=Ji(t,e?.in),i=n.getFullYear(),r=ya(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=pm(r),c=ya(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=pm(c);return n.getTime()>=o.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function mq(t,e){const n=t4(t,e),i=ya(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),pm(i)}function pq(t,e){const n=Ji(t,e?.in),i=+pm(n)-+mq(n);return Math.round(i/e4)+1}function n4(t,e){const n=Ji(t,e?.in),i=n.getFullYear(),r=Ph(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=ya(e?.in||t,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=mh(c,e),d=ya(e?.in||t,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const m=mh(d,e);return+n>=+h?i+1:+n>=+m?i:i-1}function gq(t,e){const n=Ph(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=n4(t,e),o=ya(e?.in||t,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),mh(o,e)}function yq(t,e){const n=Ji(t,e?.in),i=+mh(n,e)-+gq(n,e);return Math.round(i/e4)+1}function at(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Wr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return at(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return at(r,e.length)}},bl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fA={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Wr.y(t,e)},Y:function(t,e,n,i){const r=n4(t,i),o=r>0?r:1-r;if(e==="YY"){const c=o%100;return at(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):at(o,e.length)},R:function(t,e){const n=t4(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return at(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return at(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Wr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return at(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=yq(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},I:function(t,e,n){const i=pq(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):at(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wr.d(t,e)},D:function(t,e,n){const i=fq(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):at(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return at(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return at(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return at(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=bl.noon:i===0?r=bl.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=bl.evening:i>=12?r=bl.afternoon:i>=4?r=bl.morning:r=bl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Wr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):at(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):at(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wr.s(t,e)},S:function(t,e){return Wr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return pA(i);case"XXXX":case"XX":return ao(i);case"XXXXX":case"XXX":default:return ao(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return pA(i);case"xxxx":case"xx":return ao(i);case"xxxxx":case"xxx":default:return ao(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mA(i,":");case"OOOO":default:return"GMT"+ao(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mA(i,":");case"zzzz":default:return"GMT"+ao(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return at(i,e.length)},T:function(t,e,n){return at(+t,e.length)}};function mA(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),o=i%60;return o===0?n+String(r):n+String(r)+e+at(o,2)}function pA(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):ao(t,e)}function ao(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=at(Math.trunc(i/60),2),o=at(i%60,2);return n+r+e+o}const gA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},i4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return gA(t,e);let o;switch(i){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",gA(i,e)).replace("{{time}}",i4(r,e))},xq={p:i4,P:vq},_q=/^D+$/,bq=/^Y+$/,wq=["D","DD","YY","YYYY"];function Tq(t){return _q.test(t)}function Eq(t){return bq.test(t)}function Sq(t,e,n){const i=Aq(t,e,n);if(console.warn(i),wq.includes(t))throw new RangeError(i)}function Aq(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Rq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Cq(t){return!(!Rq(t)&&typeof t!="number"||isNaN(+Ji(t)))}const Iq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dq=/^'([^]*?)'?$/,Oq=/''/g,kq=/[a-zA-Z]/;function Pq(t,e,n){const i=Ph(),r=n?.locale??i.locale??oq,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Ji(t,n?.in);if(!Cq(h))throw new RangeError("Invalid time value");let d=e.match(Nq).map(y=>{const x=y[0];if(x==="p"||x==="P"){const _=xq[x];return _(y,r.formatLong)}return y}).join("").match(Iq).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Mq(y)};if(fA[x])return{isToken:!0,value:y};if(x.match(kq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(d=r.localize.preprocessor(h,d));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return d.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!n?.useAdditionalWeekYearTokens&&Eq(x)||!n?.useAdditionalDayOfYearTokens&&Tq(x))&&Sq(x,e,String(t));const _=fA[x[0]];return _(h,x,r.localize,m)}).join("")}function Mq(t){const e=t.match(Dq);return e?e[1].replace(Oq,"'"):t}function jq(){return Object.assign({},Ph())}function yA(t,e,n){const i=jq(),r=Uq(t,n.timeZone,n.locale??i.locale);return"formatToParts"in r?Vq(r,e):Lq(r,e)}function Vq(t,e){const n=t.formatToParts(e);for(let i=n.length-1;i>=0;--i)if(n[i].type==="timeZoneName")return n[i].value}function Lq(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/ [\w-+ ]+$/.exec(n);return i?i[0].substr(1):""}function Uq(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function Bq(t,e){const n=Gq(e);return"formatToParts"in n?zq(n,t):Hq(n,t)}const Fq={year:0,month:1,day:2,hour:3,minute:4,second:5};function zq(t,e){try{const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const o=Fq[n[r].type];o!==void 0&&(i[o]=parseInt(n[r].value,10))}return i}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Hq(t,e){const n=t.format(e),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(i[3],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10)]}const Xy={},vA=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),qq=vA==="06/25/2014, 00:00:00"||vA==="06/25/2014 00:00:00";function Gq(t){return Xy[t]||(Xy[t]=qq?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Xy[t]}function s4(t,e,n,i,r,o,c){const h=new Date(0);return h.setUTCFullYear(t,e,n),h.setUTCHours(i,r,o,c),h}const xA=36e5,$q=6e4,Qy={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function r4(t,e,n){if(!t)return 0;let i=Qy.timezoneZ.exec(t);if(i)return 0;let r,o;if(i=Qy.timezoneHH.exec(t),i)return r=parseInt(i[1],10),_A(r)?-(r*xA):NaN;if(i=Qy.timezoneHHMM.exec(t),i){r=parseInt(i[2],10);const c=parseInt(i[3],10);return _A(r,c)?(o=Math.abs(r)*xA+c*$q,i[1]==="+"?-o:o):NaN}if(Wq(t)){e=new Date(e||Date.now());const c=n?e:Yq(e),h=iv(c,t);return-(n?h:Kq(e,h,t))}return NaN}function Yq(t){return s4(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function iv(t,e){const n=Bq(t,e),i=s4(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=t.getTime();const o=r%1e3;return r-=o>=0?o:1e3+o,i-r}function Kq(t,e,n){let r=t.getTime()-e;const o=iv(new Date(r),n);if(e===o)return e;r-=o-e;const c=iv(new Date(r),n);return o===c?o:Math.max(o,c)}function _A(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const bA={};function Wq(t){if(bA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),bA[t]=!0,!0}catch{return!1}}const Xq=60*1e3,Qq={X:function(t,e,n){const i=Zy(n.timeZone,t);if(i===0)return"Z";switch(e){case"X":return wA(i);case"XXXX":case"XX":return Al(i);case"XXXXX":case"XXX":default:return Al(i,":")}},x:function(t,e,n){const i=Zy(n.timeZone,t);switch(e){case"x":return wA(i);case"xxxx":case"xx":return Al(i);case"xxxxx":case"xxx":default:return Al(i,":")}},O:function(t,e,n){const i=Zy(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+Zq(i,":");case"OOOO":default:return"GMT"+Al(i,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return yA("short",t,n);case"zzzz":default:return yA("long",t,n)}}};function Zy(t,e){const n=t?r4(t,e,!0)/Xq:e?.getTimezoneOffset()??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function gm(t,e){const n=t<0?"-":"";let i=Math.abs(t).toString();for(;i.length<e;)i="0"+i;return n+i}function Al(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=gm(Math.floor(i/60),2),o=gm(Math.floor(i%60),2);return n+r+e+o}function wA(t,e){return t%60===0?(t>0?"-":"+")+gm(Math.abs(t)/60,2):Al(t,e)}function Zq(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;return o===0?n+String(r):n+String(r)+e+gm(o,2)}function TA(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Jq=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Jy=36e5,EA=6e4,eG=2,Un={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Jq};function tG(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?eG:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const i=nG(t),{year:r,restDateString:o}=iG(i.date,n),c=sG(o,r);if(c===null||isNaN(c.getTime()))return new Date(NaN);if(c){const h=c.getTime();let d=0,m;if(i.time&&(d=rG(i.time),d===null||isNaN(d)))return new Date(NaN);if(i.timeZone||e.timeZone){if(m=r4(i.timeZone||e.timeZone,new Date(h+d)),isNaN(m))return new Date(NaN)}else m=TA(new Date(h+d)),m=TA(new Date(h+d+m));return new Date(h+d+m)}else return new Date(NaN)}function nG(t){const e={};let n=Un.dateTimePattern.exec(t),i;if(n?(e.date=n[1],i=n[3]):(n=Un.datePattern.exec(t),n?(e.date=n[1],i=n[2]):(e.date=null,i=t)),i){const r=Un.timeZone.exec(i);r?(e.time=i.replace(r[1],""),e.timeZone=r[1].trim()):e.time=i}return e}function iG(t,e){if(t){const n=Un.YYY[e],i=Un.YYYYY[e];let r=Un.YYYY.exec(t)||i.exec(t);if(r){const o=r[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(r=Un.YY.exec(t)||n.exec(t),r){const o=r[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}}return{year:null}}function sG(t,e){if(e===null)return null;let n,i,r;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let o=Un.MM.exec(t);if(o)return n=new Date(0),i=parseInt(o[1],10)-1,AA(e,i)?(n.setUTCFullYear(e,i),n):new Date(NaN);if(o=Un.DDD.exec(t),o){n=new Date(0);const c=parseInt(o[1],10);return lG(e,c)?(n.setUTCFullYear(e,0,c),n):new Date(NaN)}if(o=Un.MMDD.exec(t),o){n=new Date(0),i=parseInt(o[1],10)-1;const c=parseInt(o[2],10);return AA(e,i,c)?(n.setUTCFullYear(e,i,c),n):new Date(NaN)}if(o=Un.Www.exec(t),o)return r=parseInt(o[1],10)-1,RA(r)?SA(e,r):new Date(NaN);if(o=Un.WwwD.exec(t),o){r=parseInt(o[1],10)-1;const c=parseInt(o[2],10)-1;return RA(r,c)?SA(e,r,c):new Date(NaN)}return null}function rG(t){let e,n,i=Un.HH.exec(t);if(i)return e=parseFloat(i[1].replace(",",".")),e0(e)?e%24*Jy:NaN;if(i=Un.HHMM.exec(t),i)return e=parseInt(i[1],10),n=parseFloat(i[2].replace(",",".")),e0(e,n)?e%24*Jy+n*EA:NaN;if(i=Un.HHMMSS.exec(t),i){e=parseInt(i[1],10),n=parseInt(i[2],10);const r=parseFloat(i[3].replace(",","."));return e0(e,n,r)?e%24*Jy+n*EA+r*1e3:NaN}return null}function SA(t,e,n){e=e||0,n=n||0;const i=new Date(0);i.setUTCFullYear(t,0,4);const r=i.getUTCDay()||7,o=e*7+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}const aG=[31,28,31,30,31,30,31,31,30,31,30,31],oG=[31,29,31,30,31,30,31,31,30,31,30,31];function a4(t){return t%400===0||t%4===0&&t%100!==0}function AA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const i=a4(t);if(i&&n>oG[e]||!i&&n>aG[e])return!1}return!0}function lG(t,e){if(e<1)return!1;const n=a4(t);return!(n&&e>366||!n&&e>365)}function RA(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function e0(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const cG=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function CA(t,e,n={}){e=String(e);const i=e.match(cG);if(i){const r=tG(n.originalDate||t,n);e=i.reduce(function(o,c){if(c[0]==="'")return o;const h=o.indexOf(c),d=o[h-1]==="'",m=o.replace(c,"'"+Qq[c[0]](r,c,n)+"'");return d?m.substring(0,h-1)+m.substring(h+1):m},e)}return Pq(t,e,n)}const Nu=8,uG=()=>g.jsx("div",{className:"h-48 bg-gray-800 rounded-lg animate-pulse"}),hG=(t=0)=>t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),dG=t=>{if(t<=0)return"Expired";const e=Math.floor(t/1e3),n=Math.floor(e/3600),i=Math.floor(e%3600/60),r=e%60;return`${n>0?`${n}h `:""}${i}m ${r}s`},fG=()=>{const t=jt(),e=Jn(ot),n=On(ot),i=fI(ot,"gs://playmo-app-53e1b.firebasestorage.app"),[r,o]=S.useState(null),[c,h]=S.useState(!0),[d,m]=S.useState(""),[y,x]=S.useState(!1),[_,E]=S.useState(!1),[A,N]=S.useState(""),[I,D]=S.useState(null),[U,j]=S.useState(!1),[q,Y]=S.useState([]),[ne,P]=S.useState(!0),[R,O]=S.useState(null),[M,B]=S.useState(!1),[z,L]=S.useState(null),[Qe,he]=S.useState(null);S.useEffect(()=>{const V=Ns(e,async ee=>{if(ee){const ce=je(n,"users",ee.uid),le=await hn(ce);let ue=le.exists()?le.data():{};const we={};ue.accountType||(we.accountType="free"),ue.role||(we.role="user"),Object.keys(we).length>0&&(await Wl(ce,we,{merge:!0}),ue={...ue,...we});let xe=new Date;ue.createdAt?xe=ue.createdAt instanceof bt?ue.createdAt.toDate():new Date(ue.createdAt):ee.metadata?.creationTime&&(xe=new Date(ee.metadata.creationTime));const fe=ue.username||ue.displayName||ee.displayName||"Guest";if(o({id:ee.uid,name:fe,email:ee.email,avatar:ue.avatar||ee.photoURL||"/avatar/profile.png",username:fe,createdAt:xe,accountType:ue.accountType||"free",role:ue.role||"user",exclusiveAccessRemaining:ue.exclusiveAccessRemaining||0,exclusiveAccessExpiry:ue.exclusiveAccessExpiry||null}),N(fe),ue.exclusiveAccessRemaining>0&&L(ue.exclusiveAccessRemaining),ue.exclusiveAccessExpiry){const Re=new Date(ue.exclusiveAccessExpiry);he(CA(Re,"MMMM dd, yyyy hh:mm a",{timeZone:"Asia/Manila"}))}}else t("/");h(!1)});return()=>V()},[e,n,t]),S.useEffect(()=>{if(!z||z<=0)return;const V=setInterval(()=>{L(ee=>ee&&ee>1e3?ee-1e3:0)},1e3);return()=>clearInterval(V)},[z]);const Z=S.useMemo(()=>{let V=localStorage.getItem("xstreamGuestId");return V||(V=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",V)),V},[]);S.useEffect(()=>{if(!r)return;P(!0);const V=_t(n,"users",r.id,"favorites"),ee=As(V,Kl("addedAt","desc"),J1(Nu)),ce=Ht(ee,async le=>{const ue=[];for(const we of le.docs){const xe=we.data().videoId,fe=await hn(je(n,"videos",xe));fe.exists()&&ue.push({id:fe.id,...fe.data()})}Y(ue),O(le.docs[le.docs.length-1]||null),B(le.docs.length===Nu),P(!1)});return()=>ce()},[r,n]);const oe=async()=>{if(!r||!R)return;P(!0);const V=_t(n,"users",r.id,"favorites"),ee=As(V,Kl("addedAt","desc"),tj(R),J1(Nu)),ce=await Gm(ee),le=[];for(const ue of ce.docs){const we=ue.data().videoId,xe=await hn(je(n,"videos",we));xe.exists()&&le.push({id:xe.id,...xe.data()})}Y(ue=>[...ue,...le]),O(ce.docs[ce.docs.length-1]||null),B(ce.docs.length===Nu),P(!1)};if(c)return g.jsx("div",{className:"flex items-center justify-center min-h-screen text-gray-300 bg-gray-900",children:"Loading your profile..."});const me=CA(r.createdAt,"MMMM dd, yyyy hh:mm a",{timeZone:"Asia/Manila"}),ve=async()=>{if(r){j(!0);try{let V=r.avatar;if(I){const ce=dI(i,`avatars/${r.id}`);await uI(ce,I),V=await hI(ce)}const ee=je(n,"users",r.id);await Ni(ee,{displayName:A,username:A,avatar:V,accountType:"free",role:"user"}),await fC(e.currentUser,{displayName:A}),o(ce=>({...ce,name:A,username:A,avatar:V})),E(!1)}catch(V){console.error("Error updating profile:",V),alert("Failed to update profile")}finally{j(!1)}}};return g.jsxs(g.Fragment,{children:[g.jsx(Io,{user:r,search:d,setSearch:V=>{m(V),x(V.trim().length>0)}}),y&&g.jsx(fc,{searchTerm:d,userId:r?.id||Z,onClose:()=>x(!1),onSelect:V=>{x(!1),t(`/embed/${V}`)}}),g.jsx("div",{className:"min-h-screen px-4 py-8 pt-24 text-white bg-gray-900",children:g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsx("h1",{className:"mb-6 text-3xl font-bold text-center text-pink-500",children:"Your Profile"}),g.jsxs("div",{className:"p-6 bg-gray-800 shadow-lg rounded-2xl",children:[g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("img",{src:r.avatar,alt:"User Avatar",className:"object-cover border-2 border-pink-500 rounded-full w-28 h-28"}),g.jsx("h2",{className:"text-xl font-semibold",children:r.name}),g.jsx("p",{className:"text-gray-400",children:r.email})]}),g.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-300",children:[g.jsxs("p",{className:"flex justify-between pb-1 border-b border-gray-700/50",children:[g.jsx("span",{className:"font-medium text-pink-400/90",children:"Username"}),g.jsx("span",{className:"text-gray-200",children:r.username||"N/A"})]}),g.jsxs("p",{className:"flex justify-between pb-1 border-b border-gray-700/50",children:[g.jsx("span",{className:"font-medium text-pink-400/90",children:"Member Since"}),g.jsx("span",{className:"text-gray-200",children:me})]}),g.jsxs("p",{className:"flex justify-between pb-1 border-b border-gray-700/50",children:[g.jsx("span",{className:"font-medium text-pink-400/90",children:"Account Type"}),g.jsx("span",{className:"text-gray-200 capitalize",children:r.accountType})]}),z>0&&g.jsxs("p",{className:"flex justify-between pb-1 border-b border-gray-700/50",children:[g.jsx("span",{className:"font-medium text-pink-400/90",children:"Time Left"}),g.jsx("span",{className:"text-gray-200",children:dG(z)})]}),Qe&&g.jsxs("p",{className:"flex justify-between pb-1 border-b border-gray-700/50",children:[g.jsx("span",{className:"font-medium text-pink-400/90",children:"Valid Until"}),g.jsx("span",{className:"text-gray-200",children:Qe})]})]}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{className:"px-4 py-2 text-sm font-semibold text-white transition bg-pink-600 rounded-lg hover:bg-pink-700",onClick:()=>E(!0),children:"Edit Profile"})})]}),g.jsxs("div",{className:"mt-10",children:[g.jsx("h2",{className:"mb-4 text-xl font-bold text-pink-500",children:"Favorite Videos"}),g.jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:ne?Array.from({length:Nu}).map((V,ee)=>g.jsx(uG,{},ee)):q.map(V=>g.jsxs("div",{className:"relative overflow-hidden transition-transform border border-gray-800 rounded-lg cursor-pointer bg-gray-900/80 hover:border-pink-600 hover:scale-105",onClick:()=>t(`/embed/${V.id}`),children:[g.jsxs("div",{className:"relative",children:[V.thumbnail?g.jsx("img",{src:V.thumbnail,alt:V.description||"Video Thumbnail",className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"w-full bg-black aspect-video"}),V.exclusive&&g.jsx("span",{className:"absolute top-0 right-0 px-2 py-1 text-xs font-medium text-white bg-pink-600 rounded-bl-lg",children:"EXCLUSIVE"}),V.duration&&g.jsx("span",{className:"absolute bottom-1 right-1 px-2 py-0.5 text-xs font-semibold text-white bg-black/60 rounded",children:V.duration})]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"text-[10px] text-gray-300 line-clamp-2",children:V.description}),g.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-400",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),g.jsx("span",{children:hG(V.views??0)})]})]})]},V.id))}),M&&!ne&&g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{className:"px-6 py-2 text-sm font-semibold text-white transition bg-pink-600 rounded-lg hover:bg-pink-700",onClick:oe,children:"Load More"})})]})]})}),_&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:g.jsxs("div",{className:"flex flex-col items-center w-full max-w-md p-6 bg-gray-900 shadow-lg rounded-2xl",children:[g.jsx("img",{src:I?URL.createObjectURL(I):r.avatar,alt:"Avatar Preview",className:"object-cover w-24 h-24 mb-4 border-2 border-pink-500 rounded-full"}),g.jsx("h2",{className:"mb-4 text-xl font-semibold text-pink-500",children:"Edit Profile"}),g.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Username"}),g.jsx("input",{type:"text",value:A,onChange:V=>N(V.target.value),className:"w-full p-2 mb-4 text-black rounded"}),g.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Avatar"}),g.jsx("input",{type:"file",accept:"image/*",onChange:V=>D(V.target.files[0]),className:"w-full mb-4 text-sm text-gray-300"}),g.jsxs("div",{className:"flex justify-end w-full gap-3 mt-4",children:[g.jsx("button",{className:"px-4 py-2 text-sm font-semibold text-gray-300 bg-gray-700 rounded hover:bg-gray-600",onClick:()=>E(!1),children:"Cancel"}),g.jsx("button",{className:`px-4 py-2 text-sm font-semibold text-white rounded ${U?"bg-gray-500":"bg-pink-600 hover:bg-pink-700"}`,onClick:ve,disabled:U,children:U?"Saving...":"Save Changes"})]})]})}),g.jsx(cc,{})]})},mG=()=>{const t=Jn(ot),e=On(ot),n=jt(),[i,r]=S.useState(null),[o,c]=S.useState(!0),[h,d]=S.useState(""),[m,y]=S.useState(!1),[x,_]=S.useState({show:!1,message:"",type:"success"});S.useEffect(()=>{const D=Ns(t,async U=>{if(U){const j=je(e,"users",U.uid),q=await hn(j),Y=q.exists()?q.data():{};r({id:U.uid,email:U.email,provider:U.providerData[0]?.providerId||"email",username:Y.username||U.displayName||"Guest",accountType:Y.accountType||"free",avatar:Y.avatar||U.photoURL||"/avatar/profile.png"})}else n("/");c(!1)});return()=>D()},[t,e,n]);const E=S.useMemo(()=>{let D=localStorage.getItem("xstreamGuestId");return D||(D=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",D)),D},[]),A=(D,U="success")=>{_({show:!0,message:D,type:U}),setTimeout(()=>_({show:!1,message:"",type:"success"}),2e3)},N=async()=>{await em(t),A("Logged out successfully!","success"),setTimeout(()=>n("/"),1e3)},I=async()=>{if(window.confirm("Are you sure you want to delete your account permanently?"))try{await fV(t.currentUser),A("Account deleted","success"),setTimeout(()=>n("/"),1e3)}catch(D){console.error("Error deleting account:",D),A("Failed to delete account","error")}};return o?g.jsx("div",{className:"flex items-center justify-center min-h-screen text-gray-300 bg-gray-900",children:"Loading settings..."}):g.jsxs(g.Fragment,{children:[g.jsx(Io,{user:i,search:h,setSearch:D=>{d(D),y(D.trim().length>0)}}),m&&g.jsx(fc,{searchTerm:h,userId:i?.id||E,onClose:()=>y(!1),onSelect:D=>{y(!1),n(`/embed/${D}`)}}),g.jsx("div",{className:"min-h-screen px-4 py-8 pt-24 text-white bg-gray-900",children:g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsx("h1",{className:"mb-6 text-3xl font-bold text-center text-pink-500",children:"Settings"}),g.jsxs("div",{className:"p-6 space-y-6 bg-gray-800 border border-gray-700 shadow-xl rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-700",children:[g.jsx("img",{src:i?.avatar||"/avatar/profile.png",alt:"User Avatar",className:"object-cover w-16 h-16 border-2 border-pink-500 rounded-full shadow-md"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:i?.username||"Guest User"}),g.jsx("p",{className:"text-sm text-gray-400",children:i?.email||"No email available"}),g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Account Type:"," ",g.jsx("span",{className:"font-medium text-pink-500",children:i?.accountType||"free"})]})]})]}),g.jsxs("div",{className:"flex flex-col items-center gap-3 pt-4 border-t border-gray-700 sm:flex-row sm:justify-between",children:[g.jsx("button",{onClick:N,className:"w-full px-4 py-2 text-sm font-semibold text-gray-200 transition-all bg-gray-700 rounded-lg sm:w-auto hover:bg-gray-600",children:"Logout"}),g.jsx("button",{onClick:I,className:"w-full px-4 py-2 text-sm font-semibold text-white transition-all rounded-lg bg-gradient-to-r from-red-600 to-red-700 sm:w-auto hover:from-red-700 hover:to-red-800",children:"Delete Account"})]})]})]})}),g.jsx(um,{children:x.show&&g.jsx(la.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:`fixed z-50 px-6 py-3 text-white rounded-xl shadow-lg top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${x.type==="success"?"bg-green-600":"bg-red-600"}`,children:x.message})}),g.jsx(cc,{})]})},pG=()=>{const[t,e]=S.useState(null),n=Jn(ot),i=On(ot),r=jt();return S.useEffect(()=>{const o=Ns(n,async c=>{if(c)try{const h=je(i,"users",c.uid),d=await hn(h);d.exists()?e(d.data()):e({displayName:c.displayName||"Guest User",email:c.email,photoURL:c.photoURL||"/avatar/profile.png"})}catch(h){console.error("Error fetching user data:",h)}else e({displayName:"Guest User",photoURL:"/avatar/profile.png"})});return()=>o()},[n,i]),g.jsxs("div",{className:"relative min-h-screen px-4 py-8 text-white bg-gray-900",children:[g.jsx("button",{onClick:()=>r(-1),className:"fixed z-50 p-2 transition bg-gray-800 rounded-full shadow-lg top-4 left-4 hover:bg-pink-600",title:"Go Back",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),g.jsxs("div",{className:"max-w-3xl mx-auto",children:[g.jsx("h1",{className:"mb-6 text-3xl font-bold text-center text-pink-500",children:"Advertise With Us"}),g.jsxs("div",{className:"p-6 bg-gray-800 shadow-lg rounded-2xl",children:[t&&g.jsxs("div",{className:"flex items-center justify-center mb-8 space-x-4 text-center",children:[g.jsx("div",{className:"relative flex items-center justify-center overflow-hidden rounded-full w-14 h-14 hover:ring-2 hover:ring-pink-600",children:g.jsx("img",{src:t.photoURL||t.avatar||"/avatar/profile.png",alt:"User Avatar",className:"object-cover w-full h-full"})}),g.jsxs("div",{className:"text-left",children:[g.jsx("h2",{className:"text-base font-semibold text-white",children:t.displayName||t.username||"Guest User"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Partnering with"})]}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-pink-500 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),g.jsx("img",{src:"/logo.png",alt:"XStream Secrets Logo",className:"w-20 h-auto"})]}),g.jsx("p",{className:"mb-4 text-gray-300",children:"Want to promote your brand or content? Partner with us to reach a growing audience of creative minds and professionals."}),g.jsxs("ul",{className:"pl-5 mb-6 space-y-1 text-gray-400 list-disc",children:[g.jsx("li",{children:"Feature your ad on our homepage"}),g.jsx("li",{children:"Reach thousands of daily visitors"}),g.jsx("li",{children:"Custom ad placement and analytics"})]}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsxs("a",{href:"https://t.me/XStreamSecrets",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-5 py-2 text-sm font-semibold text-white transition bg-pink-600 rounded-lg hover:bg-pink-700",children:[g.jsx("img",{src:"/social/telegram.png",alt:"Telegram",className:"w-5 h-5"}),"Message Us on ",g.jsx("span",{className:"text-blue-400",children:"Telegram"})]})})]})]})]})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),IA=t=>{const e=yG(t);return e.charAt(0).toUpperCase()+e.slice(1)},o4=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),vG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...xG,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:o4("lucide",r),...!o&&!vG(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>S.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=(t,e)=>{const n=S.forwardRef(({className:i,...r},o)=>S.createElement(_G,{ref:o,iconNode:e,className:o4(`lucide-${gG(IA(t))}`,`lucide-${t}`,i),...r}));return n.displayName=IA(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sv=l4("eye-off",bG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rv=l4("eye",wG),NA="/xstream-frontend/social/google.png",TG=()=>{const t=jt(),[e,n]=S.useState(!1),[i,r]=S.useState(!1),[o,c]=S.useState({email:"",password:""}),[h,d]=S.useState({username:"",email:"",password:""}),[m,y]=S.useState(!1),[x,_]=S.useState({message:"",type:""}),E=(U,j="info",q=3e3)=>{_({message:U,type:j}),setTimeout(()=>_({message:"",type:""}),q)},A=async()=>{try{r(!0);const j=(await kV(na,s8)).user,q=je(qi,"users",j.uid);if(!(await hn(q)).exists()){await Wl(q,{uid:j.uid,name:j.displayName,email:j.email,avatar:j.photoURL,provider:"google",createdAt:new Date().toISOString()});const ne=_t(qi,"users",j.uid,"notifications");await oa(ne,{message:"Welcome to XStream!",type:"system",createdAt:new Date().toISOString(),read:!1})}E(`Welcome back, ${j.displayName||"user"}!`,"success"),t("/")}catch(U){console.error("Google sign-in error:",U),E("Google Sign-In failed. Please try again.","error")}finally{r(!1)}},N=async U=>{U.preventDefault();try{r(!0);const{user:j}=await hC(na,h.email,h.password);await fC(j,{displayName:h.username}),await Wl(je(qi,"users",j.uid),{uid:j.uid,username:h.username,displayName:h.username,email:h.email,provider:"email",createdAt:new Date().toISOString()});const q=_t(qi,"users",j.uid,"notifications");await oa(q,{message:"Welcome to XStream!",type:"system",createdAt:new Date().toISOString(),read:!1}),E("Account created successfully! ","success"),t("/")}catch(j){console.error("Signup error:",j);let q="Something went wrong.";j.code==="auth/email-already-in-use"?q="Email already in use. Try signing in instead.":j.code==="auth/invalid-email"?q="Please enter a valid email.":j.code==="auth/weak-password"&&(q="Password should be at least 6 characters."),E(q,"error")}finally{r(!1)}},I=async U=>{U.preventDefault();try{r(!0),await dC(na,o.email,o.password),E("Signed in successfully! ","success"),t("/")}catch(j){console.error("Signin error:",j);let q="Login failed.";j.code==="auth/user-not-found"?q="No account found with that email.":j.code==="auth/wrong-password"?q="Incorrect password. Try again.":j.code==="auth/invalid-email"&&(q="Invalid email format."),E(q,"error")}finally{r(!1)}},D=async()=>{if(!o.email){E("Please enter your email first.","info");return}try{await aV(na,o.email),E("Password reset email sent! Please check your inbox or spam.","success")}catch(U){console.error("Password reset error:",U);let j="Failed to send reset email.";U.code==="auth/user-not-found"&&(j="No user found with that email."),E(j,"error")}};return g.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 to-black",children:[x.message&&g.jsx(la.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-5 px-4 py-2 rounded-lg shadow-lg text-sm font-medium z-50 ${x.type==="success"?"bg-green-600 text-white":x.type==="error"?"bg-red-600 text-white":"bg-gray-700 text-white"}`,children:x.message}),g.jsxs(la.div,{className:"relative w-[90%] sm:w-[360px] h-[460px]",animate:{rotateY:e?180:0},transition:{duration:.7,ease:"easeInOut"},style:{transformStyle:"preserve-3d",perspective:"1000px"},children:[g.jsx("div",{className:"absolute w-full h-full",style:{transform:"rotateY(0deg)",backfaceVisibility:"hidden"},children:g.jsxs("div",{className:"flex flex-col justify-center w-full h-full p-6 bg-gray-900 border border-gray-800 shadow-2xl sm:p-8 rounded-2xl",children:[g.jsx("h2",{className:"mb-6 text-2xl font-bold text-center text-pink-500",children:"Sign In"}),g.jsxs("form",{onSubmit:I,className:"space-y-4",children:[g.jsx("input",{type:"email",required:!0,placeholder:"Email",value:o.email,onChange:U=>c({...o,email:U.target.value}),className:"w-full px-3 py-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:m?"text":"password",required:!0,placeholder:"Password",value:o.password,onChange:U=>c({...o,password:U.target.value}),className:"w-full px-3 py-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"}),g.jsx("button",{type:"button",className:"absolute text-gray-400 right-3 top-2 hover:text-pink-500",onClick:()=>y(!m),children:m?g.jsx(sv,{size:18}):g.jsx(rv,{size:18})})]}),g.jsx("button",{type:"submit",disabled:i,className:"w-full py-2 mt-2 text-sm font-semibold text-white transition rounded-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:opacity-90 disabled:opacity-50",children:i?"Signing In...":"Sign In"})]}),g.jsxs("p",{className:"mt-3 text-sm text-center text-gray-400",children:["Forgot your password?"," ",g.jsx("button",{type:"button",onClick:D,className:"text-blue-400 hover:underline",children:"Reset Password"})]}),g.jsxs("div",{className:"flex items-center my-4",children:[g.jsx("div",{className:"flex-1 h-px bg-gray-700"}),g.jsx("span",{className:"px-2 text-xs text-gray-400",children:"OR"}),g.jsx("div",{className:"flex-1 h-px bg-gray-700"})]}),g.jsxs("button",{onClick:A,disabled:i,className:"flex items-center justify-center w-full py-2 text-sm font-medium text-gray-900 transition bg-white rounded-lg hover:bg-gray-100 disabled:opacity-50",children:[g.jsx("img",{src:NA,alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),g.jsxs("p",{className:"mt-4 text-sm text-center text-gray-400",children:["Dont have an account?"," ",g.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-pink-500 cursor-pointer hover:underline",children:"Sign Up"})]})]})}),g.jsx("div",{className:"absolute w-full h-full",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:g.jsxs("div",{className:"flex flex-col justify-center w-full h-full p-6 bg-gray-900 border border-gray-800 shadow-2xl sm:p-8 rounded-2xl",children:[g.jsx("h2",{className:"mb-6 text-2xl font-bold text-center text-pink-500",children:"Create Account"}),g.jsxs("form",{onSubmit:N,className:"space-y-4",children:[g.jsx("input",{type:"text",required:!0,placeholder:"Username",value:h.username,onChange:U=>d({...h,username:U.target.value}),className:"w-full px-3 py-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"}),g.jsx("input",{type:"email",required:!0,placeholder:"Email",value:h.email,onChange:U=>d({...h,email:U.target.value}),className:"w-full px-3 py-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:m?"text":"password",required:!0,placeholder:"Password",value:h.password,onChange:U=>d({...h,password:U.target.value}),className:"w-full px-3 py-2 text-sm text-white placeholder-gray-400 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600"}),g.jsx("button",{type:"button",className:"absolute text-gray-400 right-3 top-2 hover:text-pink-500",onClick:()=>y(!m),children:m?g.jsx(sv,{size:18}):g.jsx(rv,{size:18})})]}),g.jsx("button",{type:"submit",disabled:i,className:"w-full py-2 mt-2 text-sm font-semibold text-white transition rounded-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:opacity-90 disabled:opacity-50",children:i?"Creating...":"Sign Up"})]}),g.jsxs("div",{className:"flex items-center my-4",children:[g.jsx("div",{className:"flex-1 h-px bg-gray-700"}),g.jsx("span",{className:"px-2 text-xs text-gray-400",children:"OR"}),g.jsx("div",{className:"flex-1 h-px bg-gray-700"})]}),g.jsxs("button",{onClick:A,disabled:i,className:"flex items-center justify-center w-full py-2 text-sm font-medium text-gray-900 transition bg-white rounded-lg hover:bg-gray-100 disabled:opacity-50",children:[g.jsx("img",{src:NA,alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),g.jsxs("p",{className:"mt-4 text-sm text-center text-gray-400",children:["Already have an account?"," ",g.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-pink-500 cursor-pointer hover:underline",children:"Sign In"})]})]})})]})]})},EG=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(!1),[r,o]=S.useState(!0),[c,h]=S.useState(!1),[d,m]=S.useState(null),[y,x]=S.useState(""),_=jt(),[E]=uk(),A=Jn();S.useEffect(()=>{const I=E.get("oobCode"),D=E.get("mode");if(!I||D!=="resetPassword"){m({type:"error",text:" Invalid or expired link."}),o(!1);return}x(I),cV(A,I).then(()=>o(!1)).catch(U=>{console.error("Invalid reset code:",U),m({type:"error",text:" Invalid or expired link."}),o(!1)})},[A,E]);const N=async I=>{if(I.preventDefault(),!!t){h(!0);try{await oV(A,y,t),m({type:"success",text:" Password updated successfully! Redirecting..."}),setTimeout(()=>_("/signin"),2e3)}catch(D){console.error("Password reset failed:",D),m({type:"error",text:" Failed to reset password. Try again."})}finally{h(!1)}}};return r?g.jsx("p",{className:"mt-10 text-center text-white",children:"Loading..."}):g.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 border border-gray-700 shadow-xl bg-gray-800/80 backdrop-blur-md rounded-3xl",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("img",{src:"/logo.png",alt:"Logo",className:"object-contain w-24 h-24"})}),g.jsx("h2",{className:"mb-4 text-3xl font-bold text-center text-white",children:"Set New Password"}),g.jsx("p",{className:"mb-6 text-sm text-center text-gray-300",children:"Enter your new password below to secure your account."}),g.jsxs("form",{onSubmit:N,className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:n?"text":"password",placeholder:"New Password",value:t,onChange:I=>e(I.target.value),className:"w-full px-4 py-3 text-sm text-white placeholder-gray-400 transition bg-gray-700 border border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0}),g.jsx("button",{type:"button",className:"absolute text-gray-400 right-3 top-3 hover:text-pink-400",onClick:()=>i(!n),children:n?g.jsx(sv,{size:18}):g.jsx(rv,{size:18})})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 text-sm font-semibold text-white transition shadow-lg bg-gradient-to-r from-pink-500 to-purple-500 rounded-xl hover:scale-105 disabled:opacity-50",children:c?"Updating...":"Set Password"})]}),d&&g.jsx("p",{className:`mt-4 text-center text-sm ${d.type==="success"?"text-green-400":"text-red-400"}`,children:d.text}),g.jsxs("p",{className:"mt-6 text-sm text-center text-gray-300",children:["Remember your password?"," ",g.jsx("button",{onClick:()=>_("/signin"),className:"font-semibold text-pink-400 hover:underline",children:"Sign In"})]})]})})},SG="modulepreload",AG=function(t){return"/xstream-frontend/"+t},DA={},OA=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");r=m(n.map(y=>{if(y=AG(y),y in DA)return;DA[y]=!0;const x=y.endsWith(".css"),_=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const E=document.createElement("link");if(E.rel=x?"stylesheet":SG,x||(E.as="script"),E.crossOrigin="",E.href=y,d&&E.setAttribute("nonce",d),document.head.appendChild(E),x)return new Promise((A,N)=>{E.addEventListener("load",A),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return r.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},RG=On(ot),CG=({show:t,onClose:e,userId:n,wallet:i,amount:r})=>{const o=jt(),[c,h]=S.useState(i||"gcash"),[d,m]=S.useState(""),[y,x]=S.useState(""),[_,E]=S.useState(null),[A,N]=S.useState(!1),[I,D]=S.useState("pending"),U=S.useRef(null);if(S.useEffect(()=>{t&&i&&(h(i),D("pending"),N(!1),E(null),m(""),x(""))},[t,i]),S.useEffect(()=>{!t&&I==="processing"&&D("pending")},[t,I]),!t)return null;const j=()=>{switch(`${c}${r}`){case"gcash5":return"/e-wallet/gcash5.jpeg";case"gcash10":return"/e-wallet/gcash10.jpeg";case"maya5":return"/e-wallet/maya5.jpeg";case"maya10":return"/e-wallet/maya10.jpeg";default:return""}},q=async()=>{if(!_||!d||!y){alert("Please fill in all fields and upload your receipt.");return}if(t){D("processing");try{const Y=dI(o8,`receipts/${n}/${Date.now()}_${_.name}`);await uI(Y,_);const ne=await hI(Y);if(!t)return;const P=_t(RG,"users",n,"receipts");await oa(P,{wallet:c,accountNumber:d,refNumber:y,amount:parseFloat(r),receiptURL:ne,createdAt:rj(),status:"processing"}),D("submitted"),E(null),m(""),x(""),setTimeout(()=>{o("/exclusive")},4e3)}catch(Y){console.error("Upload error:",Y),D("error"),alert("Upload failed, please try again.")}}};return g.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsxs("div",{ref:U,className:"relative p-6 bg-gray-900 border border-gray-700 shadow-xl rounded-2xl w-96",children:[g.jsx("button",{onClick:e,className:"absolute text-gray-400 top-3 right-3 hover:text-pink-500",children:""}),g.jsx("h2",{className:"mb-2 text-lg font-semibold text-center text-pink-500",children:A?"Upload Receipt Form":"Scan QR Code / Screenshot"}),c&&g.jsxs("p",{className:"mb-4 text-sm text-center text-gray-300",children:["Selected Wallet:"," ",g.jsx("span",{className:"font-semibold text-white capitalize",children:c})]}),!A&&g.jsxs("div",{className:"flex flex-col items-center mb-4",children:[g.jsx("img",{src:j(),alt:`${c} ${r}`,className:"object-contain w-32 h-32"}),g.jsxs("p",{className:"mt-2 text-sm text-gray-300",children:["Amount: ",r]}),g.jsx("button",{onClick:()=>N(!0),className:"mt-2 text-sm font-semibold text-pink-500 underline transition-colors hover:text-pink-400",children:"Upload Receipt to complete transaction"})]}),A&&g.jsx("form",{onSubmit:Y=>Y.preventDefault(),children:g.jsxs("div",{className:"pt-4 mb-4 text-left border-t border-gray-700",children:[g.jsx("label",{className:"text-sm text-gray-300",children:"Wallet Selected"}),g.jsx("div",{className:"flex gap-4 mb-2",children:g.jsx("img",{src:`/e-wallet/${c}.png`,alt:c,className:"w-20 h-20"})}),g.jsx("label",{className:"text-sm text-gray-300",children:"Account / Number"}),g.jsx("input",{type:"text",value:d,onChange:Y=>m(Y.target.value),className:"w-full px-3 py-2 text-black rounded-lg"}),g.jsx("label",{className:"text-sm text-gray-300",children:"Amount"}),g.jsx("input",{type:"number",value:r,readOnly:!0,className:"w-full px-3 py-2 text-black bg-gray-200 rounded-lg"}),g.jsx("label",{className:"text-sm text-gray-300",children:"Reference Number"}),g.jsx("input",{type:"text",value:y,onChange:Y=>x(Y.target.value),className:"w-full px-3 py-2 text-black rounded-lg"}),g.jsx("label",{className:"text-sm text-gray-300",children:"Upload Receipt"}),g.jsx("input",{type:"file",accept:"image/*",onChange:Y=>E(Y.target.files[0]),className:"w-full text-gray-300"}),g.jsx("div",{className:"flex justify-center mt-3",children:g.jsx("button",{type:"button",onClick:q,disabled:I==="processing"||!_,className:"px-6 py-2 text-sm font-medium text-white bg-pink-600 rounded-lg hover:bg-pink-700 disabled:opacity-50",children:I==="processing"?"Processing...":"Submit"})})]})}),I==="submitted"&&g.jsxs("div",{className:"mt-4 text-center",children:[g.jsx("p",{className:"font-semibold text-green-400",children:" Your receipt has been submitted successfully!"}),g.jsxs("div",{className:"flex items-center justify-center mt-2 text-sm text-gray-300",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 mr-2 text-pink-500 animate-spin",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2"})}),g.jsx("span",{children:"Processing... Please wait for admin approval."})]})]}),I==="error"&&g.jsx("p",{className:"mt-2 text-sm text-center text-red-500",children:" Upload failed. Please try again."})]})})},kA=({userId:t})=>{const[e,n]=S.useState([]),[i,r]=S.useState(!1),[o,c]=S.useState(null),[h,d]=S.useState(null),[m,y]=S.useState({}),x=On(ot),_=[{price:5,description:"3 hrs / 1 day"},{price:10,description:"7 hrs / 2 days"}],E=A=>{const N=_.find(I=>I.price===Number(A));return N?N.description:"N/A"};return S.useEffect(()=>{if(!t)return;const A=As(_t(x,"users",t,"receipts"),Kl("createdAt","desc"));Gm(A).then(N=>{if(N.empty)r(!1);else{r(!0);const I=Ht(A,D=>{const U=D.docs.map(q=>({id:q.id,...q.data()}));n(U);const j={};U.forEach(q=>{j[q.id]=q.remarks||""}),y(j)});return()=>I()}}).catch(N=>{console.error("Error fetching transactions:",N),r(!1)})},[x,t]),S.useEffect(()=>{if(!o||!t)return;const A=je(x,"users",t,"receipts",o.id),N=Ht(A,I=>{I.exists()&&(d({id:I.id,...I.data()}),y(D=>({...D,[I.id]:I.data().remarks||""})))});return()=>N()},[o,x,t]),i?e.length===0?g.jsx("div",{className:"py-3 text-sm text-center text-gray-400 border-t border-gray-700",children:"No transactions yet."}):g.jsxs("div",{className:"pt-3 mt-5 border-t border-gray-700",children:[g.jsx("h3",{className:"mb-3 text-sm font-semibold text-center text-pink-400",children:"Transactions"}),g.jsx("div",{className:"space-y-2 overflow-y-auto max-h-40",children:e.map(A=>{const N=A.status?A.status.toLowerCase():"pending";let I,D;return N==="Verified"?(I=g.jsx(g8,{className:"text-green-400"}),D="text-green-400"):N==="Rejected"?(I=g.jsx(R8,{className:"text-red-400"}),D="text-red-400"):(I=g.jsx(w8,{className:"text-yellow-400"}),D="text-yellow-400"),g.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-gray-300 rounded-lg bg-gray-800/70",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"font-medium text-white",children:["",A.amount,"  ",A.wallet?.toUpperCase()]}),g.jsxs("p",{className:"font-medium text-gray-400",children:["Rate Selected: ",E(A.amount)]}),g.jsx("p",{className:"text-gray-400",children:A.createdAt?.toDate?A.createdAt.toDate().toLocaleString():A.createdAt?new Date(A.createdAt).toLocaleString():""})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`flex items-center gap-1 ${D}`,children:[I,g.jsx("span",{className:"capitalize",children:N})]}),g.jsxs("button",{onClick:()=>c(A),className:"flex items-center gap-1 px-2 py-1 text-white transition-all bg-pink-600 rounded-md hover:bg-pink-700",children:[g.jsx(jx,{}),"View"]})]})]},A.id)})}),o&&h&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:g.jsxs("div",{className:"relative w-[90%] max-w-md sm:max-w-lg p-6 bg-gradient-to-b from-gray-900 to-gray-800 border border-gray-700 shadow-2xl rounded-2xl",children:[g.jsx("button",{onClick:()=>c(null),className:"absolute text-gray-400 hover:text-white top-3 right-3",children:g.jsx(C8,{size:18})}),g.jsx("h2",{className:"mb-4 text-lg font-semibold text-center text-pink-400 sm:text-xl",children:"Receipt Details"}),g.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Wallet:"})," ",h.wallet?.toUpperCase()]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Amount:"})," ",h.amount]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Rate Selected:"})," ",E(h.amount)]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Ref Number:"})," ",h.refNumber]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Account:"})," ",h.accountNumber]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Status:"})," ",g.jsx("span",{className:`capitalize font-semibold ${h.status==="verified"?"text-green-400":h.status==="rejected"?"text-red-400":"text-yellow-400"}`,children:h.status})]}),g.jsxs("p",{children:[g.jsx("span",{className:"font-medium text-gray-400",children:"Remarks:"})," ",g.jsx("span",{className:"text-red-400",children:h.remarks||""})]})]}),h.receiptURL&&g.jsx("div",{className:"mt-5 overflow-hidden border border-gray-700 rounded-xl bg-gray-800/60 max-h-64",children:g.jsx("div",{className:"overflow-y-auto max-h-64",children:g.jsx("img",{src:h.receiptURL,alt:"Receipt",className:"object-contain w-full"})})}),g.jsx("div",{className:"mt-5 text-xs text-center text-gray-500",children:"Updated Receipts"})]})})]}):null},IG=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString(),NG=[{price:5,description:"3 Hours Access / 1 Day Validity",durationMs:3*60*60*1e3,validityMs:24*60*60*1e3},{price:10,description:"7 Hours Access / 2 Days Validity",durationMs:7*60*60*1e3,validityMs:48*60*60*1e3}],DG=()=>{const t=jt(),e=Jn(ot),n=On(ot),[i,r]=S.useState(null),[o,c]=S.useState(!0),[h,d]=S.useState([]),[m,y]=S.useState(null),[x,_]=S.useState(""),[E,A]=S.useState(!1),[N,I]=S.useState(null),[D,U]=S.useState(null),[j,q]=S.useState(null),[Y,ne]=S.useState({usage:"",validity:""}),[P,R]=S.useState(!1),[O,M]=S.useState(!1),[B,z]=S.useState({wallet:null,amount:null}),[L,Qe]=S.useState(!1),[he,Z]=S.useState(!1),[oe,me]=S.useState(10),[ve,V]=S.useState(null),[ee,ce]=S.useState(null),[le,ue]=S.useState(!1),we=S.useMemo(()=>{let fe=localStorage.getItem("xstreamGuestId");return fe||(fe=`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("xstreamGuestId",fe)),fe},[]);S.useEffect(()=>{const fe=Ns(e,async Re=>{if(Re)try{const pt=je(n,"users",Re.uid),gt=await hn(pt);if(gt.exists()){const ft=gt.data();r({...Re,...ft,avatar:ft.avatar||Re.photoURL||"/avatar/profile.png",displayName:ft.displayName||Re.displayName||"User"}),q(ft.exclusiveAccessExpiry||null)}else r({uid:Re.uid,email:Re.email,provider:Re.providerData[0]?.providerId||"email",displayName:Re.displayName||"User",avatar:Re.photoURL||"/avatar/profile.png"})}catch(pt){console.error("Error fetching user data:",pt)}else r(null);c(!1)});return()=>fe()},[e,n]),S.useEffect(()=>{if(!i?.uid)return;const fe=je(n,"users",i.uid),Re=Ht(fe,pt=>{if(!pt.exists())return;const gt=pt.data();V(gt.exclusiveAccessExpiry||null),ce(gt.exclusiveAccessRemaining??null),ue(gt.exclusiveAccessStarted??!1),q(gt.exclusiveAccessExpiry||null)});return()=>Re()},[i?.uid]),S.useEffect(()=>{const fe=As(_t(n,"videos"),rx("exclusive","==",!0)),Re=Ht(fe,pt=>{const gt=pt.docs.map(ft=>({id:ft.id,...ft.data()}));d(gt.sort((ft,kn)=>kn.createdAt?.seconds-ft.createdAt?.seconds))});return()=>Re()},[n]),S.useEffect(()=>{if(!ve||ee==null||!i?.uid){ne({usage:"",validity:""});return}let fe=ee;const Re=Date.parse(ve);let pt=Date.now(),gt,ft;const kn=()=>{const Ct=Date.now(),Fn=Re-Ct;if(Fn<=0||fe<=0){ne("Expired"),clearInterval(gt),clearInterval(ft);return}const Ds=Math.floor(fe/(1e3*60*60)),wn=Math.floor(fe/(1e3*60)%60),Ta=Math.floor(fe/1e3%60),es=Math.floor(Fn/(1e3*60*60)),ts=Math.floor(Fn/(1e3*60)%60);ne({usage:`${Ds}h ${wn}m ${Ta}s`,validity:`${es}h ${ts}m`})};kn(),le&&(gt=setInterval(()=>{const Ct=Date.now(),Fn=Ct-pt;pt=Ct,fe-=Fn,kn()},1e3),ft=setInterval(()=>{OA(async()=>{const{updateExclusiveAccessRemaining:Ct}=await Promise.resolve().then(()=>lA);return{updateExclusiveAccessRemaining:Ct}},[]).then(({updateExclusiveAccessRemaining:Ct})=>{Ct(n,i.uid,fe)})},1e4));const De=async()=>{fe>0&&i?.uid&&(OA(async()=>{const{updateExclusiveAccessRemaining:Ct}=await Promise.resolve().then(()=>lA);return{updateExclusiveAccessRemaining:Ct}},void 0).then(({updateExclusiveAccessRemaining:Ct})=>{Ct(n,i.uid,fe)}),await ue(n,i.uid,!1))};return window.addEventListener("beforeunload",De),()=>{clearInterval(gt),clearInterval(ft),window.removeEventListener("beforeunload",De)}},[ve,ee,le,n,i?.uid]),S.useEffect(()=>{if(!i?.uid)return;ve&&ee>0&&ue(n,i.uid,!0);const fe=ip(n,i.uid);return()=>{fe?.(),ue(n,i.uid,!1)}},[i?.uid,ve,ee,n]);const xe=()=>{!N||!D||(z({wallet:N,amount:D.price,expiry:new Date(Date.now()+D.validityMs).toISOString(),remaining:D.durationMs,description:D.description}),A(!1),setTimeout(()=>M(!0),400),I(null),U(null))};return o?g.jsx(fm,{text:"Checking authentication..."}):g.jsxs("div",{className:"min-h-screen text-white bg-black",children:[g.jsx(um,{children:L&&g.jsx(fm,{text:"Processing your payment..."})}),g.jsx(Io,{search:x,setSearch:_,user:i,userId:i?.uid||we,setShowCategories:()=>{},showCategories:!1}),g.jsx("div",{className:"relative w-full mt-16 mb-8 overflow-hidden bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900",children:g.jsxs(la.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"px-6 py-12 mx-auto text-center max-w-7xl",children:[g.jsx("div",{className:"flex flex-col items-center gap-2 mb-3",children:ve&&Y!=="Expired"?g.jsx("div",{className:"flex flex-col items-center gap-1",children:g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-lg",children:[g.jsx(v8,{className:"text-xs"}),Y==="Expired"?g.jsx(g.Fragment,{children:"Expired"}):g.jsxs("div",{className:"flex flex-col items-center text-xs",children:[g.jsxs("span",{children:["Access Time Left: ",Y.usage]}),g.jsxs("span",{className:"text-gray-300",children:["Validity: ",Y.validity]})]})]})}):g.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-lg hover:bg-pink-700",children:[g.jsx(D8,{className:"text-sm"})," Top-Up to Unlock Access"]})}),g.jsx("h1",{className:"mt-6 text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-fuchsia-500",children:"Unlock Exclusive Premium Videos"}),g.jsx("p",{className:"mt-2 text-gray-400",children:"Enjoy exclusive content with timed access after top-up."})]})}),g.jsxs("div",{className:"px-4 pb-10 sm:px-6 lg:px-10",children:[g.jsxs("div",{className:"flex flex-col items-start justify-between mb-6 sm:flex-row sm:items-center",children:[g.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold text-pink-500",children:[g.jsx(A8,{className:"text-yellow-400"})," Exclusive Videos"]}),g.jsx("div",{className:"relative mt-3 sm:mt-0",children:g.jsxs("select",{value:m||"All",onChange:fe=>y(fe.target.value==="All"?null:fe.target.value),className:"px-3 py-1 text-sm text-white bg-gray-800 border border-pink-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-600",children:[g.jsx("option",{value:"All",children:"All"}),[...new Set(h.map(fe=>fe.category).filter(Boolean))].map(fe=>g.jsx("option",{value:fe,children:fe},fe))]})})]}),h.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-gray-400",children:[g.jsx(T8,{className:"mb-3 text-4xl text-gray-600"}),g.jsx("p",{children:"No exclusive videos available yet."})]}):g.jsxs(g.Fragment,{children:[g.jsx(la.div,{layout:!0,className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:h.filter(fe=>!m||fe.category===m).slice(0,oe).map(fe=>g.jsxs(la.div,{whileHover:{scale:1.05},className:"relative overflow-hidden transition border border-gray-800 rounded-lg bg-gray-900/80 hover:border-pink-600",children:[g.jsxs("div",{className:"relative cursor-pointer",onClick:()=>{!j||Y==="Expired"?B?.wallet&&B?.amount?Z(!0):R(!0):t(`/embed/${fe.id}`)},children:[fe.thumbnail?g.jsx("img",{src:fe.thumbnail,alt:fe.description,className:"object-cover w-full aspect-video"}):g.jsx("div",{className:"flex items-center justify-center w-full text-gray-500 bg-gray-800 aspect-video",children:"No Thumbnail"}),g.jsx("span",{className:"absolute top-0 right-0 px-2 py-1 text-xs font-medium text-white bg-pink-600 rounded-bl-lg",children:"EXCLUSIVE"})]}),g.jsxs("div",{className:"px-2 py-3 text-sm",children:[g.jsx("p",{className:"mb-1 font-semibold text-pink-400 truncate",children:fe.category}),g.jsx("p",{className:"text-gray-300 truncate",children:fe.description}),g.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-400",children:[g.jsxs("span",{children:[IG(fe.views??0)," views"]}),g.jsx("span",{children:fe.duration||"N/A"})]})]})]},fe.id))}),oe<h.filter(fe=>!m||fe.category===m).length&&g.jsx("div",{className:"flex justify-center mt-8",children:g.jsx("button",{onClick:()=>me(fe=>fe+10),className:"px-4 py-2 text-white transition border border-pink-600 rounded hover:bg-pink-600",children:"Load More"})})]})]}),he&&i?.uid&&g.jsxs("div",{className:"px-4 pb-10 sm:px-6 lg:px-10",children:[g.jsx("h2",{className:"mb-4 text-xl font-bold text-pink-500",children:"Pending / Processing Transactions"}),g.jsx(kA,{userId:i.uid}),g.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 mt-4 text-sm font-medium text-white bg-pink-600 rounded-lg hover:bg-pink-700",children:"Close"})]}),P&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsxs("div",{className:"p-6 text-center bg-gray-900 border border-gray-700 rounded-2xl",children:[g.jsx("h2",{className:"mb-3 text-lg font-semibold text-pink-500",children:"Access Required"}),g.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Your premium access has expired or isnt active. Please top up to unlock exclusive videos."}),g.jsx("button",{onClick:()=>{R(!1),A(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-pink-600 rounded-lg hover:bg-pink-700",children:"Top Up Now"})]})}),E&&g.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/70 backdrop-blur-md",children:g.jsxs("div",{className:"relative p-6 bg-gray-900 border border-gray-700 shadow-xl w-96 rounded-2xl",children:[g.jsx("button",{onClick:()=>{A(!1),I(null),U(null)},className:"absolute text-gray-400 transition top-3 right-3 hover:text-pink-500",children:""}),g.jsx("h2",{className:"mb-4 text-lg font-semibold text-center text-pink-500",children:"Top Up Balance"}),!N&&g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("p",{className:"text-sm text-center text-gray-300",children:"Choose your e-wallet:"}),g.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[g.jsx("img",{src:"/e-wallet/gcash.png",alt:"GCash",onClick:()=>I("gcash"),className:"object-contain w-24 h-24 p-2 transition-all duration-200 border cursor-pointer rounded-xl hover:border-pink-500 hover:scale-105"}),g.jsx("img",{src:"/e-wallet/maya.png",alt:"Maya",onClick:()=>I("maya"),className:"object-contain w-24 h-24 p-2 transition-all duration-200 border cursor-pointer rounded-xl hover:border-pink-500 hover:scale-105"})]}),i&&g.jsx(kA,{userId:i.uid})]}),N&&!D&&g.jsxs("div",{className:"mt-4",children:[g.jsx("p",{className:"mb-2 text-sm text-center text-gray-300",children:"Select a rate:"}),g.jsx("div",{className:"flex flex-col gap-3",children:NG.map((fe,Re)=>g.jsxs("button",{onClick:()=>U(fe),className:"px-4 py-2 text-sm font-medium text-white transition-all border rounded-lg hover:bg-pink-600 hover:border-pink-600",children:["",fe.price," (",fe.description,")"]},Re))})]}),N&&D&&g.jsxs("div",{className:"flex flex-col items-center mt-4 text-center",children:[g.jsx("img",{src:`/e-wallet/${N}.png`,alt:N,className:"object-contain mb-4 rounded-xl w-28 h-28"}),g.jsxs("p",{className:"text-sm text-gray-300",children:["Selected: ",g.jsx("span",{className:"font-semibold text-white capitalize",children:N})]}),g.jsxs("p",{className:"text-sm text-gray-400",children:["Access Validity: ",g.jsx("span",{className:"font-semibold text-white",children:D.description})]}),g.jsxs("p",{className:"text-sm text-gray-400",children:["Amount to Pay: ",g.jsxs("span",{className:"font-semibold text-white",children:["",D.price]})]}),g.jsx("button",{onClick:xe,className:"px-6 py-2 mt-4 text-sm font-medium text-white transition-all duration-200 rounded-lg shadow-lg bg-gradient-to-r from-pink-600 to-fuchsia-600 hover:from-pink-700 hover:to-fuchsia-700",children:"Pay Now"})]})]})}),g.jsx(um,{children:O&&g.jsx(CG,{show:O,onClose:()=>M(!1),userId:i?.uid||we,wallet:B.wallet,amount:B.amount,expiry:j})})]})},zi=({children:t})=>{const e=localStorage.getItem("xstream-progress"),n=Pi();return e!=="dashboard"?(localStorage.setItem("xstream-intended-path",n.pathname),g.jsx(hv,{to:"/age-verification",state:{from:n},replace:!0})):t};function OG(){const[t,e]=S.useState(!0),n=jt(),i=()=>{e(!1),localStorage.getItem("xstream-progress")||(localStorage.setItem("xstream-progress","awareness"),n("/age-verification",{replace:!0}))},r=()=>{localStorage.setItem("xstream-progress","dashboard");const c=localStorage.getItem("xstream-intended-path");c?(n(c,{replace:!0}),localStorage.removeItem("xstream-intended-path")):n("/",{replace:!0})},o=()=>{window.location.href="https://www.google.com"};return S.useEffect(()=>{const c=setTimeout(()=>e(!1),2500);return()=>clearTimeout(c)},[]),g.jsx("div",{className:"min-h-screen text-white bg-black",children:t?g.jsx(gk,{onDone:i}):g.jsxs(PO,{children:[g.jsx(yn,{path:"/age-verification",element:g.jsx(yk,{onEnter:r,onExit:o})}),g.jsx(yn,{path:"/",element:g.jsx(zi,{children:g.jsx(_z,{})})}),g.jsx(yn,{path:"/toprated",element:g.jsx(zi,{children:g.jsx(wH,{})})}),g.jsx(yn,{path:"/mostviewed",element:g.jsx(zi,{children:g.jsx(CH,{})})}),g.jsx(yn,{path:"/profile",element:g.jsx(zi,{children:g.jsx(fG,{})})}),g.jsx(yn,{path:"/settings",element:g.jsx(zi,{children:g.jsx(mG,{})})}),g.jsx(yn,{path:"/advertise",element:g.jsx(zi,{children:g.jsx(pG,{})})}),g.jsx(yn,{path:"/exclusive",element:g.jsx(zi,{children:g.jsx(DG,{})})}),g.jsx(yn,{path:"/2admin",element:g.jsx(cA,{children:g.jsx(Tz,{})})}),g.jsx(yn,{path:"/2admin/users",element:g.jsx(cA,{children:g.jsx(wz,{})})}),g.jsx(yn,{path:"/2login",element:g.jsx(Az,{})}),g.jsx(yn,{path:"/sponsored",element:g.jsx(zi,{children:g.jsx(vH,{})})}),g.jsx(yn,{path:"/embed/:id",element:g.jsx(zi,{children:g.jsx(yH,{})})}),g.jsx(yn,{path:"/signup",element:g.jsx(zi,{children:g.jsx(TG,{})})}),g.jsx(yn,{path:"/reset-password",element:g.jsx(zi,{children:g.jsx(EG,{})})}),g.jsx(yn,{path:"*",element:g.jsx(hv,{to:"/",replace:!0})})]})})}function kG(){return g.jsx(rk,{children:g.jsx(OG,{})})}const PA=document.getElementById("root");PA&&zD.createRoot(PA).render(g.jsx(hi.StrictMode,{children:g.jsx(kG,{})}));
